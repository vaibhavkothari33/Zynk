!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.websdk=t():e.websdk=t()}(this,(function(){return function(){var __webpack_modules__={4537:function(e){"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,i=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,s){r[n]=function(e){if(i)if(i=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,s(e))}}))}},7419:function(e,t){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),o=new Array(123),i=0;i<64;)o[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,r){for(var o,i=null,s=[],a=0,u=0;t<r;){var c=e[t++];switch(u){case 0:s[a++]=n[c>>2],o=(3&c)<<4,u=1;break;case 1:s[a++]=n[o|c>>4],o=(15&c)<<2,u=2;break;case 2:s[a++]=n[o|c>>6],s[a++]=n[63&c],u=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return u&&(s[a++]=n[o],s[a++]=61,1===u&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,i=r,a=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&a>1)break;if(void 0===(c=o[c]))throw Error(s);switch(a){case 0:n=c,a=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,a=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,a=3;break;case 3:t[r++]=(3&n)<<6|c,a=0}}if(1===a)throw Error(s);return r-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},5124:function(e){"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function o(e){if("string"!=typeof e){var r=i();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var s=Object.keys(e),a=new Array(s.length+1),u=new Array(s.length),c=0;c<s.length;)a[c]=s[c],u[c]=e[s[c++]];return a[c]=r,Function.apply(null,a).apply(null,u)}return Function(r)()}for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=l[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),d!==l.length)throw Error("parameter count mismatch");return n.push(e),o}function i(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return o.toString=i,o}e.exports=t,t.verbose=!1},9211:function(e){"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},9054:function(e,t,r){"use strict";e.exports=i;var n=r(4537),o=r(7199)("fs");function i(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&o&&o.readFile?o.readFile(e,(function(n,o){return n&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,r):n?r(n):r(null,t.binary?o:o.toString("utf8"))})):i.xhr(e,t,r):n(i,this,e,t)}i.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var o=0;o<n.responseText.length;++o)e.push(255&n.responseText.charCodeAt(o))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},945:function(e){"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function s(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,s=8388607&n;return 255===i?s?NaN:o*(1/0):0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,o),e.readFloatBE=s.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,o,i){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((s<<31|2146435072)>>>0,o,i+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,o,i+t),e((s<<31|a/4294967296)>>>0,o,i+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=n*Math.pow(2,-u))>>>0,o,i+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,o,i+r)}}}function s(e,t,r,n,o){var i=e(n,o+t),s=e(n,o+r),a=2*(s>>31)+1,u=s>>>20&2047,c=4294967296*(1048575&s)+i;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,o,0,4),e.readDoubleBE=s.bind(null,i,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},8626:function(e,t){"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),o="";r&&(o=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):r?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return o+t.join("/")};r.resolve=function(e,t,r){return r||(t=o(t)),n(t)?t:(r||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}},6662:function(e){"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,s=n;return function(r){if(r<1||r>o)return e(r);s+r>n&&(i=e(n),s=0);var a=t.call(i,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},4997:function(e,t){"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],s=0;t<r;)(n=e[t++])<128?i[s++]=n:n>191&&n<224?i[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(n>>10),i[s++]=56320+(1023&n)):i[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},r.write=function(e,t,r){for(var n,o,i=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&o),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},4188:function(e,t,r){var n,o,i;!function(s){"use strict";if(null!=t&&"number"!=typeof t.nodeType)e.exports=s();else if(null!=r.amdO)o=[],void 0===(i="function"==typeof(n=s)?n.apply(t,o):n)||(e.exports=i);else{var a=s(),u="undefined"!=typeof self?self:$.global;"function"!=typeof u.btoa&&(u.btoa=a.btoa),"function"!=typeof u.atob&&(u.atob=a.atob)}}((function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(r){for(var n,o,i=String(r),s=0,a=e,u="";i.charAt(0|s)||(a="=",s%1);u+=a.charAt(63&n>>8-s%1*8)){if((o=i.charCodeAt(s+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|o}return u},atob:function(r){var n=String(r).replace(/[=]+$/,"");if(n.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,s=0,a=0,u="";i=n.charAt(a++);~i&&(o=s%4?64*o+i:i,s++%4)?u+=String.fromCharCode(255&o>>(-2*s&6)):0)i=e.indexOf(i);return u}}}))},4363:function(e,t,r){"use strict";r.d(t,{w:function(){return i}}),r(9601),r(2772);var n=r(7360),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e){var t,r,i,s=e.id,a=e.payload,u=e.timestamp,c=e.to,l=a.bodies&&a.bodies.length>0?a.bodies[0]:{},d={},f={},p=a.type?a.type:c.indexOf("@conference.easemob.com")>-1?"groupChat":"singleChat";switch(p="chat"===p?"singleChat":p,l.type){case"txt":var h=null===(t=null==a?void 0:a.meta)||void 0===t?void 0:t.edit_msg;if(d={id:s,type:"txt",chatType:p,msg:l.msg||"",to:a.to||"",from:a.from,time:u,ext:a.ext},h){var _=h.edit_time,E=h.operator,y=h.count;d.modifiedInfo={operationTime:_,operatorId:E,operationCount:y}}break;case"img":d={id:s,type:"img",chatType:p,to:a.to,from:a.from,time:u,ext:a.ext,width:(null===(r=l.size)||void 0===r?void 0:r.width)||0,height:(null===(i=l.size)||void 0===i?void 0:i.height)||0,secret:l.secret||"",url:(null==l?void 0:l.url)||"",file_length:l.file_length||0,file:{}};break;case"video":d={id:s,type:"video",chatType:p,from:a.from,to:a.to,url:(null==l?void 0:l.url)||"",secret:l.secret||"",filename:l.filename,length:l.length||0,file:{},file_length:l.file_length||0,filetype:a.ext.file_type||"",ext:a.ext,time:u};break;case"loc":d={id:s,type:"loc",chatType:p,from:a.from,to:a.to,buildingName:l.buildingName||"",addr:l.addr,lat:l.lat,lng:l.lng,ext:a.ext,time:u};break;case"audio":d={id:s,type:"audio",chatType:p,from:a.from,to:a.to,secret:l.secret||"",ext:a.ext,time:u,url:(null==l?void 0:l.url)||"",file:{},filename:l.filename,length:l.length||0,file_length:l.file_length||0,filetype:a.ext.file_type||""};break;case"file":d={id:s,type:"file",chatType:p,from:a.from,to:a.to,ext:a.ext,time:u,url:(null==l?void 0:l.url)||"",secret:l.secret||"",file:{},filename:l.filename||"",file_length:l.file_length||0,filetype:a.ext.file_type||""};break;case"cmd":d={id:s,type:"cmd",chatType:p,from:a.from,to:a.to,ext:a.ext,time:u,action:l.action||""};break;case"custom":d={id:s,type:"custom",chatType:p,from:a.from,to:a.to,ext:a.ext,time:u,customEvent:l.customEvent||"",customExts:l.customExts||""};break;case"combine":d={id:s,type:"combine",chatType:p,msg:l.msg||"",to:a.to||"",from:a.from,time:u,ext:a.ext,title:l.title||"",summary:l.summary||"",url:(null==l?void 0:l.url)||"",compatibleText:l.text,combineLevel:l.combineLevel||0,secret:l.secret||"",filename:l.filename||"",file_length:l.file_length||0};break;default:n.kg.error("unexpected message: ".concat(e))}if(a.msgConfig&&(f.msgConfig=a.msgConfig),null==a?void 0:a.meta){var v=a.meta;v.thread&&(f.chatThread={messageId:v.thread.msg_parent_id,parentId:v.thread.muc_parent_id,chatThreadName:v.thread.thread_name}),v.reactions&&(f.reactions=v.reactions),v.translations&&(f.translations=v.translations)}return o(o({},d),f)}},2071:function(e,t,r){"use strict";r.d(t,{$x:function(){return a},F3:function(){return u},Nl:function(){return o},TJ:function(){return i},Tp:function(){return d},Wc:function(){return n},el:function(){return s},iB:function(){return c},yK:function(){return l}}),r(6992),r(1532),r(1539),r(8783),r(3948);var n=7,o=new Map,i=new Map,s="im",a="32f24ab2ddb74f508aa9286c356cec84",u=1e3,c={INIT:9674,API:9675},l="direct",d=-1},1595:function(e,t,r){"use strict";var n,o,i,s,a,u;r.d(t,{C8:function(){return n},aC:function(){return u},c:function(){return i},dd:function(){return a},fI:function(){return o},td:function(){return s}}),function(e){e[e.UNKNOWOPERATION=-1]="UNKNOWOPERATION",e[e.REST_GET_SESSION_LIST=1]="REST_GET_SESSION_LIST",e[e.REST_DEL_SESSION=2]="REST_DEL_SESSION",e[e.REST_GET_HISTORY_MESSAGE=3]="REST_GET_HISTORY_MESSAGE",e[e.REST_PIN_CONVERSATION=4]="REST_PIN_CONVERSATION",e[e.REST_OPERATE=10]="REST_OPERATE",e[e.MSYNC_SENDMESSAGE=11]="MSYNC_SENDMESSAGE",e[e.MSYNC_RECALLMESSAGE=12]="MSYNC_RECALLMESSAGE",e[e.MSYNC_MODIFYMESSAGE=13]="MSYNC_MODIFYMESSAGE",e[e.MSYNC_OPERATE=20]="MSYNC_OPERATE",e[e.ROSTER_ADD=21]="ROSTER_ADD",e[e.ROSTER_REMOVE=22]="ROSTER_REMOVE",e[e.ROSTER_ACCEPT=23]="ROSTER_ACCEPT",e[e.ROSTER_DECLINE=24]="ROSTER_DECLINE",e[e.ROSTER_BAN=25]="ROSTER_BAN",e[e.ROSTER_ALLOW=26]="ROSTER_ALLOW",e[e.ROSTER_BLACKLIST=27]="ROSTER_BLACKLIST",e[e.ROSTER_CONTACTS=28]="ROSTER_CONTACTS",e[e.ROSTER_OPERATE=30]="ROSTER_OPERATE",e[e.USER_LOGIN=31]="USER_LOGIN",e[e.USER_CREATE=32]="USER_CREATE",e[e.USER_UPDATE_USERINFO=33]="USER_UPDATE_USERINFO",e[e.USER_FETCH_USERINFO=34]="USER_FETCH_USERINFO",e[e.USER_UPDATE_NICK=35]="USER_UPDATE_NICK",e[e.USER_UPLOAD_PUSH_TOKEN=36]="USER_UPLOAD_PUSH_TOKEN",e[e.USER_OPERATE=40]="USER_OPERATE",e[e.GROUP_CREATEGROUP=41]="GROUP_CREATEGROUP",e[e.GROUP_BLOCK_MESSAGE=42]="GROUP_BLOCK_MESSAGE",e[e.GROUP_FETCH_PUBLICGROUPS_WITHCURSOR=43]="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",e[e.GROUP_FETCH_USERS_GROUP=44]="GROUP_FETCH_USERS_GROUP",e[e.GROUP_CHANGE_OWNER=45]="GROUP_CHANGE_OWNER",e[e.GROUP_FETCH_SPECIFICATION=46]="GROUP_FETCH_SPECIFICATION",e[e.GROUP_CHANGE_GROUPATTRIBUTE=47]="GROUP_CHANGE_GROUPATTRIBUTE",e[e.GROUP_FETCH_MEMEBERS=48]="GROUP_FETCH_MEMEBERS",e[e.GROUP_GET_ADMIN=49]="GROUP_GET_ADMIN",e[e.GROUP_SET_ADMIN=50]="GROUP_SET_ADMIN",e[e.GROUP_REMOVE_ADMIN=51]="GROUP_REMOVE_ADMIN",e[e.GROUP_DESTOTYGROUP=52]="GROUP_DESTOTYGROUP",e[e.GROUP_LEAVEGROUP=53]="GROUP_LEAVEGROUP",e[e.GROUP_INVITE_TO_GROUP=54]="GROUP_INVITE_TO_GROUP",e[e.GROUP_JOIN_PUBLICGROUP=55]="GROUP_JOIN_PUBLICGROUP",e[e.GROUP_ACCEPT_JOINPUBLICGROUPAPPL=56]="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",e[e.GROUP_DECLINE_JOINPUBLICGROUPAPPL=57]="GROUP_DECLINE_JOINPUBLICGROUPAPPL",e[e.GROUP_ACCEPT_INVITATION=58]="GROUP_ACCEPT_INVITATION",e[e.GROUP_DECLINE_INVITATION=59]="GROUP_DECLINE_INVITATION",e[e.GROUP_REMOVE_MEMBER=60]="GROUP_REMOVE_MEMBER",e[e.GROUP_REMOVE_MEMBERS=61]="GROUP_REMOVE_MEMBERS",e[e.GROUP_MUTE_MEMBERS=62]="GROUP_MUTE_MEMBERS",e[e.GROUP_UNMUTE_MEMBERS=63]="GROUP_UNMUTE_MEMBERS",e[e.GROUP_FETCH_MUTES=64]="GROUP_FETCH_MUTES",e[e.GROUP_BLOCK_MEMBER=65]="GROUP_BLOCK_MEMBER",e[e.GROUP_BLOCK_MEMBERS=66]="GROUP_BLOCK_MEMBERS",e[e.GROUP_UNBLOCK_MEMBER=67]="GROUP_UNBLOCK_MEMBER",e[e.GROUP_UNBLOCK_MEMBERS=68]="GROUP_UNBLOCK_MEMBERS",e[e.GROUP_GET_BLOCK_LIST=69]="GROUP_GET_BLOCK_LIST",e[e.GROUP_MUTE_ALLMEMBERS=70]="GROUP_MUTE_ALLMEMBERS",e[e.GROUP_UNMUTE_ALLMEMBERS=71]="GROUP_UNMUTE_ALLMEMBERS",e[e.GROUP_ADD_WHITELIST=72]="GROUP_ADD_WHITELIST",e[e.GROUP_REMOVE_WHITELIST=73]="GROUP_REMOVE_WHITELIST",e[e.GROUP_FETCH_WHITELIST=74]="GROUP_FETCH_WHITELIST",e[e.GROUP_IS_IN_WHITELIST=75]="GROUP_IS_IN_WHITELIST",e[e.GROUP_GET_READ_USERS=76]="GROUP_GET_READ_USERS",e[e.GROUP_FETCH_ANNOUNCEMENT=77]="GROUP_FETCH_ANNOUNCEMENT",e[e.GROUP_UPDATE_ANNOUNCEMENT=78]="GROUP_UPDATE_ANNOUNCEMENT",e[e.GROUP_UPLOAD_SHAREDFILE=79]="GROUP_UPLOAD_SHAREDFILE",e[e.GROUP_DELETE_SHAREDFILE=80]="GROUP_DELETE_SHAREDFILE",e[e.GROUP_FETCH_SHAREDFILE=81]="GROUP_FETCH_SHAREDFILE",e[e.GROUP_DOWNLOAD_SHAREDFILE=82]="GROUP_DOWNLOAD_SHAREDFILE",e[e.GROUP_MEMBER_SET_META_DATA=83]="GROUP_MEMBER_SET_META_DATA",e[e.GROUP_MEMBER_FETCH_META_DATA=84]="GROUP_MEMBER_FETCH_META_DATA",e[e.GROUP_OPERATE=100]="GROUP_OPERATE",e[e.CHATROOM_FETCH_CHATROOMSWITHPAGE=101]="CHATROOM_FETCH_CHATROOMSWITHPAGE",e[e.CHATROOM_CREATECHATROOM=102]="CHATROOM_CREATECHATROOM",e[e.CHATROOM_DESTORYCHATROOM=103]="CHATROOM_DESTORYCHATROOM",e[e.CHATROOM_FETCH_SPECIFICATION=104]="CHATROOM_FETCH_SPECIFICATION",e[e.CHATROOM_CHANGE_ATTRIBUTE=105]="CHATROOM_CHANGE_ATTRIBUTE",e[e.CHATROOM_REMOVE_MEMBER=106]="CHATROOM_REMOVE_MEMBER",e[e.CHATROOM_REMOVE_MEMBERS=107]="CHATROOM_REMOVE_MEMBERS",e[e.CHATROOM_ADD_MEMBERS=108]="CHATROOM_ADD_MEMBERS",e[e.CHATROOM_JOINCAHTROOM=109]="CHATROOM_JOINCAHTROOM",e[e.CHATROOM_LEAVECAHTROOM=110]="CHATROOM_LEAVECAHTROOM",e[e.CHATROOM_FETCH_MEMBERS=111]="CHATROOM_FETCH_MEMBERS",e[e.CHATROOM_GET_ADMIN=112]="CHATROOM_GET_ADMIN",e[e.CHATROOM_SET_ADMIN=113]="CHATROOM_SET_ADMIN",e[e.CHATROOM_REMOVE_ADMIN=114]="CHATROOM_REMOVE_ADMIN",e[e.CHATROOM_MUTE_USER=115]="CHATROOM_MUTE_USER",e[e.CHATROOM_UNMUTE_USER=116]="CHATROOM_UNMUTE_USER",e[e.CHATROOM_FETCH_MUTES=117]="CHATROOM_FETCH_MUTES",e[e.CHATROOM_BLOCK_USER=118]="CHATROOM_BLOCK_USER",e[e.CHATROOM_BLOCK_USERS=119]="CHATROOM_BLOCK_USERS",e[e.CHATROOM_UNBLOCK_USER=120]="CHATROOM_UNBLOCK_USER",e[e.CHATROOM_UNBLOCK_USERS=121]="CHATROOM_UNBLOCK_USERS",e[e.CHATROOM_FETCH_BANS=122]="CHATROOM_FETCH_BANS",e[e.CHATROOM_MUTE_ALLMEMEBERS=123]="CHATROOM_MUTE_ALLMEMEBERS",e[e.CHATROOM_UNMUTE_ALLMEMEBERS=124]="CHATROOM_UNMUTE_ALLMEMEBERS",e[e.CHATROOM_ADD_WHITELIST=125]="CHATROOM_ADD_WHITELIST",e[e.CHATROOM_REMOVE_WHITELIST=126]="CHATROOM_REMOVE_WHITELIST",e[e.CHATROOM_FETCH_WHITELIST=127]="CHATROOM_FETCH_WHITELIST",e[e.CHATROOM_FETCH_MEMBERIN_WHITELIST=128]="CHATROOM_FETCH_MEMBERIN_WHITELIST",e[e.CHATROOM_FETCH_ANNOUNCEMENT=129]="CHATROOM_FETCH_ANNOUNCEMENT",e[e.CHATROOM_UPDATE_ANNOUNCEMENT=130]="CHATROOM_UPDATE_ANNOUNCEMENT",e[e.CHATROOM_REMOVE_SHARE_FILE=131]="CHATROOM_REMOVE_SHARE_FILE",e[e.CHATROOM_GET_SHARE_FILE_LIST=132]="CHATROOM_GET_SHARE_FILE_LIST",e[e.CHATROOM_UPLOAD_FILE=133]="CHATROOM_UPLOAD_FILE",e[e.CHATROOM_SET_META_DATA=134]="CHATROOM_SET_META_DATA",e[e.CHATROOM_DELETE_META_DATA=135]="CHATROOM_DELETE_META_DATA",e[e.CHATROOM_FETCH_META_DATA=136]="CHATROOM_FETCH_META_DATA",e[e.CHATROOM_OPERATE=150]="CHATROOM_OPERATE"}(n||(n={})),function(e){e.SDK_INTERNAL="SDK_INTERNAL",e.LOGIN="USER_LOGIN",e.REGISTER="USER_CREATE",e.GET_CHATROOM_LIST="CHATROOM_FETCH_CHATROOMSWITHPAGE",e.CREATE_CHATROOM="CHATROOM_CREATECHATROOM",e.DESTROY_CHATROOM="CHATROOM_DESTORYCHATROOM",e.GET_CHATROOM_DETAIL="CHATROOM_FETCH_SPECIFICATION",e.MODIFY_CHATROOM="CHATROOM_CHANGE_ATTRIBUTE",e.REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBER",e.MULTI_REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBERS",e.ADD_USERS_TO_CHATROOM="CHATROOM_ADD_MEMBERS",e.JOIN_CHATROOM="CHATROOM_JOINCAHTROOM",e.QUIT_CHATROOM="CHATROOM_LEAVECAHTROOM",e.LIST_CHATROOM_MEMBERS="CHATROOM_FETCH_MEMBERS",e.GET_CHATROOM_ADMIN="CHATROOM_GET_ADMIN",e.SET_CHATROOM_ADMIN="CHATROOM_SET_ADMIN",e.REMOVE_CHATROOM_ADMIN="CHATROOM_REMOVE_ADMIN",e.MUTE_CHATROOM_MEMBER="CHATROOM_MUTE_USER",e.REMOVE_MUTE_CHATROOM_MEMBER="CHATROOM_UNMUTE_USER",e.GET_MUTE_CHATROOM_MEMBERS="CHATROOM_FETCH_MUTES",e.SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USER",e.MULTI_SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USERS",e.REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USER",e.MULTI_REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USERS",e.GET_CHATROOM_BLOCK_MEMBERS="CHATROOM_FETCH_BANS",e.DISABLED_CHATROOM_SEND_MSG="CHATROOM_MUTE_ALLMEMEBERS",e.ENABLE_CHATROOM_SEND_MSG="CHATROOM_UNMUTE_ALLMEMEBERS",e.ADD_CHATROOM_WHITE_USERS="CHATROOM_ADD_WHITELIST",e.REMOVE_CHATROOM_WHITE_USERS="CHATROOM_REMOVE_WHITELIST",e.GET_CHATROOM_WHITE_USERS="CHATROOM_FETCH_WHITELIST",e.CHECK_CHATROOM_WHITE_USER="CHATROOM_FETCH_MEMBERIN_WHITELIST",e.GET_CHATROOM_ANN="CHATROOM_FETCH_ANNOUNCEMENT",e.UPDATE_CHATROOM_ANN="CHATROOM_UPDATE_ANNOUNCEMENT",e.DELETE_CHATROOM_FILE="CHATROOM_REMOVE_SHARE_FILE",e.GET_CHATROOM_FILES="CHATROOM_GET_SHARE_FILE_LIST",e.UPLOAD_CHATROOM_FILE="CHATROOM_UPLOAD_FILE",e.SET_CHATROOM_ATTR="CHATROOM_SET_META_DATA",e.DELETE_CHATROOM_ATTR="CHATROOM_DELETE_META_DATA",e.GET_CHATROOM_ATTR="CHATROOM_FETCH_META_DATA",e.CREATE_GROUP="GROUP_CREATEGROUP",e.BLOCK_GROUP="GROUP_BLOCK_MESSAGE",e.LIST_GROUP="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",e.GET_USER_GROUP="GROUP_FETCH_USERS_GROUP",e.CHANGE_OWNER="GROUP_CHANGE_OWNER",e.GET_GROUP_INFO="GROUP_FETCH_SPECIFICATION",e.MODIFY_GROUP="GROUP_CHANGE_GROUPATTRIBUTE",e.LIST_GROUP_MEMBER="GROUP_FETCH_MEMEBERS",e.GET_GROUP_ADMIN="GROUP_GET_ADMIN",e.SET_GROUP_ADMIN="GROUP_SET_ADMIN",e.REMOVE_GROUP_ADMIN="GROUP_REMOVE_ADMIN",e.DISSOLVE_GROUP="GROUP_DESTOTYGROUP",e.QUIT_GROUP="GROUP_LEAVEGROUP",e.INVITE_TO_GROUP="GROUP_INVITE_TO_GROUP",e.JOIN_GROUP="GROUP_JOIN_PUBLICGROUP",e.AGREE_JOIN_GROUP="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",e.REJECT_JOIN_GROUP="GROUP_DECLINE_JOINPUBLICGROUPAPPL",e.AGREE_INVITE_GROUP="GROUP_ACCEPT_INVITATION",e.REJECT_INVITE_GROUP="GROUP_DECLINE_INVITATION",e.REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBER",e.MULTI_REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBERS",e.MUTE_GROUP_MEMBER="GROUP_MUTE_MEMBERS",e.UNMUTE_GROUP_MEMBER="GROUP_UNMUTE_MEMBERS",e.GET_GROUP_MUTE_LIST="GROUP_FETCH_MUTES",e.BLOCK_GROUP_MEMBER="GROUP_BLOCK_MEMBER",e.BLOCK_GROUP_MEMBERS="GROUP_BLOCK_MEMBERS",e.UNBLOCK_GROUP_MEMBER="GROUP_UNBLOCK_MEMBER",e.UNBLOCK_GROUP_MEMBERS="GROUP_UNBLOCK_MEMBERS",e.GET_GROUP_BLACK_LIST="GROUP_GET_BLOCK_LIST",e.DISABLED_SEND_GROUP_MSG="GROUP_MUTE_ALLMEMBERS",e.ENABLE_SEND_GROUP_MSG="GROUP_UNMUTE_ALLMEMBERS",e.ADD_USERS_TO_GROUP_WHITE="GROUP_ADD_WHITELIST",e.REMOVE_GROUP_WHITE_MEMBER="GROUP_REMOVE_WHITELIST",e.GET_GROUP_WHITE_LIST="GROUP_FETCH_WHITELIST",e.IS_IN_GROUP_WHITE_LIST="GROUP_IS_IN_WHITELIST",e.GET_GROUP_MSG_READ_USER="GROUP_GET_READ_USERS",e.GET_GROUP_ANN="GROUP_FETCH_ANNOUNCEMENT",e.UPDATE_GROUP_ANN="GROUP_UPDATE_ANNOUNCEMENT",e.UPLOAD_GROUP_FILE="GROUP_UPLOAD_SHAREDFILE",e.DELETE_GROUP_FILE="GROUP_DELETE_SHAREDFILE",e.GET_GROUP_FILE_LIST="GROUP_FETCH_SHAREDFILE",e.DOWN_GROUP_FILE="GROUP_DOWNLOAD_SHAREDFILE",e.SET_GROUP_MEMBER_ATTRS="GROUP_MEMBER_SET_META_DATA",e.GET_GROUP_MEMBER_ATTR="GROUP_MEMBER_FETCH_META_DATA",e.GET_SESSION_LIST="REST_GET_SESSION_LIST",e.DELETE_SESSION="REST_DEL_SESSION",e.GET_HISTORY_MSG="REST_GET_HISTORY_MESSAGE",e.PIN_CONVERSATION="REST_PIN_CONVERSATION",e.UPDATE_USER_INFO="USER_UPDATE_USERINFO",e.GET_USER_INFO="USER_FETCH_USERINFO",e.UPDATE_USER_NICK="USER_UPDATE_NICK",e.UPLOAD_PUSH_TOKEN="USER_UPLOAD_PUSH_TOKEN",e.GET_BLACK_LIST="ROSTER_BLACKLIST",e.GET_CONTACTS="ROSTER_CONTACTS",e.add="ROSTER_ADD",e.remove="ROSTER_REMOVE",e.accept="ROSTER_ACCEPT",e.decline="ROSTER_DECLINE",e.ban="ROSTER_BAN",e.allow="ROSTER_ALLOW",e.SEND_MSG="MSYNC_SENDMESSAGE",e.UPLOAD_MSG_ATTACH="UPLOAD_MSG_ATTACH",e.SEND_RECALL_MSG="MSYNC_RECALLMESSAGE",e.MODIFY_MESSAGE="MSYNC_MODIFYMESSAGE"}(o||(o={})),function(e){e.GET_DNS="REST_DNSLIST",e.LOGIN_BY_AGORA_TOKEN="LOGIN_BY_AGORA_TOKEN",e.LOGIN_BY_PWD="LOGIN_BY_PWD",e.RESISTER="REGISTER"}(i||(i={})),function(e){e[e["5G"]=7]="5G",e[e["4G"]=7]="4G",e[e["3G"]=7]="3G",e[e["2G"]=7]="2G",e[e["SLOW-2G"]=7]="SLOW-2G",e[e.WIFI=2]="WIFI",e[e.LAN=1]="LAN",e[e.DISCONNECTED=0]="DISCONNECTED",e[e.NONE=0]="NONE",e[e.UNKNOWN=-1]="UNKNOWN",e[e["WEBIM UNABLE TO GET"]=-2]="WEBIM UNABLE TO GET"}(s||(s={})),function(e){e[e.success=200]="success",e[e.failed=500]="failed"}(a||(a={})),function(e){e[e.web=0]="web",e[e.native=1]="native"}(u||(u={}))},1070:function(e,t,r){"use strict";r.d(t,{g:function(){return S},Z:function(){return ce}}),r(9601),r(1539),r(8674),r(2526),r(1817),r(2165),r(6992),r(8783),r(3948),r(7042),r(2222),r(3710),r(9714),r(5212),r(8309),r(2772),r(9653),r(3843),r(1038),r(2564),r(7941),r(9753),r(8264),r(9575),r(2472),r(2990),r(8927),r(3105),r(5035),r(4345),r(7174),r(2846),r(4731),r(7209),r(6319),r(8867),r(7789),r(3739),r(9368),r(4483),r(2056),r(3462),r(678),r(7462),r(3824),r(5021),r(2974),r(5016),r(6699),r(2023),r(561),r(3161),r(9554),r(4747),r(285),r(1637),r(8145),r(1249),r(4812);var n=r(4188),o=r.n(n),i=r(3720),s=r.n(i),a=r(5531),u=r(8161),c=r(7360),l=["public","members_only","allow_user_invites","invite_need_confirm"],d={name:"name",title:"name",description:"description",public:"public",members_only:"approval",allow_user_invites:"allowInvites",max_users:"maxUsers",invite_need_confirm:"inviteNeedConfirm",custom:"ext",last_modified:"lastModified"};function f(e,t){var r,n,o,i,s,a,u=this,c=this.context,f=c.userId,p=c.jid,h=t.from.name===f&&p.clientResource!==t.from.clientResource;return t.isThread?(o={id:t.mucId.name,name:t.mucName,operation:"",parentId:t.mucParentId.name,operator:t.from.name,userName:t.to.length?t.to[0].name:""},i={chatThreadId:t.mucId.name,chatThreadName:t.mucName,operation:"",parentId:t.mucParentId.name}):(n={type:"",owner:t.from.name,gid:t.mucId.name,from:t.from.name,fromJid:t.from,to:t.to.length?t.to[0].name:"",toJid:t.to,chatroom:t.isChatroom,status:t.status},s={operation:"",id:t.mucId.name,from:t.from.name},t.isChatroom&&(null===(r=null==t?void 0:t.eventInfo)||void 0===r?void 0:r.ext)&&(a=JSON.parse(t.eventInfo.ext))),({45:function(){var e,r,n;s.operation="memberAttributesUpdate";var o=JSON.parse(null===(e=null==t?void 0:t.eventInfo)||void 0===e?void 0:e.ext)||{};s.attributes=o.properties||{},s.userId=o.username||"",h?null===(r=u.eventHandler)||void 0===r||r.dispatch("onMultiDeviceEvent",s):null===(n=u.eventHandler)||void 0===n||n.dispatch("onGroupEvent",s)},44:function(){var e;s.operation="removeChatRoomAttributes",s.attributes=a.result.successKeys,a.result.successKeys.length>0&&(null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomEvent",s))},43:function(){var e;s.operation="updateChatRoomAttributes";var t={};a.result.successKeys.forEach((function(e){t[e]=a.properties[e]})),s.attributes=t,a.result.successKeys.length>0&&(null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomEvent",s))},42:function(){},41:function(){},40:function(){},39:function(){},38:function(){var e;i.operation="chatThreadNameUpdate",null===(e=u.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},37:function(){var e;o.operation="userRemove",null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatThreadChange",o)},36:function(){var e;i.operation="chatThreadLeave",null===(e=u.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},35:function(){var e;i.operation="chatThreadJoin",null===(e=u.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},34:function(){var e;i.operation="chatThreadDestroy",null===(e=u.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},33:function(){var e;i.operation="chatThreadCreate",null===(e=u.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",i)},32:function(){var e,r,o,i;n.type=t.isChatroom?"rmChatRoomMute":"rmGroupMute",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="unmuteAllMembers",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},31:function(){var e,r,o,i;n.type=t.isChatroom?"muteChatRoom":"muteGroup",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="muteAllMembers",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},30:function(){var e,r,o,i;n.type=t.isChatroom?"rmUserFromChatRoomWhiteList":"rmUserFromGroupWhiteList",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="removeAllowlistMember",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},29:function(){var e,r,o,i;n.type=t.isChatroom?"addUserToChatRoomWhiteList":"addUserToGroupWhiteList",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="addUserToAllowlist",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},28:function(){var e,r,o,i;n.type="deleteFile",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="deleteFile",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},27:function(){var e,r,o,i;n.type="uploadFile",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="uploadFile",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},26:function(){var e,r,o,i;n.type="deleteAnnouncement",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="deleteAnnouncement",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},25:function(){var e,r,o,i;n.type="updateAnnouncement",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="updateAnnouncement",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},24:function(){var e,r,o,i;n.type="removeMute",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="unmuteMember",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},23:function(){var e,r,o,i;n.type="addMute",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="muteMember",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},22:function(){var e,r,o,i;n.type="removeAdmin",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="removeAdmin",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},21:function(){var e,r,o,i;n.type="addAdmin",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="setAdmin",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},20:function(){var e,r,o,i;n.type="changeOwner",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="changeOwner",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},19:function(){var e,r,o,i;n.type="direct_joined",n.groupName=t.mucName,u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="directJoined",s.name=t.mucName,t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},18:function(){var e,r,o,i;n.type=t.isChatroom?"leaveChatRoom":"leaveGroup",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="memberAbsence",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},17:function(){var e,r,o,i;n.type=t.isChatroom?"memberJoinChatRoomSuccess":"memberJoinPublicGroupSuccess",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="memberPresence",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},16:function(){var e,r;n.type="unblock",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n)},15:function(){var e,r;n.type="block",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n)},14:function(){var e,r,o,i,a,c=t.isChatroom;if(!c){var f=JSON.parse((null===(e=null==t?void 0:t.eventInfo)||void 0===e?void 0:e.ext)||"{}",(function(e,t){return"last_modified"===e?Number(t):l.includes(e)?"true"===t||!0===t:t}));s.detail=n.detail={},Object.keys(f).forEach((function(e){var t=d[e];if(t){var r=f[e];s.detail&&(s.detail[t]=r),n.detail&&(n.detail[t]=r)}}))}n.type="update",u.onPresence&&u.onPresence(n),c?null===(r=u.eventHandler)||void 0===r||r.dispatch("onChatroomChange",n):null===(o=u.eventHandler)||void 0===o||o.dispatch("onGroupChange",n),s.operation="updateInfo",c?null===(i=u.eventHandler)||void 0===i||i.dispatch("onChatroomEvent",s):null===(a=u.eventHandler)||void 0===a||a.dispatch("onGroupEvent",s)},13:function(){var e,r,o,i;n.type="allow",n.reason=t.reason,u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="unblockMember",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},12:function(){var e,r;n.type="ban",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n)},11:function(){var e,r;n.type="getBlackList",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n)},10:function(){var e,r,o,i;n.type="removedFromGroup",n.kicked=n.to,u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="removeMember",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},9:function(){var e,r,o,i;n.type="invite_decline",n.kicked=n.to,u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="rejectInvite",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},8:function(){var e,r,o,i;n.type="invite_accept",n.kicked=n.to,u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="acceptInvite",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},7:function(){var e,r,o,i;n.type="invite",n.kicked=n.to,n.groupName=t.mucName,u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="inviteToJoin",s.name=t.mucName,t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},6:function(){var e,r,o,i;n.type="joinPublicGroupDeclined",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="joinPublicGroupDeclined",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},5:function(){var e,r,o,i;n.type="joinPublicGroupSuccess",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="acceptRequest",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},4:function(){var e,r,o,i;n.type="joinGroupNotifications",n.reason=t.reason,u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="requestToJoin",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},3:function(){var e,r;n.type="leave",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n)},2:function(){var e,r;n.type="join",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n)},1:function(){var e,r,o,i;n.type="deleteGroupChat",u.onPresence&&u.onPresence(n),t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomChange",n):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupChange",n),s.operation="destroy",t.isChatroom?null===(o=u.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",s):null===(i=u.eventHandler)||void 0===i||i.dispatch("onGroupEvent",s)},0:function(){var e,r;s.operation="create",t.isChatroom?null===(e=u.eventHandler)||void 0===e||e.dispatch("onChatroomEvent",s):null===(r=u.eventHandler)||void 0===r||r.dispatch("onGroupEvent",s)}}[e]||function(){console.error("No match operation ".concat(e))})()}var p=function(e){var t=this.root.lookup("easemob.pb.MUCBody").decode(e.payload),r=t.operation;c.kg.debug("onMucMessage",t),f.call(this,r,t)},h=r(4968),_=r(7252),E=function(e){var t,r,n,o,i,s,u=this.root.lookup("easemob.pb.StatisticsBody").decode(e.payload);switch(u.operation){case 0:this.onStatisticMessage&&this.onStatisticMessage(u),null===(t=this.eventHandler)||void 0===t||t.dispatch("onStatisticMessage",u);break;case 1:s=_.Z.create({type:a.E.WEBIM_CONNCTION_USER_REMOVED,message:"user has been removed"}),this.logOut=!0,this.onError&&this.onError(s),null===(r=this.eventHandler)||void 0===r||r.dispatch("onError",s);break;case 2:s=_.Z.create({type:a.E.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE,message:"the user is already logged on another device"}),this.logOut=!0,this.onError&&this.onError(s),null===(n=this.eventHandler)||void 0===n||n.dispatch("onError",s);break;case 3:s=_.Z.create({type:a.E.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD,message:"the user was kicked by changing password"}),this.logOut=!0,this.onError&&this.onError(s),null===(o=this.eventHandler)||void 0===o||o.dispatch("onError",s);break;case 4:s=_.Z.create({type:a.E.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE,message:"the user was kicked by other device"}),this.logOut=!0,this.onError&&this.onError(s),null===(i=this.eventHandler)||void 0===i||i.dispatch("onError",s);break;default:c.kg.error("handleStatisticsMsg:",u)}},y=(r(9720),r(4370)),v=r(4363);function m(e){var t,r=[],n=[],o=e.data;o&&o.values&&o.values.forEach((function(e){Object.entries(e.status).forEach((function(e){n.push({device:e[0],status:Number(e[1])})})),r.push({userId:e.uid,lastTime:Number(e.last_time),expire:Number(e.expiry),ext:e.ext,statusDetails:n})})),this.onPresenceStatusChange&&this.onPresenceStatusChange(r),null===(t=this.eventHandler)||void 0===t||t.dispatch("onPresenceStatusChange",r)}function g(e){var t=this;e.data.forEach((function(e){var r,n={from:e.from,to:e.to,chatType:"chat"===e.channel_type?"singleChat":"groupChat",messageId:e.messageId,reactions:e.reactions,ts:e.ts};null===(r=t.eventHandler)||void 0===r||r.dispatch("onReactionChange",n)}))}function O(e){var t,r,n,o;if(e.data){var i=e.data,s={id:i.id||"",name:i.name||"",parentId:i.muc_parent_id||"",messageId:i.msg_parent_id||"",timestamp:i.timestamp||0,operator:i.from||"",operation:""};switch(i.operation){case"create":s.operation="create",s.createTimestamp=s.timestamp,s.messageCount=0,null===(t=this.eventHandler)||void 0===t||t.dispatch("onChatThreadChange",s);break;case"update_msg":s.operation="update",s.messageCount=i.message_count,i.last_message&&"{}"!==JSON.stringify(i.last_message)?s.lastMessage=(0,v.w)(i.last_message):"{}"===JSON.stringify(i.last_message)&&(s.lastMessage={}),null===(r=this.eventHandler)||void 0===r||r.dispatch("onChatThreadChange",s);break;case"update":s.operation="update",s.messageCount=i.message_count,null===(n=this.eventHandler)||void 0===n||n.dispatch("onChatThreadChange",s);break;case"delete":s.operation="destroy",null===(o=this.eventHandler)||void 0===o||o.dispatch("onChatThreadChange",s)}}}function T(e){var t,r=e.data;if(r.resource!==this.clientResource){var n={operation:"deleteRoaming",conversationId:r.to,chatType:"chat"===r.chatType?"singleChat":"groupChat",resource:r.resource};null===(t=this.eventHandler)||void 0===t||t.dispatch("onMultiDeviceEvent",n)}}function R(e){var t,r=e.data,n={operation:"del"===r.op?"deleteConversation":"top"===r.op?"pinnedConversation":"unpinnedConversation",conversationId:r.id,conversationType:"chat"===r.type?"singleChat":"groupChat",timestamp:r.ts};this.clientResource!==r.res&&(null===(t=this.eventHandler)||void 0===t||t.dispatch("onMultiDeviceEvent",n))}var I=function(e){var t=y.P6.parseNotify(e.payload);switch(t.type){case"presence":m.call(this,t);break;case"reaction":g.call(this,t);break;case"thread":O.call(this,t);break;case"roaming_delete":T.call(this,t);break;case"conv":R.call(this,t);break;default:c.kg.error("unexpected notify type: ".concat(t.type))}},C=r(2071),b=r(1595);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}var S,A=function(){return A=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},A.apply(this,arguments)},M=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};!function(e){e[e.NORMAL=0]="NORMAL",e[e.SINGLECHAT=1]="SINGLECHAT",e[e.GROUPCHAT=2]="GROUPCHAT",e[e.CHATROOM=3]="CHATROOM",e[e.READ_ACK=4]="READ_ACK",e[e.DELIVER_ACK=5]="DELIVER_ACK",e[e.RECALL=6]="RECALL",e[e.CHANNEL_ACK=7]="CHANNEL_ACK",e[e.EDIT=8]="EDIT"}(S||(S={}));var w=y.P6.getEnvInfo();function U(){var e="webim",t="",r="",n=[],o=(new Date).valueOf();"webim"===this.deviceId?(r="random_"+o.toString(),e=this.deviceId+"_"+r,t=this.deviceId):e=t=r="webim_"+this.deviceId,this.context.jid&&(this.context.jid.clientResource=e);var i=this.root.lookup("easemob.pb.Provision"),s=i.decode(n);s.compressType=this.compressType,s.encryptType=this.encryptType,s.osType=this.osType,s.version=this.version,s.deviceName=t,s.resource=e,s.deviceUuid=r,s.auth="$t$"+this.token,s.actionVersion="v2.0",s=i.encode(s).finish();var a=this.root.lookup("easemob.pb.MSync"),u=a.decode(n);return u.version=this.version,u.guid=this.context.jid,u.auth="$t$"+this.token,u.command=3,u.deviceId=t,u.serviceId=this.dataReport.getServiceId(),u.encryptType=this.encryptType,u.payload=s,a.encode(u).finish()}function L(e,t){var r=this,n=y.P6.getEnvInfo();if("web"===n.platform||"zfb"===n.platform||"dd"===n.platform){for(var i="",s=0;s<e.length;s++)i+=String.fromCharCode(e[s]);return i=o().btoa(i),"web"===n.platform?i:{data:i,isBuffer:!1,complete:function(){},fail:function(e){"sendSocketMessage:fail taskID not exist"!==e.errMsg&&"SocketTast.send:fail SocketTask.readyState is not OPEN"!==e.errMsg||(c.kg.debug("send message fail and reconnect"),r.reconnecting||r.reconnect()),t&&r._msgHash&&r._msgHash[t]&&r._msgHash[t].fail({id:t})}}}var a=e;return{data:a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength),fail:function(e){"sendSocketMessage:fail taskID not exist"!==e.errMsg&&"SocketTast.send:fail SocketTask.readyState is not OPEN"!==e.errMsg||r.reconnecting||r.reconnect(),t&&r._msgHash&&r._msgHash[t]&&r._msgHash[t].fail({id:t})}}}function x(e,t){switch(e.ns){case 0:E.call(this,e);break;case 1:u.Z.call(this,e,t);break;case 2:p.call(this,e);break;case 3:h.Z.handleRosterMsg.call(this,e);break;case 4:this.registerConfrIQHandler&&this.registerConfrIQHandler(e,t,this);break;case 5:I.call(this,e);break;default:c.kg.error("distributeMeta",e)}}function P(e,t){for(var r=function(r){var o=new(s())(e[r].id.low,e[r].id.high,e[r].id.unsigned).toString();if(n._load_msg_cache.some((function(e){return e.msgId===o})))return"continue";var i=e[r].from.name,a=e[r].to?e[r].to.name:"",u=!!e[r].to&&-1!==e[r].to.domain.indexOf("conference");n._load_msg_cache.length<=n.max_cache_length||n._load_msg_cache.shift(),n._load_msg_cache.push({msgId:o,from:i,to:a,isGroup:u}),x.call(n,e[r],t)},n=this,o=0;o<e.length;o++)r(o)}function D(e){var t=this.root.lookup("easemob.pb.CommUnreadDL");if(t=t.decode(e.payload),"agoraToken"===this.grantType){var r=new(s())(t.timestamp.low,t.timestamp.high,t.timestamp.unsigned).toString();this.compareTokenExpireTime(Number(r),this.expirationTime)}if(0===t.unread.length)q.call(this);else for(var n=0;n<t.unread.length;n++)c.kg.debug("pull unread message",t.unread),B.call(this,t.unread[n].queue);q.call(this)}function k(){var e=[],t=this.root.lookup("easemob.pb.StatisticsBody"),r=t.decode(e);r.operation=0,r=t.encode(r).finish();var n=this.root.lookup("easemob.pb.Meta").decode(e);n.id=(new Date).valueOf(),n.ns=0,n.payload=r;var o=this.root.lookup("easemob.pb.CommSyncUL"),i=o.decode(e);i.meta=n,i=o.encode(i).finish();var s=this.root.lookup("easemob.pb.MSync"),a=s.decode(e);return a.version=this.version,a.encryptType=[0],a.command=0,a.payload=i,s.encode(a).finish()}function H(e){var t=[],r=this.root.lookup("easemob.pb.CommSyncUL"),n=r.decode(t);n.queue=e,n=r.encode(n).finish();var o=this.root.lookup("easemob.pb.MSync"),i=o.decode(t);return i.version=this.version,i.encryptType=this.encryptType,i.command=0,i.payload=n,o.encode(i).finish()}function B(e){c.kg.debug("sendBackqueue");var t=H.call(this,e);ue.call(this,t)}function G(e,t){var r=[],n=this.root.lookup("easemob.pb.CommSyncUL"),o=n.decode(r);o.queue=t,o.key=new(s())(e.low,e.high,e.unsigned).toString(),o=n.encode(o).finish();var i=this.root.lookup("easemob.pb.MSync"),a=i.decode(r);return a.version=this.version,a.encryptType=this.encryptType,a.command=0,a.payload=o,i.encode(a).finish()}function F(e,t){c.kg.debug("sendLastSession");var r=G.call(this,e,t);ue.call(this,r)}function j(e){var t,r,n,o,i,s,u=this.root.lookup("easemob.pb.Provision").decode(e.payload);if(this.context.jid&&(this.context.jid.clientResource=u.resource),this.clientResource=u.resource,0===u.status.errorCode){if(this.reconnecting=!1,this.logOut=!1,"zfb"!==w.platform&&"dd"!==w.platform||(this.sock.readyState=1),this.times=1,this.autoReconnectNumTotal=0,this.onOpened&&this.onOpened(),null===(t=this.eventHandler)||void 0===t||t.dispatch("onConnected"),"agoraToken"===this.grantType){var c=Date.now();this.expiresIn=this.expirationTime-c,this.tokenExpireTimeCountDown(this.expiresIn)}W.call(this),V.call(this),K.call(this),q.call(this)}else{var l=void 0,d=u.status.reason;switch(d){case"Sorry, the app day live count limit":l=_.Z.create({type:a.E.MAX_LIMIT,message:"Sorry, the daily active user limit for this app has been reached"}),null===(r=this.eventHandler)||void 0===r||r.dispatch("onError",l);break;case"Sorry, the app online count limit":l=_.Z.create({type:a.E.MAX_LIMIT,message:"Sorry, the maximum number limit of online users for this app has been reached"}),null===(n=this.eventHandler)||void 0===n||n.dispatch("onError",l);break;case"Sorry, the app month live count limit":l=_.Z.create({type:a.E.MAX_LIMIT,message:"Sorry, the monthly active user limit for this app has been reached"}),null===(o=this.eventHandler)||void 0===o||o.dispatch("onError",l);break;case"Sorry, who are you?":l=_.Z.create({type:a.E.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),null===(i=this.eventHandler)||void 0===i||i.dispatch("onError",l);break;default:l=_.Z.create({type:a.E.SERVER_UNKNOWN_ERROR,message:d}),null===(s=this.eventHandler)||void 0===s||s.dispatch("onError",l)}}}function W(){var e,t;if((null===(e=this.unMSyncSendMsgMap)||void 0===e?void 0:e.size)>0){for(var r=Array.from(this.unMSyncSendMsgMap.keys()),n=0;n<r.length;n++){var o=this.unMSyncSendMsgMap.get(r[n]);ue.call(this,o,r[n])}null===(t=this.unMSyncSendMsgMap)||void 0===t||t.clear()}}function q(){var e=k.call(this);ue.call(this,e)}function K(){var e=z.call(this);ue.call(this,e)}function V(){var e=this;J.call(this),this.heartBeatID=setInterval((function(){K.call(e)}),this.heartBeatWait)}function J(){clearInterval(this.heartBeatID)}function z(){var e=this.root.lookup("easemob.pb.MSync"),t=e.decode([]);return t.version=this.version,t.encryptType=this.encryptType,t.command=1,e.encode(t).finish()}function Y(e,t){return e.some((function(e){return e.name===t.name}))}function X(e){var t=this,r=this.root.lookup("easemob.pb.CommNotice"),n=r.decode(e.payload),o=Y(this._queues,n.queue);c.kg.debug("receive notice",r,this._queues),o||this.clientResource===n.queue.clientResource&&n.queue.name===this.context.userId||(this.qTimer&&clearTimeout(this.qTimer),this.qTimer=setTimeout((function(){var e=n.queue;Y(t._queues,e)&&(B.call(t,e),c.kg.debug("q:",e))}),1e4),this._queues.push(n.queue),1===this._queues.length&&B.call(this,n.queue))}function $(e){if("string"==typeof e){var t=JSON.parse(e);if(Array.isArray(t)){var r=t[0],n=t[1];this.closeInfo={code:r,reason:n}}}}function Z(e){return t=this,r=void 0,i=function(){var t,r,n,i,s,a,u,l;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(d){if(t=y.P6.getEnvInfo(),r=this.root.lookup("easemob.pb.MSync"),"miniCore"===this.name){try{e.data instanceof ArrayBuffer||(c.kg.debug("received message: ".concat(e.data)),$.call(this,e.data)),i=new Uint8Array(e.data),n=r.decode(i)}catch(e){throw new Error("decode message fail.")}return[2,n]}if("web"===t.platform||"zfb"===t.platform||"dd"===t.platform){for('[401,"normal closed"]'===e.data&&(c.kg.debug("received message: ".concat(e.data)),$.call(this,e.data)),s=o().atob(e.data),a=[],u=0,l=s.length;u<l;++u)a.push(s.charCodeAt(u));return[2,r.decode(a)]}try{e.data instanceof ArrayBuffer||(c.kg.debug("received message: ".concat(e.data)),$.call(this,e.data)),n=r.decode(e.data)}catch(e){throw new Error("decode message fail.")}return[2,n]}))},new((n=void 0)||(n=Promise))((function(e,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,a)}u((i=i.apply(t,r||[])).next())}));var t,r,n,i}function Q(e){var t=this;e.then((function(e){if(e)switch(e.command){case 0:ee.call(t,e);break;case 1:D.call(t,e);break;case 2:X.call(t,e);break;case 3:j.call(t,e);break;default:c.kg.error("unexpected msync command: ".concat(e.command))}else c.kg.error("unexpected msync result: ".concat(e))}))}function ee(e){var t,r,n,o,i,u,c,l,d,f,p,h,E,v,m,g,O,T,R=this.root.lookup("easemob.pb.CommSyncDL");R=R.decode(e.payload);var I=new(s())(R.serverId.low,R.serverId.high,R.serverId.unsigned).toString(),N=new(s())(R.metaId.low,R.metaId.high,R.metaId.unsigned).toString();if(Number(N)>0){if(R.status)if(0===R.status.errorCode){(ee=C.Nl.get(N))&&((0,ee.rpt)({isEndApi:!0,data:{isSuccess:1,requestName:ee.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:b.dd.success}}),C.Nl.delete(N));var S=this._msgHash[N];if(null==S?void 0:S.isHandleChatroom){try{var A="join"===(null===(t=this._msgHash[N])||void 0===t?void 0:t.operation);(null===(r=this._msgHash[N])||void 0===r?void 0:r.resolve)instanceof Function&&A&&this._msgHash[N].resolve({type:0,data:{action:"apply",id:this._msgHash[N].roomId,result:!0,user:this.context.userId}}),(null===(n=this._msgHash[N])||void 0===n?void 0:n.success)instanceof Function&&A&&this._msgHash[N].success({type:0,data:{action:"apply",id:this._msgHash[N].roomId,result:!0,user:this.context.userId}}),(null===(o=this._msgHash[N])||void 0===o?void 0:o.resolve)instanceof Function&&!A&&this._msgHash[N].resolve({type:0,data:{result:!0}}),(null===(i=this._msgHash[N])||void 0===i?void 0:i.success)instanceof Function&&!A&&this._msgHash[N].success({type:0,data:{result:!0}})}catch(e){var M=_.Z.create({type:a.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:e});this.onError&&this.onError(M),null===(u=this.eventHandler)||void 0===u||u.dispatch("onError",M)}delete this._msgHash[N]}if(S&&!S.isHandleChatroom){var w=null,U="",L=0;if(0!==R.metas.length)try{var x=y.P6.parseNotify(R.metas[0].payload);if(x.edit_msg){var D=x.edit_msg,k=D.count,H=D.operator,G=D.edit_time,j=D.sender,W=D.send_time;w={operationTime:G,operatorId:H,operationCount:k},U=j,L=Number(W)}}catch(e){M=_.Z.create({type:a.E.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:e}),this.onError&&this.onError(M),null===(c=this.eventHandler)||void 0===c||c.dispatch("onError",M)}C.TJ.has(N)&&(C.TJ.get(N).rpt({isEndApi:!0,data:{isSuccess:1,requestMethod:"WEBSOCKET",requestUrl:this.url,code:b.dd.success,msgId:I}}),C.TJ.delete(N));try{var q={localMsgId:N,serverMsgId:I};if(w){this._msgHash[N].modifiedInfo=w;var K=this._msgHash[N],V=K.editMessageId,J=K.type,z=K.chatType,Y=K.msg,X=K.to,$=K.translations,Z={id:V,type:J,chatType:z,msg:Y,modifiedInfo:w,to:X,from:U,time:Number(L)};$&&(Z.translations=$),q.message=Z}(null===(l=this._msgHash[N])||void 0===l?void 0:l.resolve)instanceof Function&&this._msgHash[N].resolve(q),(null===(d=this._msgHash[N])||void 0===d?void 0:d.success)instanceof Function&&this._msgHash[N].success(N,I)}catch(e){M=_.Z.create({type:a.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:e}),this.onError&&this.onError(M),null===(f=this.eventHandler)||void 0===f||f.dispatch("onError",M)}this.onReceivedMessage&&this.onReceivedMessage({id:N,mid:I,to:this._msgHash[N].to,time:0}),null===(p=this.eventHandler)||void 0===p||p.dispatch("onReceivedMessage",{id:N,mid:I,to:this._msgHash[N].to}),delete this._msgHash[N]}}else if(15===R.status.errorCode)(null===(h=this._msgHash[N])||void 0===h?void 0:h.fail)instanceof Function&&this._msgHash[N].fail({type:a.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject({type:a.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"});else if(1===R.status.errorCode){switch(J=void 0,R.status.reason){case"blocked":J=a.E.PERMISSION_DENIED;break;case"group not found":J=a.E.GROUP_NOT_EXIST;break;case"not in group or chatroom":J=a.E.GROUP_NOT_JOINED;break;case"exceed recall time limit":J=a.E.MESSAGE_RECALL_TIME_LIMIT;break;case"message recall disabled":J=a.E.SERVICE_NOT_ENABLED;break;case"not in group or chatroom white list":J=a.E.SERVICE_NOT_ALLOW_MESSAGING;break;case"nonroster":J=a.E.USER_NOT_FRIEND,R.status.reason="not contact";break;case"group is disabled":J=a.E.GROUP_IS_DISABLED,R.status.reason="group is disabled";break;case"limit directed users":J=a.E.MAX_LIMIT;break;case"Sorry, edit limit reached":J=a.E.MAX_LIMIT,R.status.reason="Modify message limit reached";break;case"Sorry, message does not exist":J=a.E.MODIFY_MESSAGE_NOT_EXIST,R.status.reason="The message does not exist.";break;case"Sorry, You do not have permission":J=a.E.PERMISSION_DENIED,R.status.reason="You do not have the modified permission.";break;case"Sorry, format is incorrect":J=a.E.MODIFY_MESSAGE_FORMAT_ERROR,R.status.reason="The modify messaged format error.";break;case"Sorry, edit is not available":J=a.E.SERVICE_NOT_ENABLED,R.status.reason="The message modify function is not activated.";break;case"Sorry, edit fail":J=a.E.MODIFY_MESSAGE_FAILED,R.status.reason="Modify message failed.";break;default:R.status.reason.includes("grpID")&&R.status.reason.includes("does not exist!")?(J=a.E.CHATROOM_NOT_EXIST,R.status.reason="The chat room dose not exist."):R.status.reason.includes("username")&&R.status.reason.includes("doesn't exist!")?J=a.E.USER_NOT_FOUND:"group member list is full!"===R.status.reason?J=a.E.CHATROOM_MEMBERS_FULL:R.status.reason.includes("can not join this group")&&R.status.reason.includes("is in the blacklist")?(J=a.E.PERMISSION_DENIED,R.status.reason="permission denied"):J="can not operate this group, reason: group is disabled"===R.status.reason?a.E.GROUP_IS_DISABLED:R.status.reason.includes("moderation")?a.E.MESSAGE_MODERATION_BLOCKED:a.E.SERVER_UNKNOWN_ERROR}if(this._msgHash[N]){if(null===(E=this._msgHash[N])||void 0===E?void 0:E.isHandleChatroom){var Q=_.Z.create({type:J,message:R.status.reason||"",data:""});this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject(Q),this._msgHash[N].error instanceof Function&&this._msgHash[N].error(Q)}else Q=_.Z.create({type:J,message:R.status.reason||"",data:{id:N,mid:I}}),this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject(Q),this._msgHash[N].fail instanceof Function&&this._msgHash[N].fail({type:J,reason:R.status.reason?R.status.reason:"",data:{id:N,mid:I}});delete this._msgHash[N]}}else if(7===R.status.errorCode)"sensitive words"===R.status.reason&&this._msgHash[N]?(Q=_.Z.create({type:a.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"sensitive words",data:{id:N,mid:I}}),this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject(Q),this._msgHash[N].fail instanceof Function&&this._msgHash[N].fail({type:a.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:N,mid:I,reason:"sensitive words"}})):"blocked by mod_antispam"===R.status.reason&&this._msgHash[N]?(Q=_.Z.create({type:a.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"blocked by mod_antispam",data:{id:N,mid:I}}),this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject(Q),this._msgHash[N].fail instanceof Function&&this._msgHash[N].fail({type:a.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:N,mid:I,reason:"blocked by mod_antispam"}})):"user is mute"===R.status.reason&&this._msgHash[N]?(Q=_.Z.create({type:a.E.USER_MUTED_BY_ADMIN,message:"user is mute",data:{id:N,mid:I}}),this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject(Q),this._msgHash[N].fail instanceof Function&&this._msgHash[N].fail(Q)):"traffic limit"===R.status.reason&&this._msgHash[N]?(Q=_.Z.create({type:a.E.MESSAGE_CURRENT_LIMITING,message:"traffic limit",data:{id:N,mid:I}}),this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject(Q),this._msgHash[N].fail instanceof Function&&this._msgHash[N].fail(Q)):"Sorry, data is too large"===R.status.reason&&this._msgHash[N]&&(Q=_.Z.create({type:a.E.MESSAGE_SIZE_LIMIT,message:"Sorry, data is too large",data:{id:N,mid:I}}),this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject(Q),this._msgHash[N].fail instanceof Function&&this._msgHash[N].fail(Q));else if(19===R.status.errorCode)this._msgHash[N]&&(C.TJ.has(N)&&(C.TJ.get(N).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:a.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,codeDesc:R.status.reason||"",msgId:I}}),C.TJ.delete(N)),Q=_.Z.create({type:a.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,message:R.status.reason||"",data:{id:N,mid:I}}),this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject(Q),this._msgHash[N].fail instanceof Function&&this._msgHash[N].fail({type:a.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,data:{id:N,mid:I,reason:R.status.reason}}));else if(this._msgHash[N]){C.TJ.has(N)&&(C.TJ.get(N).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:a.E.WEBIM_LOAD_MSG_ERROR,codeDesc:(null===(v=R.status)||void 0===v?void 0:v.reason)||"",msgId:I}}),C.TJ.delete(N));try{Q=_.Z.create({type:a.E.WEBIM_LOAD_MSG_ERROR,message:(null===(m=R.status)||void 0===m?void 0:m.reason)||"",data:{id:N,mid:I,reason:R.status&&R.status.reason}}),this._msgHash[N].reject instanceof Function&&this._msgHash[N].reject(Q),this._msgHash[N].fail instanceof Function&&this._msgHash[N].fail({type:a.E.WEBIM_LOAD_MSG_ERROR,data:{errorCode:R.status&&R.status.errorCode,reason:R.status&&R.status.reason}})}catch(e){M=_.Z.create({type:a.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing fail function error",data:e}),this.onError&&this.onError(M),null===(g=this.eventHandler)||void 0===g||g.dispatch("onError",M)}delete this._msgHash[N]}else{var ee;C.TJ.has(N)&&(C.TJ.get(N).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:a.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,codeDesc:"on message error",msgId:I}}),C.TJ.delete(N)),(ee=C.Nl.get(N))&&((0,ee.rpt)({isEndApi:!0,data:{isSuccess:0,requestName:ee.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:b.dd.failed,codeDesc:"on message error"}}),C.Nl.delete(N)),M=_.Z.create({type:a.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"on message error"}),this.onError&&this.onError(M),null===(O=this.eventHandler)||void 0===O||O.dispatch("onError",M)}}else if(0!==R.metas.length)try{P.call(this,R.metas,R.status)}catch(e){M=_.Z.create({type:a.E.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:e}),this.onError&&this.onError(M),null===(T=this.eventHandler)||void 0===T||T.dispatch("onError",M)}finally{if(R.isLast){var te=-1;this._queues.some((function(e,t){return e.name===R.name&&(te=t,!0)}))&&te>0&&this._queues.splice(te,1),this._queues.length>0&&(B.call(this,this._queues[0]),this.qTimer&&clearTimeout(this.qTimer))}else F.call(this,R.nextKey,R.queue)}else if(R.isLast){var re=-1;this._queues.some((function(e,t){return e.name===R.queue.name&&(re=t,!0)}))&&this._queues.splice(re,1),this._queues.length>0&&(B.call(this,this._queues[0]),this.qTimer&&clearTimeout(this.qTimer))}}function te(e){var t=[],r=this.root.lookup("easemob.pb.KeyValue"),n=[];for(var o in e){var i=r.decode(t);i.key=o,"object"===N(e[o])?(i.type=8,i.stringValue=JSON.stringify(e[o])):"string"==typeof e[o]?(i.type=7,i.stringValue=e[o]):"boolean"==typeof e[o]?(i.type=1,i.varintValue=!0===e[o]?1:0):Number.isInteger(e[o])?(i.type=2,i.varintValue=e[o]):(i.type=6,i.doubleValue=e[o]),n.push(i)}return n}function re(e){var t,r,n,o=[];if(this.root){var i,u=this.root.lookup("easemob.pb.MessageBody.Content").decode(o);switch(i=!e.group&&"groupchat"!==(null===(t=null==e?void 0:e.chatType)||void 0===t?void 0:t.toLowerCase())||e.roomType?e.group&&e.roomType||"chatroom"===(null===(r=null==e?void 0:e.chatType)||void 0===r?void 0:r.toLowerCase())?"chatRoom":"singleChat":"groupChat",e.type){case"txt":u.type=0,u.text=e.msg;break;case"img":u.type=1,e.body?(u.displayName=e.body.filename,u.remotePath=e.body.url,u.secretKey=e.body.secret,u.fileLength=e.body.file_length,u.size=e.body.size,u.thumbnailDisplayName=e.body.filename):e.file?(u.displayName=e.file.filename,u.remotePath=e.file.url,u.secretKey=e.file.secret,u.fileLength=e.file.file_length,u.size=e.file.size,u.thumbnailDisplayName=e.file.filename):(u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.size=e.size,u.thumbnailDisplayName=e.filename),e.isBuildCombinedMsg&&(u.size={height:e.height,width:e.width});break;case"video":u.type=2,e.body?(u.displayName=e.body.filename,u.remotePath=e.body.url,u.secretKey=e.body.secret,u.fileLength=e.body.file_length,u.duration=e.body.length,u.thumbnailDisplayName=e.body.filename):e.isBuildCombinedMsg&&(u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.duration=e.length,u.thumbnailDisplayName=e.filename);break;case"loc":u.type=3,u.latitude=e.lat,u.longitude=e.lng,u.address=e.addr,u.buildingName=e.buildingName,u.latitude=e.lat;break;case"audio":u.type=4,e.body?(u.displayName=e.body.filename,u.remotePath=e.body.url,u.secretKey=e.body.secret,u.fileLength=e.body.file_length,u.duration=e.body.length,u.thumbnailDisplayName=e.body.filename):e.isBuildCombinedMsg&&(u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.duration=e.length,u.thumbnailDisplayName=e.filename);break;case"file":u.type=5,e.body?(u.displayName=e.body.filename,u.remotePath=e.body.url,u.secretKey=e.body.secret,u.fileLength=e.body.file_length,u.thumbnailDisplayName=e.body.filename):e.isBuildCombinedMsg&&(u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.thumbnailDisplayName=e.filename);break;case"cmd":u.type=6,u.action=e.action;break;case"custom":u.type=7,u.customEvent=e.customEvent,u.customExts=te.call(this,e.customExts);break;case"combine":u.type=0,u.subType=0,u.text=e.compatibleText,u.displayName=e.filename,u.remotePath=e.url,u.secretKey=e.secret,u.fileLength=e.file_length,u.title=e.title,u.summary=e.summary,u.combineLevel=e.combineLevel}var l=[];e.ext&&(l=te.call(this,e.ext));var d=this.root.lookup("easemob.pb.MessageBody"),f=d.decode(o),p=e.from||this.context.jid.name;f.from={name:e.isBuildCombinedMsg?p:this.context.jid.name},f.to={name:e.to},"channel"===e.type?f.type=S.CHANNEL_ACK:"recall"===e.type?(f.type=S.RECALL,f.ackMessageId=e.ackId):"delivery"===e.type?(f.type=S.DELIVER_ACK,f.ackMessageId=e.ackId):"read"===e.type?(f.type=S.READ_ACK,f.ackMessageId=e.ackId,"groupChat"===i&&(f.msgConfig={allowGroupAck:!0},f.ackContent=e.ackContent)):"chatRoom"===i?f.type=S.CHATROOM:"groupChat"===i?(f.type=S.GROUPCHAT,e.msgConfig&&(f.msgConfig={allowGroupAck:!0})):"singleChat"===i&&(f.type=S.SINGLECHAT),e.editMessageId&&(f.type=S.EDIT,f.editMessageId=e.editMessageId),f.contents=[u],f.ext=l;var h=function(e){var t={};return"translations"in e&&(t.translations=e.translations),"isChatThread"in e&&e.isChatThread&&(t.thread={}),Object.keys(t).length>0?JSON.stringify(t):""}(e);h&&(f.meta=h),f=d.encode(f).finish();var _=this.root.lookup("easemob.pb.Meta"),E=_.decode(o);E.id=e.id;var y="easemob.com";if("chatRoom"!==i&&"groupChat"!==i||(y="conference.easemob.com"),E.to={appKey:this.appKey,name:e.to,domain:y},"chatRoom"===i&&(E.ext=te.call(this,function(e){return{chatroom_msg_tag:"high"===e.priority?0:"low"===e.priority?2:1}}(e))[0]),E.ns=1,E.payload=f,E.routetype=e.deliverOnlineOnly?1:0,"singleChat"!==i&&Array.isArray(e.receiverList)&&(null===(n=e.receiverList)||void 0===n?void 0:n.length)>0&&(E.directedUsers=e.receiverList,E.routetype=2,c.kg.debug("receiverList:",e.receiverList,"thirdMessage",E)),e.isBuildCombinedMsg)return E.timestamp=s().fromValue(e.time),_.encode(E).finish();var v=this.root.lookup("easemob.pb.CommSyncUL"),m=v.decode(o);m.meta=E,m=v.encode(m).finish();var g=this.root.lookup("easemob.pb.MSync"),O=g.decode(o);return O.version=this.version,O.encryptType=this.encryptType,O.command=0,O.payload=m,g.encode(O).finish()}e.fail&&e.fail({type:a.E.WEBIM_CONNCTION_CLIENT_OFFLINE,message:"Not logged in"})}function ne(e){var t=this,r=A({},e);if(e.file)return r.accessToken=this.token,r.appKey=this.appKey,r.apiUrl=this.apiUrl,r.body&&r.body.url?re.call(this,r):new Promise((function(n,o){var i=r.onFileUploadComplete;r.onFileUploadComplete=function(n){var o,s;if(n.entities[0]["file-metadata"]){var a=n.entities[0]["file-metadata"]["content-length"];r.file_length=a,r.filetype=n.entities[0]["file-metadata"]["content-type"],a>204800&&(r.thumbnail=!0)}r.body={type:r.type||"file",secret:n.entities[0]["share-secret"],filename:r.file.filename||r.filename,url:(t.isHttpDNS?t.apiUrl+n.uri.substr(n.uri.indexOf("/",9)):n.uri)+"/"+n.entities[0].uuid,length:r.length||0,filetype:r.filetype||r.file.filetype,file_length:(null===(s=null===(o=r.file)||void 0===o?void 0:o.data)||void 0===s?void 0:s.size)||0,size:{width:r.width||0,height:r.height||0}},r.file.url=n.uri,e.secret=n.entities[0]["share-secret"];var u=(t.isHttpDNS?t.apiUrl+n.uri.substr(n.uri.indexOf("/",9)):n.uri)+"/"+n.entities[0].uuid;e.url=u,n.url=u,"img"===r.type&&(e.thumb="".concat(u,"?thumbnail=true"),n.thumb="".concat(u,"?thumbnail=true")),i instanceof Function&&i(n,r.id);var c=re.call(t,r);C.TJ.size<=C.F3&&C.TJ.set(r.id,{rpt:t.dataReport.geOperateFun({operationName:b.fI.SEND_MSG})}),ue.call(t,c)},y.P6.uploadFile.call(t,r,b.fI.UPLOAD_MSG_ATTACH)}));if("combine"===e.type){r.accessToken=this.token,r.appKey=this.appKey,r.apiUrl=this.apiUrl;var n=r.onFileUploadComplete,o=r.onFileUploadError;return new Promise((function(i,s){var u,l,d,f;if((null===(u=e.messageList)||void 0===u?void 0:u.length)>300||0===(null===(l=e.messageList)||void 0===l?void 0:l.length))return t._msgHash[r.id].reject({type:a.E.MAX_LIMIT,message:"The number of combined messages exceeded the limit."});var p=M([],e.messageList,!0),h=0;if(p.forEach((function(e){(null==e?void 0:e.combineLevel)>h&&(h=null==e?void 0:e.combineLevel)})),r.combineLevel=h+1,r.combineLevel>10)return t._msgHash[r.id].reject({type:a.E.MAX_LIMIT,message:"The level of the merged message exceeded the limit."});var _=oe.call(t,p),E=function(o,i){var s,a,u,c,l=(t.isHttpDNS?t.apiUrl+o.uri.substr(o.uri.indexOf("/",9)):o.uri)+"/"+o.entities[0].uuid,d=null===(s=o.entities[0])||void 0===s?void 0:s["share-secret"],f=l+"?em-redirect=true";d&&(f="".concat(f,"&share-secret=").concat(d)),n instanceof Function&&n({url:f,secret:d}),e.url=f,e.secret=d,r.url=l,r.secret=o.entities[0]["share-secret"],r.filename=(null===(a=r.file)||void 0===a?void 0:a.filename)||(null==i?void 0:i.fileName),r.file_length=(null===(c=null===(u=r.file)||void 0===u?void 0:u.data)||void 0===c?void 0:c.size)||(null==i?void 0:i.fileLength)||0;var p=re.call(t,r);ue.call(t,p)},v=y.P6.getEnvInfo();if("web"!==v.platform&&"node"!==v.platform&&"quick_app"!==v.platform&&(null===(f=null===(d=v.global)||void 0===d?void 0:d.canIUse)||void 0===f?void 0:f.call(d,"getFileSystemManager"))){var m=v.global.getFileSystemManager(),g=t.apiUrl+"/"+t.orgName+"/"+t.appName+"/chatfiles";m.writeFile({filePath:"".concat(v.global.env.USER_DATA_PATH,"/combine"),data:_.buffer,encoding:"binary",success:function(e){v.global.uploadFile({url:g,filePath:"".concat(v.global.env.USER_DATA_PATH,"/combine"),name:"file",header:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r.accessToken},success:function(e){if(200===e.statusCode){c.kg.debug("upload success",e);var t=JSON.parse(e.data);E(t,{fileName:"combine",fileLength:_.length})}else c.kg.debug("upload fail"),r.onFileUploadError instanceof Function&&r.onFileUploadError(e),this._msgHash[r.id].reject({type:a.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:e})},fail:function(t){c.kg.debug("upload fail"),r.onFileUploadError instanceof Function&&r.onFileUploadError(e),this._msgHash[r.id].reject({type:a.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:t})}})},fail:function(e){c.kg.debug("write file fail",e),this._msgHash[r.id].reject({type:a.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:e})}})}else{var O=new File([_],"combine",{type:"application/octet-stream"}),T={url:URL.createObjectURL(O),filename:r.id,data:O};r.file=T,r.onFileUploadComplete=function(e){E(e)},r.onFileUploadError=function(e){o instanceof Function&&o(e),t._msgHash[r.id].reject({type:a.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:e})},y.P6.uploadFile.call(t,r,b.fI.UPLOAD_MSG_ATTACH)}}))}"img"===e.type&&(r.body||(r.body=A(A({},r),{size:{width:r.width||0,height:r.height||0}})));var i=re.call(this,r);ue.call(this,i)}function oe(e){for(var t=Uint8Array.from("cm",(function(e){return e.charCodeAt(0)})),r=0;r<e.length;r++){for(var n=e[r],o=A(A({},n),{isBuildCombinedMsg:!0}),i=this.mSync.encodeChatMsg.call(this,o),s=i.length,a=new Uint8Array(4),u=0;u<4;u++)a[u]=s>>8*(3-u)&255;c.kg.debug("message length:",a);var l=new Uint8Array(t.length+a.length+i.length);l.set(t),l.set(a,t.length),l.set(i,t.length+a.length),t=l}var d=new Uint8Array(t.length+1),f=0;for(r=2;r<t.length;r++)r%2==1&&(f^=t[r]);return d.set(t),c.kg.debug("checkResult:",f),d[t.length]=f,d}function ie(e,t,r){var n=[],o=this.root.lookup("easemob.pb.MUCBody"),i=o.decode(n);i.mucId={appKey:this.appKey,name:e,domain:"conference.easemob.com"},i.operation="join"===r?2:3,i.from={name:this.context.userId},i.isChatroom=!0,i=o.encode(i).finish();var s=this.root.lookup("easemob.pb.Meta").decode(n);s.id=t,s.from={appKey:this.appKey,name:this.context.userId,domain:"easemob.com",client_resource:this.context.jid.clientResource},s.to={domain:"easemob.com"},s.ns=2,s.payload=i;var a=this.root.lookup("easemob.pb.CommSyncUL"),u=a.decode(n);u.meta=s,u=a.encode(u).finish();var c=this.root.lookup("easemob.pb.MSync"),l=c.decode(n);return l.version=this.version,l.encryptType=this.encryptType,l.command=0,l.payload=u,c.encode(l).finish()}function se(e,t){var r=y.P6.getUniqueId(),n=ie.call(this,e.roomId,r,t);return ue.call(this,A(A({},e),{isHandleChatroom:!0,joinMsg:n,id:r,operation:t}),r)}function ae(e){var t=this;return new Promise((function(r,n){var o,i;if(t.logOut)return n({type:a.E.WEBIM_CONNECTION_CLOSED,message:"not login"});if(!e.id||"string"!=typeof e.id||""===e.id)return n({type:a.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "id"'});if(!e.to||"string"!=typeof e.to||""===e.to)return n({type:a.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "to"'});var s="file"===e.type||"img"===e.type||"audio"===e.type||"video"===e.type,u="delivery"===e.type||"read"===e.type||"channel"===e.type;if(e.id){if(!s&&!u||s&&t.useOwnUploadFun){var c="recall"===e.type?b.fI.SEND_RECALL_MSG:b.fI.SEND_MSG;(null==e?void 0:e.editMessageId)&&(c=b.fI.MODIFY_MESSAGE),C.TJ.size<=C.F3&&C.TJ.set(e.id,{rpt:t.dataReport.geOperateFun({operationName:c})})}t._msgHash[e.id]=A(A({},e),{resolve:r,reject:n})}if(s||"combine"===e.type)return ne.call(t,e);if("txt"===e.type&&(null===(o=e.msgConfig)||void 0===o?void 0:o.languages)&&Array.isArray(null===(i=e.msgConfig)||void 0===i?void 0:i.languages)&&e.msgConfig.languages.length>0){var l=t.translateMessage||t.translation.translateMessage;if(!l)throw new Error("there is no method to translate message");l.call(t,{text:e.msg,languages:e.msgConfig.languages}).then((function(r){var n,o=null===(n=r.data[0])||void 0===n?void 0:n.translations;o=o.map((function(e){return{code:e.to,text:e.text}})),e.translations=o,t._msgHash[e.id].translations=o;var i=re.call(t,e);ue.call(t,i,e.id)})).catch((function(e){n(e)}))}else{var d=re.call(t,e);ue.call(t,d,e.id)}}))}function ue(e,t){var r,n,o=this;if(e.isHandleChatroom){if(!this.isOpened()){var i={data:"",type:a.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};return Promise.reject(i)}return new Promise((function(r,n){var i;o._msgHash[e.id]=A(A({},e),{resolve:r,reject:n}),i="miniCore"===o.name?e.joinMsg:L.call(o,e.joinMsg,t),o.sock.send(i)}))}if(!this.isOpened())return null===(r=this.unMSyncSendMsgMap)||void 0===r||r.set(t,e),!this.logOut&&this.autoReconnectNumTotal<this.autoReconnectNumMax&&(this.autoReconnectNumTotal<=this.socketHost.length&&this.isHttpDNS||!this.isHttpDNS)&&(c.kg.debug("need to reconnect",this.autoReconnectNumTotal,this.autoReconnectNumMax),this.offLineSendConnecting=!0,this.reconnecting||this.reconnect()),void(this.onError&&this.onError({type:a.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}));n="miniCore"===this.name?e:L.call(this,e,t),this.sock.send(n)}var ce=function(e,t){return e.send=ae,e.sendMsg=ae,c.kg.debug("init Msync by ".concat(e.name)),{generateProvision:U.bind(e),base64transform:L.bind(e),distributeMeta:x.bind(e),decodeMeta:P.bind(e),decodeUnreadDL:D.bind(e),_rebuild:k.bind(e),_lastsession:G.bind(e),receiveProvision:j.bind(e),isInQueue:Y.bind(e),decodeNotice:X.bind(e),decodeMSync:Z.bind(e),distributeMSync:Q.bind(e),encodeChatMsg:re.bind(e),upLoadFile:ne.bind(e),send:ae.bind(e),stopHeartBeat:J.bind(e),handleChatRoom:se.bind(e)}}},7252:function(e,t){"use strict";var r=function(){function e(e){this.type=e.type,this.message=e.message,this.data=e.data}return e.create=function(t){return new e(t)},e}();t.Z=r},8161:function(e,t,r){"use strict";r(7941),r(3710),r(1539),r(9714),r(9653),r(9554),r(4747),r(8309),r(2772),r(2222);var n=r(3720),o=r.n(n),i=r(4363),s=r(4370),a=r(1070),u=r(7360),c=r(2449),l={0:"TEXT",1:"IMAGE",2:"VIDEO",3:"LOCATION",4:"VOICE",5:"FILE",6:"COMMAND",7:"CUSTOM",8:"COMBINE"};function d(e){for(var t={},r=0;r<e.length;r++)if(8===e[r].type)t[e[r].key]=JSON.parse(e[r].stringValue);else if(7===e[r].type)t[e[r].key]=e[r].stringValue;else if(6===e[r].type)t[e[r].key]=e[r].doubleValue;else if(5===e[r].type)t[e[r].key]=e[r].floatValue;else if(1===e[r].type){var n=e[r].varintValue,i=new(o())(n.low,n.high,n.unsigned).toString();t[e[r].key]=0!==Number(i)}else 2!==e[r].type&&3!==e[r].type&&4!==e[r].type||(n=e[r].varintValue,i=new(o())(n.low,n.high,n.unsigned).toString(),t[e[r].key]=Number(i));return t}function f(e){var t,r,n,o=e.status,s=e.thirdMessage,c=e.msgBody,f=e.msgId,p=e.type,h=e.from,_=e.to,E=e.time,y=e.onlineState,v=e.chatType,m=e.ignoreCallback,g=e.priority,O=e.format,T={},R={},I=o.errorCode>0,C=o.errorCode,b=o.reason,N={},S=[],A=[],M={},w="",U=0,L=null,x=null;if(s.ext&&(N=d(s.ext)),s.meta&&"string"==typeof s.meta){var P=JSON.parse(s.meta);if(P.reaction&&(S=P.reaction).forEach((function(e){e.isAddedBySelf=e.state,delete e.state})),P.translations&&(A=P.translations),P.edit_msg){var D=P.edit_msg,k=D.count,H=D.operator;M={operationTime:D.edit_time,operatorId:H,operationCount:k},w=D.sender,U=D.send_time}P.thread&&"{}"!==JSON.stringify(P.thread)&&(L={messageId:P.thread.msg_parent_id,parentId:P.thread.muc_parent_id,chatThreadName:P.thread.thread_name}),P.thread_overview&&"{}"!==JSON.stringify(P.thread_overview)&&(x={id:P.thread_overview.id,parentId:P.thread_overview.muc_parent_id,name:P.thread_overview.name,lastMessage:P.thread_overview.last_message&&"{}"!==JSON.stringify(P.thread_overview.last_message)?(0,i.w)(P.thread_overview.last_message):null,createTimestamp:P.thread_overview.create_timestamp,updateTimestamp:P.thread_overview.update_timestamp,messageCount:P.thread_overview.message_count||0})}switch(c.type){case 0:if(Object.prototype.hasOwnProperty.call(c,"subType")&&0===c.subType){n=(c.remotePath&&this.apiUrl+c.remotePath.substr(c.remotePath.indexOf("/",9)))+"?em-redirect=true",c.secretKey&&(n="".concat(n,"&share-secret=").concat(c.secretKey));var B={id:f,type:"combine",chatType:v,to:_,from:h,ext:N,time:Number(E),onlineState:y,title:c.title||"",summary:c.summary||"",url:n||"",secret:c.secretKey||"",file_length:c.fileLength||0,filename:c.displayName||"",compatibleText:c.text,combineLevel:c.combineLevel||0};T.msgConfig&&(B.msgConfig=T.msgConfig),S.length>0&&(B.reactions=S),L&&(B.chatThread=L),x&&(B.chatThreadOverview=x),"chatRoom"===v&&(B.priority=g),R=B,!m&&this.eventHandler&&this.eventHandler.dispatch("onCombineMessage",B);break}!(T={id:f,type:p,contentsType:l[c.type],from:h,to:_,data:c.text,ext:N,sourceMsg:c.text,time:E,msgConfig:s.msgConfig,onlineState:y}).msgConfig&&delete s.msgConfig,T.error=I,T.errorText=b,T.errorCode=C,!m&&this.onTextMessage&&this.onTextMessage(T);var G={id:f,type:"txt",chatType:v,msg:c.text,to:_,from:h,ext:N,time:Number(E),onlineState:y};T.msgConfig&&(G.msgConfig=T.msgConfig),S.length>0&&(G.reactions=S),L&&(G.chatThread=L),x&&(G.chatThreadOverview=x),A.length>0&&(G.translations=A),M.operationCount>0&&(G.modifiedInfo=M,s.type===a.g.EDIT&&(G.from=w,G.time=U)),"chatRoom"===v&&(G.priority=g),R=G,!m&&this.eventHandler&&this.eventHandler.dispatch("onTextMessage",G);break;case 1:var F=(null===(t=null==c?void 0:c.size)||void 0===t?void 0:t.width)||0,j=(null===(r=null==c?void 0:c.size)||void 0===r?void 0:r.height)||0;n=this.useOwnUploadFun?c.remotePath:(c.remotePath&&this.apiUrl+c.remotePath.substr(c.remotePath.indexOf("/",9)))+"?em-redirect=true",c.secretKey&&!this.useOwnUploadFun&&(n="".concat(n,"&share-secret=").concat(c.secretKey)),!(T={id:f,type:p,contentsType:l[c.type],from:h,to:_,url:n,secret:c.secretKey,filename:c.displayName,thumb:this.useOwnUploadFun?"":"".concat(n,"&thumbnail=true"),thumb_secret:c.secretKey,file_length:c.fileLength||"",width:F,height:j,filetype:c.filetype||"",accessToken:this.token,ext:N,time:E,msgConfig:s.msgConfig,onlineState:y}).delay&&delete T.delay,!T.msgConfig&&delete s.msgConfig,T.error=I,T.errorText=b,T.errorCode=C,!m&&this.onPictureMessage&&this.onPictureMessage(T);var W={id:f,type:"img",chatType:v,from:h,to:_,url:n||"",width:F,height:j,secret:c.secretKey||"",thumb:this.useOwnUploadFun?"":"".concat(n,"&thumbnail=true"),thumb_secret:c.secretKey,file_length:c.fileLength||0,ext:N,time:Number(E),onlineState:y};T.msgConfig&&(W.msgConfig=T.msgConfig),S.length>0&&(W.reactions=S),L&&(W.chatThread=L),x&&(W.chatThreadOverview=x),"chatRoom"===v&&(W.priority=g),R=W,!m&&this.eventHandler&&this.eventHandler.dispatch("onImageMessage",W);break;case 2:n=this.useOwnUploadFun?c.remotePath:(c.remotePath&&this.apiUrl+c.remotePath.substr(c.remotePath.indexOf("/",9)))+"?em-redirect=true",c.secretKey&&!this.useOwnUploadFun&&(n="".concat(n,"&share-secret=").concat(c.secretKey)),!(T={id:f,type:p,contentsType:l[c.type],from:h,to:_,url:n,secret:c.secretKey,filename:c.displayName,length:c.duration||"",file_length:c.fileLength||"",filetype:c.filetype||"",accessToken:this.token||"",ext:N,time:E,msgConfig:s.msgConfig,onlineState:y}).delay&&delete T.delay,!T.msgConfig&&delete s.msgConfig,T.error=I,T.errorText=b,T.errorCode=C,!m&&this.onVideoMessage&&this.onVideoMessage(T);var q={id:f,type:"video",chatType:v,from:h,to:_,url:n,secret:c.secretKey,filename:c.displayName,length:c.duration||0,file:{},file_length:c.fileLength||0,filetype:c.filetype||"",accessToken:this.token||"",ext:N,time:Number(E),onlineState:y};T.msgConfig&&(q.msgConfig=T.msgConfig),S.length>0&&(q.reactions=S),L&&(q.chatThread=L),x&&(q.chatThreadOverview=x),"chatRoom"===v&&(q.priority=g),R=q,!m&&this.eventHandler&&this.eventHandler.dispatch("onVideoMessage",q);break;case 3:!(T={id:f,type:p,contentsType:l[c.type],from:h,to:_,addr:c.address,buildingName:c.buildingName,lat:c.latitude,lng:c.longitude,ext:N,time:E,msgConfig:s.msgConfig,onlineState:y}).delay&&delete T.delay,!T.msgConfig&&delete s.msgConfig,T.error=I,T.errorText=b,T.errorCode=C,!m&&this.onLocationMessage&&this.onLocationMessage(T);var K={id:f,type:"loc",chatType:v,from:h,to:_,buildingName:c.buildingName,addr:c.address,lat:c.latitude,lng:c.longitude,ext:N,time:Number(E),onlineState:y};T.msgConfig&&(K.msgConfig=T.msgConfig),S.length>0&&(K.reactions=S),L&&(K.chatThread=L),x&&(K.chatThreadOverview=x),"chatRoom"===v&&(K.priority=g),R=K,!m&&this.eventHandler&&this.eventHandler.dispatch("onLocationMessage",K);break;case 4:n=this.useOwnUploadFun?c.remotePath:(c.remotePath&&this.apiUrl+c.remotePath.substr(c.remotePath.indexOf("/",9)))+"?em-redirect=true",c.secretKey&&!this.useOwnUploadFun&&(n="".concat(n,"&share-secret=").concat(c.secretKey)),!(T={id:f,type:p,contentsType:l[c.type],from:h,to:_,url:n,secret:c.secretKey,filename:c.displayName,file_length:c.fileLength||"",accessToken:this.token||"",ext:N,length:c.duration,time:E,msgConfig:s.msgConfig,onlineState:y}).delay&&delete T.delay,!T.msgConfig&&delete s.msgConfig,T.error=I,T.errorText=b,T.errorCode=C,!m&&this.onAudioMessage&&this.onAudioMessage(T);var V={id:f,type:"audio",chatType:v,from:h,to:_,url:n,secret:c.secretKey,file:{},filename:c.displayName,length:c.duration||0,file_length:c.fileLength||0,filetype:c.filetype||"",accessToken:this.token||"",ext:N,time:Number(E),onlineState:y};T.msgConfig&&(V.msgConfig=T.msgConfig),S.length>0&&(V.reactions=S),L&&(V.chatThread=L),x&&(V.chatThreadOverview=x),"chatRoom"===v&&(V.priority=g),R=V,!m&&this.eventHandler&&this.eventHandler.dispatch("onAudioMessage",V);break;case 5:n=this.useOwnUploadFun?c.remotePath:(c.remotePath&&this.apiUrl+c.remotePath.substr(c.remotePath.indexOf("/",9)))+"?em-redirect=true",c.secretKey&&!this.useOwnUploadFun&&(n="".concat(n,"&share-secret=").concat(c.secretKey)),!(T={id:f,type:p,contentsType:l[c.type],from:h,to:_,url:n,secret:c.secretKey,filename:c.displayName,file_length:c.fileLength,accessToken:this.token||"",ext:N,time:E,msgConfig:s.msgConfig,onlineState:y}).delay&&delete T.delay,!T.msgConfig&&delete s.msgConfig,T.error=I,T.errorText=b,T.errorCode=C,!m&&this.onFileMessage&&this.onFileMessage(T);var J={id:f,type:"file",chatType:v,from:h,to:_,url:n,secret:c.secretKey,file:{},filename:c.displayName,length:c.duration||0,file_length:c.fileLength||0,filetype:c.filetype||"",accessToken:this.token||"",ext:N,time:Number(E),onlineState:y};T.msgConfig&&(J.msgConfig=T.msgConfig),S.length>0&&(J.reactions=S),L&&(J.chatThread=L),x&&(J.chatThreadOverview=x),"chatRoom"===v&&(J.priority=g),R=J,!m&&this.eventHandler&&this.eventHandler.dispatch("onFileMessage",J);break;case 6:!(T={id:f,type:p,contentsType:l[c.type],from:h,to:_,action:c.action,ext:N,time:E,msgConfig:s.msgConfig,onlineState:y}).msgConfig&&delete s.msgConfig,T.error=I,T.errorText=b,T.errorCode=C,!m&&this.onCmdMessage&&this.onCmdMessage(T);var z={id:f,type:"cmd",chatType:v,from:h,to:_,action:c.action,ext:N,time:Number(E),onlineState:y};T.msgConfig&&(z.msgConfig=T.msgConfig),S.length>0&&(z.reactions=S),L&&(z.chatThread=L),x&&(z.chatThreadOverview=x),"chatRoom"===v&&(z.priority=g),R=z,!m&&this.eventHandler&&this.eventHandler.dispatch("onCmdMessage",z);break;case 7:var Y={},X={};s.contents[0].customExts&&(Y=d(s.contents[0].customExts)),s.contents[0].params&&(X=d(s.contents[0].params)),T={id:f,type:p,contentsType:l[c.type],from:h,to:_,customEvent:c.customEvent,params:X,customExts:Y,ext:N,time:E,onlineState:y},!m&&this.onCustomMessage&&this.onCustomMessage(T);var $={id:f,type:"custom",chatType:v,from:h,to:_,customEvent:c.customEvent,params:X,customExts:Y,ext:N,time:Number(E),onlineState:y};T.msgConfig&&($.msgConfig=T.msgConfig),S.length>0&&($.reactions=S),L&&($.chatThread=L),x&&($.chatThreadOverview=x),"chatRoom"===v&&($.priority=g),R=$,!m&&this.eventHandler&&this.eventHandler.dispatch("onCustomMessage",$);break;case 8:n=(c.remotePath&&this.apiUrl+c.remotePath.substr(c.remotePath.indexOf("/",9)))+"?em-redirect=true",c.secretKey&&(n="".concat(n,"&share-secret=").concat(c.secretKey));var Z={id:f,type:"combine",chatType:v,to:_,from:h,ext:N,time:Number(E),onlineState:y,title:c.title||"",summary:c.summary||"",url:n||"",secret:c.secretKey||"",file_length:c.fileLength||0,filename:c.displayName||"",compatibleText:c.text,combineLevel:c.combineLevel||0};T.msgConfig&&(Z.msgConfig=T.msgConfig),S.length>0&&(Z.reactions=S),L&&(Z.chatThread=L),x&&(Z.chatThreadOverview=x),"chatRoom"===v&&(Z.priority=g),R=Z,!m&&this.eventHandler&&this.eventHandler.dispatch("onCombineMessage",Z);break;default:u.kg.error("Unknow message type, message:",c)}return O?R:T}function p(e,t,r){if(this.delivery&&e!==t){var n=this.getUniqueId(),o=new c.Message("delivery",n);o.set({ackId:r,to:e}),u.kg.debug("send delivery ack"),this.send(o.body)}}t.Z=function(e,t,r,n){var i,c,l,h,_,E,y=new(o())(e.timestamp.low,e.timestamp.high,e.timestamp.unsigned).toString(),v=this.root.lookup("easemob.pb.MessageBody").decode(e.payload),m=1;if(e.meta&&e.meta.length)switch(s.P6.parseNotify(e.meta).is_online){case 0:m=0;break;case 1:m=1;break;default:m=2}else m=3;var g=new(o())(e.id.low,e.id.high,e.id.unsigned).toString(),O=v.ackMessageId?new(o())(v.ackMessageId.low,v.ackMessageId.high,v.ackMessageId.unsigned).toString():"",T="",R=v.from&&v.from.name,I=v.to&&v.to.name;switch(u.kg.debug("thirdMessage:",v),v.type){case a.g.SINGLECHAT:T="chat","agoraToken"===this.grantType&&(T="singleChat"),this.delivery&&!r&&R!==this.context.userId&&p.call(this,R,I,g);break;case a.g.GROUPCHAT:T="groupchat","agoraToken"===this.grantType&&(T="groupChat");break;case a.g.CHATROOM:T="chatroom","agoraToken"===this.grantType&&(T="chatRoom"),m=1;break;case a.g.READ_ACK:T="read_ack";var C=void 0;return v.ext[0]&&JSON.parse(v.ext[0].stringValue)?(C={id:g,type:"read",from:R,to:I,mid:O,groupReadCount:v.ext[0]&&JSON.parse(v.ext[0].stringValue),ackContent:v.ackContent,onlineState:m},this.onReadMessage&&this.onReadMessage(C),void(null===(i=this.eventHandler)||void 0===i||i.dispatch("onReadMessage",C))):(C={id:g,type:"read",from:R,to:I,mid:O,onlineState:m},this.onReadMessage&&this.onReadMessage(C),void(null===(c=this.eventHandler)||void 0===c||c.dispatch("onReadMessage",C)));case a.g.DELIVER_ACK:T="deliver_ack",this.onDeliveredMessage&&this.onDeliveredMessage({id:g,type:"delivery",from:R,to:I,mid:O,onlineState:m});var b={id:g,type:"delivery",from:R,to:I,mid:O,onlineState:m};return void(null===(l=this.eventHandler)||void 0===l||l.dispatch("onDeliveredMessage",b));case a.g.RECALL:T="recall";var N={id:g,from:R||"admin",to:I,mid:O,onlineState:m};return this.onRecallMessage&&this.onRecallMessage(N),void(null===(h=this.eventHandler)||void 0===h||h.dispatch("onRecallMessage",N));case a.g.CHANNEL_ACK:this.onChannelMessage&&this.onChannelMessage({id:g,type:"channel",chatType:"singleChat",from:R,to:I,time:Number(y),onlineState:m});var S={id:g,type:"channel",chatType:"singleChat",from:R,to:I,time:Number(y),onlineState:m};return void(null===(_=this.eventHandler)||void 0===_||_.dispatch("onChannelMessage",S));case a.g.EDIT:var A=f.call(this,{status:{errorCode:0,reason:""},thirdMessage:v,msgBody:v.contents[0],msgId:g,type:T,from:R,to:I,time:y,onlineState:m,ignoreCallback:!0,format:!0}),M=!!e.to&&-1!==e.to.domain.indexOf("conference");A.chatType=M?"groupChat":"singleChat";var w={id:v.editMessageId&&new(o())(v.editMessageId.low,v.editMessageId.high,v.editMessageId.unsigned).toString(),type:A.type,chatType:A.chatType,msg:A.msg,to:A.to,from:A.from,time:A.time,modifiedInfo:A.modifiedInfo};return A.translations&&(w.translations=A.translations),void("txt"===A.type&&(null===(E=this.eventHandler)||void 0===E||E.dispatch("onModifiedMessage",w)));default:return void u.kg.error("unexpected message type: ".concat(v.type))}var U,L="normal";if("chat"===T.toLowerCase()||"singleChat"===T)U="singleChat";else if("groupchat"===T.toLowerCase()||"groupChat"===T)U="groupChat";else if(U="chatRoom",m=1,e.ext){var x=d([e.ext]);L=0===x.chatroom_msg_tag?"high":2===x.chatroom_msg_tag?"low":"normal"}for(var P=0;P<v.contents.length;P++)return f.call(this,{status:t,thirdMessage:v,msgBody:v.contents[P],msgId:g,type:T,from:R,to:I,time:y,onlineState:m,chatType:U,ignoreCallback:r,priority:L,format:n})}},4968:function(e,t,r){"use strict";r(8309);var n,o=r(7360),i=r(2071),s=r(1595);!function(e){e[e.Add=2]="Add",e[e.Remove=3]="Remove",e[e.Accept=4]="Accept",e[e.Decline=5]="Decline",e[e.Ban=6]="Ban",e[e.Allow=7]="Allow"}(n||(n={}));var a={operatRoster:function(e,t,r,a){var u=[],c=this.root.lookup("easemob.pb.RosterBody"),l=c.decode(u);switch(t){case"add":l.operation=n.Add;break;case"remove":l.operation=n.Remove;break;case"accept":l.operation=n.Accept;break;case"decline":l.operation=n.Decline;break;case"ban":l.operation=n.Ban;break;case"allow":l.operation=n.Allow;break;default:o.kg.error("operatRoster:",t)}l.from=this.context.jid;var d=[];if("string"==typeof e.to)d.push({appKey:this.appKey||this.context.appKey,name:e.to,domain:"easemob.com"});else if(e.to instanceof Array)for(var f=0;f<e.to.length;f++)d.push({appKey:this.appKey,name:e.to[f],domain:"easemob.com"});l.to=d,l.reason=e.message||"",l=c.encode(l).finish();var p=this.root.lookup("easemob.pb.Meta").decode(u);p.id=e.id||this.getUniqueId();var h=this.dataReport.geOperateFun({operationName:s.fI[t]});i.Nl.size<=i.F3&&i.Nl.set(p.id,{rpt:h,requestName:s.fI[t],resolve:r,reject:a}),p.from=this.context.jid,p.to={domain:"@easemob.com"},p.ns=3,p.payload=l;var _=this.root.lookup("easemob.pb.CommSyncUL"),E=_.decode(u);E.meta=p,E=_.encode(E).finish();var y=this.root.lookup("easemob.pb.MSync"),v=y.decode(u);if(v.version=this.version,v.encryptType=[0],v.command=0,v.guid=this.jid,v.payload=E,v=y.encode(v).finish(),"miniCore"===this.name)this.sock.send(v);else{var m=this.mSync.base64transform(v);this.sock.send(m)}},handleRosterMsg:function(e){var t,r,n,i,s,a,u=this.root.lookup("easemob.pb.RosterBody").decode(e.payload),c={type:"",to:u.to[0].name,from:u.from.name,status:u.reason};switch(u.operation){case 2:c.type="subscribe",this.onContactInvited&&this.onContactInvited(c),null===(t=this.eventHandler)||void 0===t||t.dispatch("onContactInvited",c);break;case 3:c.type="unsubscribed",this.onContactDeleted&&this.onContactDeleted(c),null===(r=this.eventHandler)||void 0===r||r.dispatch("onContactDeleted",c);break;case 4:c.type="subscribed",this.onContactAdded&&this.onContactAdded(c),null===(n=this.eventHandler)||void 0===n||n.dispatch("onContactAdded",c);break;case 5:c.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(c),null===(i=this.eventHandler)||void 0===i||i.dispatch("onContactRefuse",c);break;case 6:case 7:break;case 8:c.type="subscribed",this.onContactAgreed&&this.onContactAgreed(c),null===(s=this.eventHandler)||void 0===s||s.dispatch("onContactAgreed",c);break;case 9:c.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(c),null===(a=this.eventHandler)||void 0===a||a.dispatch("onContactRefuse",c);break;default:o.kg.error("handleRosterMsg:",u)}this.onPresence&&c.type&&this.onPresence(c)}};t.Z=a},7360:function(e,t,r){"use strict";function n(){console.log&&(console.log.apply?console.log.apply(console,Array.prototype.slice.call(arguments)):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}r.d(t,{kg:function(){return p}}),r(7042),r(2222),r(8309),r(9600),r(6992),r(1539),r(8783),r(3948),r(285),r(1637),r(4812),r(3710),r(9554),r(2772),r(4916),r(2526),r(1817),r(2165);var o="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var s,a=function(){},u={};!function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={}));var c=function(){function e(e,t,r){this.name=e||"defaultLogger",this.currentLevel=0,this.useCookiePersist=!1,this.storageLogLevelKey="loglevel",this.levels=s,this.logMethods=["trace","debug","info","warn","error"],this.methodFactory=r||this.defaultMethodFactory;var n=this._getPersistedLevel();null==n&&(n=null===t?"WARN":t),this.logs=[],this.config={useCache:!1,maxCache:3145728,color:"",background:""},this.logBytes=0,this.setLevel(n,!1,"")}return e.prototype.setConfig=function(e){this.config=e},e.prototype.getLevel=function(){return this.currentLevel},e.prototype.setLevel=function(e,t,r){if("string"==typeof e&&(e=s[e]),void 0===e&&(e=0),!("number"==typeof e&&e>=0&&e<=this.levels.SILENT))throw Error("log.setLevel() called with invalid level: "+e);if(this.currentLevel=e,!1!==t&&this._persistLevel(e),this.replaceLoggingMethods(e,r),"undefined"==typeof console&&e<s.SILENT)throw Error("No console available for logging")},e.prototype.setDefaultLevel=function(e){this._getPersistedLevel()||this.setLevel(e,!1,"")},e.prototype.enableAll=function(e){this.setLevel(this.levels.TRACE,!0,"")},e.prototype.disableAll=function(e){this.setLevel(this.levels.SILENT,!0,"")},e.prototype.getLogs=function(){return this.logs},e.prototype.download=function(){if("undefined"!=typeof window&&"undefined"!=typeof document){var e=this.getLogs().join("\n"),t=new Blob([e],{type:"text/plain;charset=UTF-8"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.style.display="none",n.href=r,n.setAttribute("download","sdklog"),document.body.appendChild(n),n.click()}},e.prototype._bindMethod=function(e,t,r){var n=this,o=e[t],i=this.getTime();if(r)return this._cacheLog;if("function"==typeof o.bind)return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=n.getTime();o.call.apply(o,function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([e,"".concat(s," IM SDK [").concat("log"===t?"debug":t,"]: ")],r,!1)),n.onLog&&n.onLog({time:s,level:"log"===t?"debug":t,logs:r})};try{return Function.prototype.bind.call(o,e,"".concat(i," IM SDK [").concat("log"===t?"debug":t,"]: "))}catch(t){return function(){return Function.prototype.apply.apply(o,[e,arguments])}}},e.prototype.getTime=function(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()},e.prototype._cacheLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(new Date).toLocaleString()+": ",n="";e.forEach((function(e){"object"===i(e)?n+=JSON.stringify(e)+" ":n+=e+" "})),this._cacheLogCall(r+n)},e.prototype._cacheLogCall=function(e){var t=l(e),r=this.logBytes+t,n=this.config.maxCache;if(!(t>=n)){if(r<n)this.logBytes+=t;else for(var o=r-n,i=0;i<o;){var s=this.logs.shift();void 0!==s&&(i+=l(s))}this.logs.push(e)}},e.prototype._getPersistedLevel=function(){var e;if("undefined"==typeof window)return 5;if("undefined"===(e=window&&window.localStorage&&window.localStorage[this.storageLogLevelKey])){var t=window.document.cookie,r=t.indexOf(encodeURIComponent(this.storageLogLevelKey));-1!==r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}return e||5},e.prototype._persistLevel=function(e){var t=this.logMethods[e]||"SILENT";"undefined"!=typeof window&&(window.localStorage&&(window.localStorage[this.storageLogLevelKey]=t),this.useCookiePersist&&(window.document.cookie=encodeURIComponent(this.storageLogLevelKey)+"="+t+";"))},e.prototype.replaceLoggingMethods=function(e,t){for(var r=0;r<this.logMethods.length;r++){var n=this.logMethods[r];this[n]=r<e?a:this.methodFactory(n,e,t)}this.log=this.debug},e.prototype.defaultMethodFactory=function(e,t,r){return this.realMethod(e)||this.enableLoggingWhenConsoleArrives.apply(this,[e,t,r])},e.prototype.realMethod=function(e){return"debug"===e&&(e="log"),"undefined"!=typeof console&&("trace"===e&&o?n:void 0!==console[e]?this._bindMethod(console,e,this.config.useCache):void 0!==console.log?this._bindMethod(console,"log",this.config.useCache):a)},e.prototype.enableLoggingWhenConsoleArrives=function(e,t,r){return function(){"undefined"!=typeof console&&(this.replaceLoggingMethods.call(this,t,r),this[e].apply(this,arguments))}.bind(this)},e}();function l(e){for(var t=e.length,r=0;r<e.length;r++)e.charCodeAt(r)>255&&t++;return t}var d=new c;d.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");return this};var f="undefined"!=typeof window?window.log:void 0;d.noConflict=function(){return"undefined"!=typeof window&&window.log===d&&(window.log=f),d},d.getLoggers=function(){return u};var p=d},2449:function(e,t,r){"use strict";r.r(t),r.d(t,{Message:function(){return E}});var n=r(4370),o=function(){function e(e){var t=e.id;this.id=t,this.type=e.type}return e.prototype.set=function(e){this.body={id:this.id,ackId:e.id,type:"read",to:e.to,from:e.from||"",chatType:e.chatType}},e.create=function(e){return{id:n.P6.getUniqueId(),chatType:e.chatType,ackId:e.id,type:"read",to:e.to,from:e.from||"",ackContent:e.ackContent,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly}},e}(),i=function(){function e(e){this.id=e.id,this.type=e.type}return e.prototype.set=function(e){this.body={id:this.id,ackId:e.ackId,type:"delivery",to:e.to,from:e.from||""}},e.create=function(e){return{id:n.P6.getUniqueId(),ackId:e.ackId,type:"delivery",to:e.to,from:e.from||"",isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly}},e}(),s=(r(3843),r(3710),function(){function e(e){var t=e.type,r=e.id;this.id=r,this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"channel",to:e.to,from:e.from||"",time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:n.P6.getUniqueId(),type:"channel",chatType:e.chatType||"singleChat",to:e.to,from:e.from||"",time:Date.now(),isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly}},e}()),a=(r(9753),function(){function e(e){var t=e.type,r=e.id||n.P6.getUniqueId();this.id=r,this.type=t,this.value=""}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"txt",to:e.to,msg:e.msg,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),isChatThread:e.isChatThread},this.value=e.msg},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){var t,r;return(null===(t=e.msgConfig)||void 0===t?void 0:t.languages)&&Array.isArray(null===(r=e.msgConfig)||void 0===r?void 0:r.languages),{type:"txt",id:n.P6.getUniqueId(),msg:e.msg,to:e.to,from:e.from||"",chatType:e.chatType,ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}()),u=function(){function e(e){var t=e.type,r=e.id;this.id=r||n.P6.getUniqueId(),this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"cmd",to:e.to,action:e.action,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:n.P6.getUniqueId(),type:"cmd",to:e.to,from:e.from||"",chatType:e.chatType||"singleChat",action:e.action,time:Date.now(),ext:e.ext,msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),c=function(){function e(e){var t=e.type,r=e.id||n.P6.getUniqueId();this.id=r,this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"custom",to:e.to,customEvent:e.customEvent,customExts:e.customExts,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:n.P6.getUniqueId(),chatType:e.chatType||"singleChat",type:"custom",to:e.to,customEvent:e.customEvent,customExts:e.customExts,from:e.from||"",ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),l=function(){function e(e){var t=e.type,r=e.id;this.id=r||n.P6.getUniqueId(),this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"loc",to:e.to,addr:e.addr,buildingName:e.buildingName,lat:e.lat,lng:e.lng,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:n.P6.getUniqueId(),chatType:e.chatType||"singleChat",type:"loc",to:e.to,addr:e.addr,buildingName:e.buildingName,lat:e.lat,lng:e.lng,from:e.from||"",ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),d=function(){function e(e){var t=e.type,r=e.id||n.P6.getUniqueId();this.id=r,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&n.P6.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"img",file:e.file,width:e.width,height:e.height,to:e.to,from:e.from||"",roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:n.P6.getUniqueId(),chatType:e.chatType,type:"img",url:e.url,width:e.width,height:e.height,file:e.file,to:e.to,from:e.from||"",ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,file_length:e.file_length,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList,thumbnailWidth:e.thumbnailWidth,thumbnailHeight:e.thumbnailHeight}},e}(),f=function(){function e(e){var t=e.type,r=e.id||n.P6.getUniqueId();this.id=r,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&n.P6.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"audio",file:e.file,filename:e.filename,length:e.length,file_length:e.file_length,fileInputId:e.fileInputId,to:e.to,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:n.P6.getUniqueId(),chatType:e.chatType,type:"audio",filename:e.filename,length:e.length,file:e.file,to:e.to,from:e.from||"",ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,file_length:e.file_length,msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),p=function(){function e(e){var t=e.type,r=e.id;this.id=r,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&n.P6.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"video",file:e.file,filename:e.filename,length:e.length,file_length:e.file_length,fileInputId:e.fileInputId,to:e.to,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),apiUrl:e.apiUrl,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:n.P6.getUniqueId(),chatType:e.chatType||"singleChat",type:"video",file:e.file,filename:e.filename,length:e.length,file_length:e.file_length,fileInputId:e.fileInputId,to:e.to,from:e.from||"",ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),h=function(){function e(e){var t=e.type,r=e.id;this.id=r,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&n.P6.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"file",file:e.file,filename:e.filename,fileInputId:e.fileInputId,to:e.to,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:n.P6.getUniqueId(),chatType:e.chatType||"singleChat",type:"file",file:e.file,filename:e.filename,fileInputId:e.fileInputId,file_length:e.file_length,to:e.to,from:e.from||"",ext:e.ext,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),_=function(){function e(e){var t=e.type,r=e.id||n.P6.getUniqueId();this.id=r,this.type=t,this.value=""}return e.create=function(e){return{type:"combine",id:n.P6.getUniqueId(),to:e.to,from:e.from||"",chatType:e.chatType,ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList,compatibleText:e.compatibleText,title:e.title,summary:e.summary,messageList:e.messageList,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete}},e}(),E=function(){function e(t,r){return this.type=t,this.id=r||n.P6.getUniqueId(),e.createOldMsg({type:t,id:this.id})}return e.createOldMsg=function(e){switch(e.type){case"read":return new o({type:"read",id:e.id});case"delivery":return new i({type:"delivery",id:e.id});case"channel":return new s({type:"channel",id:e.id});case"txt":return new a({type:"txt",id:e.id});case"cmd":return new u({type:"cmd",id:e.id});case"custom":return new c({type:"custom",id:e.id});case"loc":return new l({type:"loc",id:e.id});case"img":return new d({type:"img",id:e.id});case"audio":return new f({type:"audio",id:e.id});case"video":return new p({type:"video",id:e.id});case"file":return new h({type:"file",id:e.id})}},e.create=function(e){return"txt"!==(t=e).type||"version"in t?function(e){return"img"===e.type&&!("version"in e)}(e)?d.create(e):function(e){return"cmd"===e.type&&!("version"in e)}(e)?u.create(e):function(e){return"file"===e.type&&!("version"in e)}(e)?h.create(e):function(e){return"audio"===e.type&&!("version"in e)}(e)?f.create(e):function(e){return"video"===e.type&&!("version"in e)}(e)?p.create(e):function(e){return"custom"===e.type&&!("version"in e)}(e)?c.create(e):function(e){return"loc"===e.type&&!("version"in e)}(e)?l.create(e):function(e){return"channel"===e.type&&!("version"in e)}(e)?s.create(e):function(e){return"delivery"===e.type&&!("version"in e)}(e)?i.create(e):function(e){return"read"===e.type&&!("version"in e)}(e)?o.create(e):function(e){return"combine"===e.type&&!("version"in e)}(e)?_.create(e):{}:a.create(e);var t},e.prototype.set=function(e){},e}()},5531:function(e,t,r){"use strict";var n;r.d(t,{E:function(){return n}}),function(e){e[e.REQUEST_SUCCESS=0]="REQUEST_SUCCESS",e[e.REQUEST_TIMEOUT=-1]="REQUEST_TIMEOUT",e[e.REQUEST_UNKNOWN=-2]="REQUEST_UNKNOWN",e[e.REQUEST_PARAMETER_ERROR=-3]="REQUEST_PARAMETER_ERROR",e[e.REQUEST_ABORT=-4]="REQUEST_ABORT",e[e.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR=0]="WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR",e[e.WEBIM_CONNCTION_OPEN_ERROR=1]="WEBIM_CONNCTION_OPEN_ERROR",e[e.WEBIM_CONNCTION_AUTH_ERROR=2]="WEBIM_CONNCTION_AUTH_ERROR",e[e.WEBIM_CONNCTION_OPEN_USERGRID_ERROR=3]="WEBIM_CONNCTION_OPEN_USERGRID_ERROR",e[e.WEBIM_CONNCTION_ATTACH_ERROR=4]="WEBIM_CONNCTION_ATTACH_ERROR",e[e.WEBIM_CONNCTION_ATTACH_USERGRID_ERROR=5]="WEBIM_CONNCTION_ATTACH_USERGRID_ERROR",e[e.WEBIM_CONNCTION_REOPEN_ERROR=6]="WEBIM_CONNCTION_REOPEN_ERROR",e[e.WEBIM_CONNCTION_SERVER_CLOSE_ERROR=7]="WEBIM_CONNCTION_SERVER_CLOSE_ERROR",e[e.WEBIM_CONNCTION_SERVER_ERROR=8]="WEBIM_CONNCTION_SERVER_ERROR",e[e.WEBIM_CONNCTION_IQ_ERROR=9]="WEBIM_CONNCTION_IQ_ERROR",e[e.WEBIM_CONNCTION_PING_ERROR=10]="WEBIM_CONNCTION_PING_ERROR",e[e.WEBIM_CONNCTION_NOTIFYVERSION_ERROR=11]="WEBIM_CONNCTION_NOTIFYVERSION_ERROR",e[e.WEBIM_CONNCTION_GETROSTER_ERROR=12]="WEBIM_CONNCTION_GETROSTER_ERROR",e[e.WEBIM_CONNCTION_CROSSDOMAIN_ERROR=13]="WEBIM_CONNCTION_CROSSDOMAIN_ERROR",e[e.WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES=14]="WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES",e[e.WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR=15]="WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR",e[e.WEBIM_CONNCTION_DISCONNECTED=16]="WEBIM_CONNCTION_DISCONNECTED",e[e.WEBIM_CONNCTION_AJAX_ERROR=17]="WEBIM_CONNCTION_AJAX_ERROR",e[e.WEBIM_CONNCTION_JOINROOM_ERROR=18]="WEBIM_CONNCTION_JOINROOM_ERROR",e[e.WEBIM_CONNCTION_GETROOM_ERROR=19]="WEBIM_CONNCTION_GETROOM_ERROR",e[e.WEBIM_CONNCTION_GETROOMINFO_ERROR=20]="WEBIM_CONNCTION_GETROOMINFO_ERROR",e[e.WEBIM_CONNCTION_GETROOMMEMBER_ERROR=21]="WEBIM_CONNCTION_GETROOMMEMBER_ERROR",e[e.WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR=22]="WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR",e[e.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR=23]="WEBIM_CONNCTION_LOAD_CHATROOM_ERROR",e[e.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR=24]="WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR",e[e.WEBIM_CONNCTION_JOINCHATROOM_ERROR=25]="WEBIM_CONNCTION_JOINCHATROOM_ERROR",e[e.WEBIM_CONNCTION_QUITCHATROOM_ERROR=26]="WEBIM_CONNCTION_QUITCHATROOM_ERROR",e[e.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR=27]="WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR",e[e.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR=28]="WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR",e[e.WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR=29]="WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR",e[e.WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR=30]="WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR",e[e.WEBIM_CONNCTION_CALLBACK_INNER_ERROR=31]="WEBIM_CONNCTION_CALLBACK_INNER_ERROR",e[e.WEBIM_CONNCTION_CLIENT_OFFLINE=32]="WEBIM_CONNCTION_CLIENT_OFFLINE",e[e.WEBIM_CONNCTION_CLIENT_LOGOUT=33]="WEBIM_CONNCTION_CLIENT_LOGOUT",e[e.WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR=34]="WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR",e[e.WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP=35]="WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP",e[e.WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP=36]="WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP",e[e.WEBIM_CONNECTION_ACCEPT_JOIN_GROUP=37]="WEBIM_CONNECTION_ACCEPT_JOIN_GROUP",e[e.WEBIM_CONNECTION_DECLINE_JOIN_GROUP=38]="WEBIM_CONNECTION_DECLINE_JOIN_GROUP",e[e.WEBIM_CONNECTION_CLOSED=39]="WEBIM_CONNECTION_CLOSED",e[e.WEBIM_CONNECTION_ERROR=40]="WEBIM_CONNECTION_ERROR",e[e.MAX_LIMIT=50]="MAX_LIMIT",e[e.MESSAGE_NOT_FOUND=51]="MESSAGE_NOT_FOUND",e[e.NO_PERMISSION=52]="NO_PERMISSION",e[e.OPERATION_UNSUPPORTED=53]="OPERATION_UNSUPPORTED",e[e.OPERATION_NOT_ALLOWED=54]="OPERATION_NOT_ALLOWED",e[e.WEBIM_UPLOADFILE_BROWSER_ERROR=100]="WEBIM_UPLOADFILE_BROWSER_ERROR",e[e.WEBIM_UPLOADFILE_ERROR=101]="WEBIM_UPLOADFILE_ERROR",e[e.WEBIM_UPLOADFILE_NO_LOGIN=102]="WEBIM_UPLOADFILE_NO_LOGIN",e[e.WEBIM_UPLOADFILE_NO_FILE=103]="WEBIM_UPLOADFILE_NO_FILE",e[e.WEBIM_DOWNLOADFILE_ERROR=200]="WEBIM_DOWNLOADFILE_ERROR",e[e.WEBIM_DOWNLOADFILE_NO_LOGIN=201]="WEBIM_DOWNLOADFILE_NO_LOGIN",e[e.WEBIM_DOWNLOADFILE_BROWSER_ERROR=202]="WEBIM_DOWNLOADFILE_BROWSER_ERROR",e[e.PARSE_FILE_ERROR=203]="PARSE_FILE_ERROR",e[e.USER_NOT_FOUND=204]="USER_NOT_FOUND",e[e.MESSAGE_PARAMETER_ERROR=205]="MESSAGE_PARAMETER_ERROR",e[e.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE=206]="WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE",e[e.WEBIM_CONNCTION_USER_REMOVED=207]="WEBIM_CONNCTION_USER_REMOVED",e[e.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD=216]="WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD",e[e.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE=217]="WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE",e[e.USER_MUTED_BY_ADMIN=219]="USER_MUTED_BY_ADMIN",e[e.USER_NOT_FRIEND=221]="USER_NOT_FRIEND",e[e.WEBIM_MESSAGE_REC_TEXT=300]="WEBIM_MESSAGE_REC_TEXT",e[e.WEBIM_MESSAGE_REC_TEXT_ERROR=301]="WEBIM_MESSAGE_REC_TEXT_ERROR",e[e.WEBIM_MESSAGE_REC_EMOTION=302]="WEBIM_MESSAGE_REC_EMOTION",e[e.WEBIM_MESSAGE_REC_PHOTO=303]="WEBIM_MESSAGE_REC_PHOTO",e[e.WEBIM_MESSAGE_REC_AUDIO=304]="WEBIM_MESSAGE_REC_AUDIO",e[e.WEBIM_MESSAGE_REC_AUDIO_FILE=305]="WEBIM_MESSAGE_REC_AUDIO_FILE",e[e.WEBIM_MESSAGE_REC_VEDIO=306]="WEBIM_MESSAGE_REC_VEDIO",e[e.WEBIM_MESSAGE_REC_VEDIO_FILE=307]="WEBIM_MESSAGE_REC_VEDIO_FILE",e[e.WEBIM_MESSAGE_REC_FILE=308]="WEBIM_MESSAGE_REC_FILE",e[e.WEBIM_MESSAGE_SED_TEXT=309]="WEBIM_MESSAGE_SED_TEXT",e[e.WEBIM_MESSAGE_SED_EMOTION=310]="WEBIM_MESSAGE_SED_EMOTION",e[e.WEBIM_MESSAGE_SED_PHOTO=311]="WEBIM_MESSAGE_SED_PHOTO",e[e.WEBIM_MESSAGE_SED_AUDIO=312]="WEBIM_MESSAGE_SED_AUDIO",e[e.WEBIM_MESSAGE_SED_AUDIO_FILE=313]="WEBIM_MESSAGE_SED_AUDIO_FILE",e[e.WEBIM_MESSAGE_SED_VEDIO=314]="WEBIM_MESSAGE_SED_VEDIO",e[e.WEBIM_MESSAGE_SED_VEDIO_FILE=315]="WEBIM_MESSAGE_SED_VEDIO_FILE",e[e.WEBIM_MESSAGE_SED_FILE=316]="WEBIM_MESSAGE_SED_FILE",e[e.WEBIM_MESSAGE_SED_ERROR=317]="WEBIM_MESSAGE_SED_ERROR",e[e.STATUS_INIT=400]="STATUS_INIT",e[e.STATUS_DOLOGIN_USERGRID=401]="STATUS_DOLOGIN_USERGRID",e[e.STATUS_DOLOGIN_IM=402]="STATUS_DOLOGIN_IM",e[e.STATUS_OPENED=403]="STATUS_OPENED",e[e.STATUS_CLOSING=404]="STATUS_CLOSING",e[e.STATUS_CLOSED=405]="STATUS_CLOSED",e[e.STATUS_ERROR=406]="STATUS_ERROR",e[e.SERVER_BUSY=500]="SERVER_BUSY",e[e.MESSAGE_INCLUDE_ILLEGAL_CONTENT=501]="MESSAGE_INCLUDE_ILLEGAL_CONTENT",e[e.MESSAGE_EXTERNAL_LOGIC_BLOCKED=502]="MESSAGE_EXTERNAL_LOGIC_BLOCKED",e[e.SERVER_UNKNOWN_ERROR=503]="SERVER_UNKNOWN_ERROR",e[e.MESSAGE_RECALL_TIME_LIMIT=504]="MESSAGE_RECALL_TIME_LIMIT",e[e.SERVICE_NOT_ENABLED=505]="SERVICE_NOT_ENABLED",e[e.SERVICE_NOT_ALLOW_MESSAGING=506]="SERVICE_NOT_ALLOW_MESSAGING",e[e.SERVICE_NOT_ALLOW_MESSAGING_MUTE=507]="SERVICE_NOT_ALLOW_MESSAGING_MUTE",e[e.MESSAGE_MODERATION_BLOCKED=508]="MESSAGE_MODERATION_BLOCKED",e[e.MESSAGE_CURRENT_LIMITING=509]="MESSAGE_CURRENT_LIMITING",e[e.MESSAGE_WEBSOCKET_DISCONNECTED=510]="MESSAGE_WEBSOCKET_DISCONNECTED",e[e.MESSAGE_SIZE_LIMIT=511]="MESSAGE_SIZE_LIMIT",e[e.GROUP_NOT_EXIST=605]="GROUP_NOT_EXIST",e[e.GROUP_NOT_JOINED=602]="GROUP_NOT_JOINED",e[e.GROUP_MEMBERS_FULL=606]="GROUP_MEMBERS_FULL",e[e.PERMISSION_DENIED=603]="PERMISSION_DENIED",e[e.WEBIM_LOAD_MSG_ERROR=604]="WEBIM_LOAD_MSG_ERROR",e[e.GROUP_ALREADY_JOINED=601]="GROUP_ALREADY_JOINED",e[e.GROUP_MEMBERS_LIMIT=607]="GROUP_MEMBERS_LIMIT",e[e.GROUP_IS_DISABLED=608]="GROUP_IS_DISABLED",e[e.GROUP_MEMBER_ATTRIBUTES_SET_FAILED=609]="GROUP_MEMBER_ATTRIBUTES_SET_FAILED",e[e.REST_PARAMS_STATUS=700]="REST_PARAMS_STATUS",e[e.CHATROOM_NOT_JOINED=702]="CHATROOM_NOT_JOINED",e[e.CHATROOM_MEMBERS_FULL=704]="CHATROOM_MEMBERS_FULL",e[e.CHATROOM_NOT_EXIST=705]="CHATROOM_NOT_EXIST",e[e.SDK_RUNTIME_ERROR=999]="SDK_RUNTIME_ERROR",e[e.PRESENCE_PARAM_EXCEED=1100]="PRESENCE_PARAM_EXCEED",e[e.REACTION_ALREADY_ADDED=1101]="REACTION_ALREADY_ADDED",e[e.REACTION_CREATING=1102]="REACTION_CREATING",e[e.REACTION_OPERATION_IS_ILLEGAL=1103]="REACTION_OPERATION_IS_ILLEGAL",e[e.TRANSLATION_NOT_VALID=1200]="TRANSLATION_NOT_VALID",e[e.TRANSLATION_TEXT_TOO_LONG=1201]="TRANSLATION_TEXT_TOO_LONG",e[e.TRANSLATION_FAILED=1204]="TRANSLATION_FAILED",e[e.THREAD_NOT_EXIST=1300]="THREAD_NOT_EXIST",e[e.THREAD_ALREADY_EXIST=1301]="THREAD_ALREADY_EXIST",e[e.MODIFY_MESSAGE_NOT_EXIST=1302]="MODIFY_MESSAGE_NOT_EXIST",e[e.MODIFY_MESSAGE_FORMAT_ERROR=1303]="MODIFY_MESSAGE_FORMAT_ERROR",e[e.MODIFY_MESSAGE_FAILED=1304]="MODIFY_MESSAGE_FAILED",e[e.CONVERSATION_NOT_EXIST=1400]="CONVERSATION_NOT_EXIST"}(n||(n={}))},4370:function(e,t,r){"use strict";r.d(t,{iw:function(){return y},hj:function(){return d},LR:function(){return T},Ki:function(){return h},P4:function(){return v},cT:function(){return O},P6:function(){return I}}),r(9601),r(1539),r(8674),r(3710),r(7941),r(6699),r(7042),r(2772),r(9714),r(9653),r(6992),r(8783),r(3948),r(285),r(1637),r(8309),r(4986),r(2023);var n=r(5531),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=function(e,t,r,i){var s,a,u,c,l,d,f,p,h,_,E,y,v,m,g,O,T,R,I,C,b=e.response;b&&"string"==typeof b&&(b=JSON.parse(b));var N=e.status,S={elapse:i,httpCode:N,errDesc:null==b?void 0:b.error_description};if(400===N){if(40002===b.error_code)return void t({type:n.E.THREAD_ALREADY_EXIST,message:null==b?void 0:b.error_description,extraInfo:S});if(40009===b.error_code)return void t({type:n.E.OPERATION_UNSUPPORTED,message:null==b?void 0:b.error_description,extraInfo:S});if(60005===b.error_code)return void t({type:n.E.GROUP_MEMBER_ATTRIBUTES_SET_FAILED,message:(null==b?void 0:b.desc)||(null==b?void 0:b.error_description),extraInfo:S});if(60010===b.error_code)return void((null==b?void 0:b.error_description.includes("exceeds chatgroup user metadata single value limit"))?t({type:n.E.MAX_LIMIT,message:(null==b?void 0:b.desc)||b.error_description,extraInfo:S}):t({type:n.E.NO_PERMISSION,message:(null==b?void 0:b.desc)||b.error_description,extraInfo:S}));if(60011===b.error_code)return void t({type:n.E.CHATROOM_NOT_JOINED,message:null==b?void 0:b.desc,extraInfo:S});if(60006===b.error_code||60007===b.error_code||60009===b.error_code||60012===b.error_code)return void t({type:n.E.MAX_LIMIT,message:(null==b?void 0:b.desc)||(null==b?void 0:b.error_description),extraInfo:S});if(null===(s=b.error_description)||void 0===s?void 0:s.includes("are not members of this group"))return(null===(a=e.responseURL)||void 0===a?void 0:a.includes("chatgroups"))?t({type:n.E.GROUP_NOT_JOINED,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):t({type:n.E.CHATROOM_NOT_JOINED,data:e.response||e.responseText,message:b.error_description,extraInfo:S}),void r({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,message:null==b?void 0:b.error_description,data:e.responseText,extraInfo:S});if("the app not open presence"===(null==b?void 0:b.result))return void t({type:n.E.SERVICE_NOT_ENABLED,message:null==b?void 0:b.result,extraInfo:S});switch(null==b?void 0:b.error_description){case"the user is already operation this message":t({type:n.E.REACTION_ALREADY_ADDED,message:null==b?void 0:b.error_description,extraInfo:S});break;case"The quantity has exceeded the limit!":t({type:n.E.MAX_LIMIT,message:null==b?void 0:b.error_description,extraInfo:S});break;case"The user not in this group!":t({type:n.E.GROUP_NOT_JOINED,message:null==b?void 0:b.error_description,extraInfo:S});break;case"the user operation is illegal!":t({type:n.E.REACTION_OPERATION_IS_ILLEGAL,message:null==b?void 0:b.error_description,extraInfo:S});break;case"this appKey is not open reaction service!":case"this appKey not open message roaming":t({type:n.E.SERVICE_NOT_ENABLED,message:null==b?void 0:b.error_description,extraInfo:S});break;case"this message is creating reaction, please try again.":t({type:n.E.REACTION_CREATING,message:null==b?void 0:b.error_description,extraInfo:S});break;case"groupId can not be null!":t({type:n.E.GROUP_NOT_EXIST,message:null==b?void 0:b.error_description,extraInfo:S});break;case"The input text is too long.":t({type:n.E.TRANSLATION_TEXT_TOO_LONG,message:null==b?void 0:b.error_description,extraInfo:S});break;case"The target language is not valid.":t({type:n.E.TRANSLATION_NOT_VALID,message:null==b?void 0:b.error_description,extraInfo:S});break;case"report failed, get message by id failed":t({type:n.E.MESSAGE_NOT_FOUND,message:null==b?void 0:b.error_description,extraInfo:S});break;case"ext is too big ":t({type:n.E.PRESENCE_PARAM_EXCEED,message:null==b?void 0:b.error_description,extraInfo:S});break;case"Request body not readable.Please check content type is correct!":t({type:n.E.REQUEST_PARAMETER_ERROR,message:null==b?void 0:b.error_description,extraInfo:S});break;default:t({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,message:null==b?void 0:b.error_description,data:e.responseText,extraInfo:S}),r({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,message:null==b?void 0:b.error_description,data:e.responseText,extraInfo:S})}}else if(401===N)40001===b.error_code||60001===b.error_code||"Unable to authenticate (OAuth)"===b.error_description?t({type:n.E.NO_PERMISSION,message:null==b?void 0:b.error_description,extraInfo:S}):(r({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:S}),t({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:S}));else if(403===N)4e4===b.error_code||60004===b.error_code||15002===b.error_code?t({type:n.E.SERVICE_NOT_ENABLED,message:null==b?void 0:b.error_description,extraInfo:S}):40003===b.error_code||40004===b.error_code?t({type:n.E.THREAD_ALREADY_EXIST,message:null==b?void 0:b.error_description,extraInfo:S}):40005===b.error_code||40007===b.error_code||91002===b.error_code?t({type:n.E.MAX_LIMIT,message:null==b?void 0:b.error_description,extraInfo:S}):60002===b.error_code&&t({type:n.E.PERMISSION_DENIED,message:null==b?void 0:b.error_description,extraInfo:S}),"group member list is full!"===b.error_description?(null===(u=e.responseURL)||void 0===u?void 0:u.includes("chatgroups"))?t({type:n.E.GROUP_MEMBERS_FULL,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):t({type:n.E.CHATROOM_MEMBERS_FULL,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):(null===(c=b.error_description)||void 0===c?void 0:c.includes(b.error_description.includes("already in group")))?(null===(l=e.responseURL)||void 0===l?void 0:l.includes("chatgroups"))&&t({type:n.E.GROUP_ALREADY_JOINED,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):(null===(d=b.error_description)||void 0===d?void 0:d.includes("are not members of this group"))?(null===(f=e.responseURL)||void 0===f?void 0:f.includes("chatgroups"))?t({type:n.E.GROUP_NOT_JOINED,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):t({type:n.E.CHATROOM_NOT_JOINED,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):(null===(p=b.error_description)||void 0===p?void 0:p.includes("service not open!"))||(null===(h=b.error_description)||void 0===h?void 0:h.includes("message report not open"))||(null===(_=b.error_description)||void 0===_?void 0:_.includes("messageroaming function not open"))?t({type:n.E.SERVICE_NOT_ENABLED,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):(null===(E=b.error_description)||void 0===E?void 0:E.includes("members size is greater than max user size !"))?t({type:n.E.GROUP_MEMBERS_LIMIT,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):(null===(y=b.error_description)||void 0===y?void 0:y.includes("can not operate this group, reason: group is disabled"))?t({type:n.E.GROUP_IS_DISABLED,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):t({type:n.E.PERMISSION_DENIED,data:e.response||e.responseText,message:"permission denied",extraInfo:o(o({},S),{errDesc:"permission denied"})}),r({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:S});else if(404===N)40011===b.error_code?t({type:n.E.THREAD_NOT_EXIST,message:null==b?void 0:b.error_description,extraInfo:S}):40012===b.error_code?t({type:n.E.NO_PERMISSION,message:null==b?void 0:b.error_description,extraInfo:S}):60003===b.error_code||20004===b.error_code?t({type:n.E.GROUP_NOT_JOINED,message:null==b?void 0:b.error_description,extraInfo:S}):91001===b.error_code&&t({type:n.E.CONVERSATION_NOT_EXIST,message:null==b?void 0:b.error_description,extraInfo:S}),(null===(v=b.error_description)||void 0===v?void 0:v.includes("do not find this group"))||(null===(m=b.error_description)||void 0===m?void 0:m.includes("does not exist"))?(null===(g=e.responseURL)||void 0===g?void 0:g.includes("chatgroups"))?t({type:n.E.GROUP_NOT_EXIST,data:e.response||e.responseText,message:"The chat room dose not exist.",extraInfo:o(o({},S),{errDesc:"The chat room dose not exist."})}):t({type:n.E.CHATROOM_NOT_EXIST,data:e.response||e.responseText,message:"The chat room dose not exist.",extraInfo:o(o({},S),{errDesc:"The chat room dose not exist."})}):(null===(O=b.error_description)||void 0===O?void 0:O.includes("username"))&&(null===(T=b.error_description)||void 0===T?void 0:T.includes("doesn't exist!'"))||(null===(R=b.error_description)||void 0===R?void 0:R.includes("user not found"))?t({type:n.E.USER_NOT_FOUND,data:e.response||e.responseText,message:b.error_description,extraInfo:S}):t({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.response||e.responseText,message:e.responseText,extraInfo:S}),r({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.response||e.responseText,message:e.responseText,extraInfo:S});else if(406===N)90004===b.error_code&&t({type:n.E.OPERATION_NOT_ALLOWED,message:null==b?void 0:b.error_description,extraInfo:S});else if(429===N||503===N){if(null===(I=b.error_description)||void 0===I?void 0:I.includes("The request has reached the maximum limit"))return void t({type:n.E.MAX_LIMIT,message:e.responseText,extraInfo:S});t({type:n.E.SERVER_BUSY,data:e.response||e.responseText,message:"Server is busy.",extraInfo:o(o({},S),{errDesc:"Server is busy."})}),r({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:"Server is busy.",extraInfo:o(o({},S),{errDesc:"Server is busy."})})}else if(500===N){if(40006===b.error_code||40008===b.error_code||40010===b.error_code)return void t({type:n.E.SERVER_UNKNOWN_ERROR,message:null==b?void 0:b.error_description,extraInfo:S});if(90005===b.error_code||99999===b.error_code)return void t({type:n.E.REQUEST_UNKNOWN,message:null==b?void 0:b.error_description,extraInfo:S});if(null===(C=b.error_description)||void 0===C?void 0:C.includes("translte failed!"))return void t({type:n.E.TRANSLATION_FAILED,message:e.responseText,extraInfo:S});t({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:"",extraInfo:S}),r({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:"",extraInfo:S})}else t({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:o(o({},S),{errDesc:"ajax error"})}),r({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:o(o({},S),{errDesc:"ajax error"})})},s=r(1595),a=r(2071),u=r(7360),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},l=function(){};function d(e,t){var r,o=this;return m().platform===y.WEB?new Promise((function(t,o){var s=e.dataType||"text",a=e.success||l,c=e.error||l,d=new XMLHttpRequest;d.ontimeout=function(){o({type:n.E.REQUEST_TIMEOUT,message:"Request Timeout",errorType:"timeout_error",xhr:d})},d.onerror=function(){o({type:n.E.REQUEST_UNKNOWN,message:"Request Unknow Error",errorType:"onerror",xhr:d})},d.onabort=function(){o({type:n.E.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:d})},d.onreadystatechange=function(){if(4===d.readyState){var e=(new Date).getTime()-r,l=d.status||0,f={elapse:e,httpCode:l};if(200===l){I.ajaxUnconventionalErrorTimes=0;try{switch(s){case"text":return a(d.responseText),void t(d.responseText);case"json":var p=JSON.parse(d.responseText);return p.extraInfo=f,a(p),void t(p);case"xml":return d.responseXML&&d.responseXML.documentElement?(a(d.responseXML.documentElement),void t(d.responseXML.documentElement)):(c({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:d.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}),void o({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:d.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}));default:c({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:d.responseText,message:"Invalid dataType"}),o({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:d.responseText,message:"Invalid dataType"})}return t(d.response||d.responseText),void a(d.response||d.responseText,d)}catch(e){o(e)}return}[400,401,403,404,429,500,503].includes(l)||(u.kg.debug("rest api request fail status:",l),I.ajaxUnconventionalErrorTimes++),i(d,o,c,e)}0===d.readyState&&(c({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:d.responseText,message:"Request not initialized"}),o({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,data:d.responseText,message:"Request not initialized"}))},e.responseType&&d.responseType&&(d.responseType=e.responseType),e.mimeType&&d.overrideMimeType(e.mimeType);var f=e.type||"POST",p=e.data||null,h="";if("get"===f.toLowerCase()&&p){for(var _ in p)p.hasOwnProperty(_)&&(h+=_+"="+p[_]+"&");h=h?h.slice(0,-1):h,e.url+=(e.url.indexOf("?")>0?"&":"?")+(h?h+"&":h)+"_v="+(new Date).getTime(),p=null,h=""}r=(new Date).getTime(),d.open(f,e.url);var E=e.headers||{};for(var y in E["Content-Type"]||(E["Content-Type"]="application/json"),E)E.hasOwnProperty(y)&&d.setRequestHeader(y,E[y]);d.send(p)})).then((function(r){return o.dataReport&&t&&t!==s.fI.SDK_INTERNAL&&o.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:c({isSuccess:1,requestUrl:e.url,requestName:t,requestMethod:e.type},R(r.extraInfo))}),t!==s.fI.SDK_INTERNAL&&delete r.extraInfo,"Object"===f(r)?c(c({},r),{type:n.E.REQUEST_SUCCESS}):{data:r,type:n.E.REQUEST_SUCCESS}})).catch((function(r){throw o.dataReport&&t&&t!==s.fI.SDK_INTERNAL&&o.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:c({isSuccess:0,requestUrl:e.url,requestName:t,requestMethod:e.type},R(r.extraInfo))}),t!==s.fI.SDK_INTERNAL&&delete r.extraInfo,r})):p.call(this,e,t)}function f(e){return Object.prototype.toString.call(e).slice(8,-1)}function p(e,t){var r=this;return new Promise((function(t,r){var n=e.success||l,o=e.error||l,i=e.type||"POST",s=e.data||null,u="",c=(new Date).getTime(),d=I.getEnvInfo();if("get"===i.toLowerCase()&&s){for(var f in s)s.hasOwnProperty(f)&&(u+=f+"="+s[f]+"&");u=u?u.slice(0,-1):u,e.url+=(e.url.indexOf("?")>0?"&":"?")+(u?u+"&":u)+"_v="+(new Date).getTime(),s=null,u=""}var p={url:e.url,data:e.data,method:i,headers:{},success:function(e){var i,s,a,u,l,d={elapse:(new Date).getTime()-c,httpCode:Number((null===(i=e.statusCode)||void 0===i?void 0:i.toString())||(null===(s=e.status)||void 0===s?void 0:s.toString())),errDesc:(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.error_description)||""};if("200"===(null===(u=e.statusCode)||void 0===u?void 0:u.toString())||"200"===(null===(l=e.status)||void 0===l?void 0:l.toString())){e.data.extraInfo=d;var f=e.data;n(f),t(f)}else e.extraInfo=d,o(f=e),r(f)},complete:function(){},fail:function(e){var t={elapse:(new Date).getTime()-c,httpCode:a.Tp,errDesc:"request:fail"};e.extraInfo=t,e.data={error:"request:fail",error_description:"request:fail"},o(e),r(e)}};if("zfb"===d.platform||"dd"===d.platform?p.headers=e.headers:p.header=e.headers,"dd"===d.platform)return dd.httpRequest(p);d.global.request(p)})).then((function(o){return r.dataReport&&t&&t!==s.fI.SDK_INTERNAL&&r.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:c({isSuccess:1,requestUrl:e.url,requestName:t,requestMethod:e.type},R(o.extraInfo))}),t!==s.fI.SDK_INTERNAL&&delete o.extraInfo,"Object"===f(o)?c(c({},o),{type:n.E.REQUEST_SUCCESS}):{data:o,type:n.E.REQUEST_SUCCESS}})).catch((function(n){throw r.dataReport&&t&&t!==s.fI.SDK_INTERNAL&&r.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:c({isSuccess:0,requestUrl:e.url,requestName:t,requestMethod:e.type},R(n.extraInfo))}),t!==s.fI.SDK_INTERNAL&&delete n.extraInfo,n}))}function h(){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var e=new Date,t=new Date(2010,1,1);return(e.getTime()-t.getTime()+this.autoIncrement).toString()}var _,E,y,v=(_=function(e,t){var r=m();if(r.platform!==y.WEB){var n=r.global,o=function(r){r.isConnected?e():t()};n.offNetworkStatusChange&&n.offNetworkStatusChange(o),n.onNetworkStatusChange&&n.onNetworkStatusChange(o)}else"undefined"!=typeof addEventListener&&(window.addEventListener("online",e),window.addEventListener("offline",t))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!_)return E;E=_.apply(void 0,e),_=null});function m(){return"undefined"!=typeof swan&&g(swan)?{platform:y.BAIDU,global:swan}:"undefined"!=typeof tt&&g(tt)?{platform:y.TT,global:tt}:"undefined"!=typeof dd&&g(dd)?{platform:y.DD,global:dd}:"undefined"!=typeof my&&g(my)?{platform:y.ZFB,global:my}:"undefined"!=typeof wx&&g(wx)?{platform:y.WX,global:wx}:"undefined"!=typeof uni&&g(uni)?{platform:y.UNI,global:uni}:"undefined"!=typeof window&&window.WebSocket?{platform:y.WEB,global:window}:{platform:y.NODE,global:r.g||{}}}function g(e){for(var t=["canIUse","getSystemInfo"],r=0,n=t.length;r<n;r++)if(!e[t[r]])return!1;return!0}function O(e,t){var r,o,i=this,a=(new Date).getTime(),u=e.accessToken;if(u){var c=e.appKey,d=[],f="",p="";if(c&&(f=(d=c.split("#"))[0],p=d[1]),f||p){var h=e.apiUrl,_=e.uploadUrl||h+"/"+f+"/"+p+"/chatfiles";if((null===(o=null===(r=null==e?void 0:e.file)||void 0===r?void 0:r.data)||void 0===o?void 0:o.size)<=0)e.onFileUploadError&&e.onFileUploadError({type:n.E.WEBIM_UPLOADFILE_ERROR,message:"fileSize must be greater than 0"});else{var E=new XMLHttpRequest;E.upload&&E.upload.addEventListener("progress",e.onFileUploadProgress||l,!1),E.addEventListener("abort",e.onFileUploadCanceled||l,!1),E.addEventListener("error",(function(e){v({type:n.E.WEBIM_UPLOADFILE_ERROR,data:E})}),!1),E.addEventListener("load",(function(r){try{var o=JSON.parse(E.responseText);if(400===E.status)return v({type:n.E.WEBIM_UPLOADFILE_ERROR,data:o}),!1;try{!function(r){var n=(new Date).getTime()-a;i.dataReport&&t&&[s.fI.UPLOAD_MSG_ATTACH,s.fI.UPLOAD_CHATROOM_FILE,s.fI.UPLOAD_GROUP_FILE].includes(t)&&i.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:{isSuccess:(null==r?void 0:r.error)?0:1,requestMethod:"POST",requestName:t,requestElapse:n,requestUrl:_,code:E.status,codeDesc:(null==r?void 0:r.error_description)||""}}),e.onFileUploadComplete&&e.onFileUploadComplete(r)}(o)}catch(r){v({type:n.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:r})}}catch(r){v({type:n.E.WEBIM_UPLOADFILE_ERROR,data:E.responseText})}}),!1),E.open("POST",_),E.setRequestHeader("restrict-access","true"),E.setRequestHeader("Accept","*/*"),E.setRequestHeader("Authorization","Bearer "+u);var y=new FormData;y.append("file",e.file.data),e.thumbnailWidth&&y.append("thumbnail-width",e.thumbnailWidth+""),e.thumbnailHeight&&y.append("thumbnail-height",e.thumbnailHeight+""),E.send(y)}}else e.onFileUploadError&&e.onFileUploadError({type:n.E.WEBIM_UPLOADFILE_ERROR,message:"AppKey illegal"})}else e.onFileUploadError&&e.onFileUploadError({type:n.E.WEBIM_UPLOADFILE_NO_LOGIN,message:"AccessToken cannot be empty"});function v(r){var n=(new Date).getTime()-a;i.dataReport&&t&&[s.fI.UPLOAD_MSG_ATTACH,s.fI.UPLOAD_CHATROOM_FILE,s.fI.UPLOAD_GROUP_FILE].includes(t)&&i.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:t,requestElapse:n,requestUrl:_,code:(null==E?void 0:E.status)||0,codeDesc:"upload file error"}}),e.onFileUploadError&&e.onFileUploadError(r)}}function T(e,t){e.onFileDownloadComplete=e.onFileDownloadComplete||l,e.onFileDownloadError=e.onFileDownloadError||l;var r=(new Date).getTime(),o=new XMLHttpRequest,i=this;o.addEventListener("load",(function(n){var a=(new Date).getTime()-r;i.dataReport&&t&&t===s.fI.DOWN_GROUP_FILE&&i.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:{isSuccess:200===o.status?1:0,requestMethod:"POST",requestName:t,requestElapse:a,requestUrl:null==e?void 0:e.url,code:o.status,codeDesc:200===o.status?"":"download file error"}}),e.onFileDownloadComplete&&e.onFileDownloadComplete(o.response)}),!1),o.addEventListener("error",(function(a){var u=(new Date).getTime()-r;i.dataReport&&t&&t===s.fI.DOWN_GROUP_FILE&&i.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:t,requestElapse:u,requestUrl:null==e?void 0:e.url,code:(null==o?void 0:o.status)||0,codeDesc:"download file error"}}),e.onFileDownloadError&&e.onFileDownloadError({type:n.E.WEBIM_DOWNLOADFILE_ERROR,id:e.id,xhr:o})}),!1);var a=e.method||"GET",u=e.responseType||"blob",c=e.mimeType||"text/plain; charset=x-user-defined";o.open(a,e.url),"undefined"!=typeof Blob?o.responseType=u:o.overrideMimeType(c);var d={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":e.secret,Authorization:"Bearer "+this.context.accessToken},f=e.headers||{};for(var p in f)d[p]=f[p];for(var p in d)d[p]&&o.setRequestHeader(p,d[p]);o.send(null)}function R(e){void 0===e&&(e={});var t=e.elapse,r=void 0===t?0:t,n=e.httpCode,o=void 0===n?0:n,i=e.errDesc;return{requestElapse:r,code:o,codeDesc:void 0===i?"":i}}!function(e){e.WEB="web",e.WX="wx",e.ZFB="zfb",e.DD="dd",e.TT="tt",e.BAIDU="baidu",e.QUICK_APP="quick_app",e.UNI="uni",e.NODE="node"}(y||(y={}));var I={autoIncrement:0,ajaxUnconventionalErrorTimes:0,ajax:d,getUniqueId:h,getFileUrl:function(e){var t={url:"",filename:"",filetype:"",data:{}},r="string"==typeof e?document.getElementById(e):e;if(window.URL.createObjectURL){if(!r.files)throw Error("this is not HTMLInputElement");var n=r.files;if(n.length>0){var o=n.item(0);t.data=o,t.url=window.URL.createObjectURL(o),t.filename=(null==o?void 0:o.name)||""}}else{if("string"!=typeof e)throw Error("in IE fileInputId must be string");o=document.getElementById(e).value,t.url=o;var i=o.lastIndexOf("/"),s=o.lastIndexOf("\\"),a=Math.max(i,s);t.filename=a<0?o:o.substring(a+1)}var u=t.filename.lastIndexOf(".");return-1!==u&&(t.filetype=t.filename.substring(u+1).toLowerCase()),t},uploadFile:O,flow:function(e){for(var t=e.length,r=t;r--;)if("function"!=typeof e[r])throw new TypeError("Expected a function");return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var o=0,i=t?e[o].apply(this,r):r[0];++o<t;)i=e[o].call(this,i);return i}},listenNetwork:v,getEnvInfo:m,wxRequest:p,parseDownloadResponse:function(e){if(!window||!window.URL)throw Error("parseDownloadResponse can be used in broswer only");return e&&e.type&&"application/json"===e.type||0>Object.prototype.toString.call(e).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(e)},download:T,parseNotify:function(e){for(var t="",r=0;r<e.length;r++)t+="%"+e[r].toString(16);return JSON.parse(decodeURIComponent(t))},getExtraData:R,Uint8ArrayToString:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}}},9662:function(e,t,r){var n=r(614),o=r(6330),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a function")}},9483:function(e,t,r){var n=r(4411),o=r(6330),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a constructor")}},6077:function(e,t,r){var n=r(614),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},1223:function(e,t,r){var n=r(5112),o=r(30),i=r(3070).f,s=n("unscopables"),a=Array.prototype;null==a[s]&&i(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},5787:function(e,t,r){var n=r(7976),o=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw o("Incorrect invocation")}},9670:function(e,t,r){var n=r(111),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not an object")}},3013:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(e,t,r){var n=r(7293);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},260:function(e,t,r){"use strict";var n,o,i,s=r(3013),a=r(9781),u=r(7854),c=r(614),l=r(111),d=r(2597),f=r(648),p=r(6330),h=r(8880),_=r(8052),E=r(7045),y=r(7976),v=r(9518),m=r(7674),g=r(5112),O=r(9711),T=r(9909),R=T.enforce,I=T.get,C=u.Int8Array,b=C&&C.prototype,N=u.Uint8ClampedArray,S=N&&N.prototype,A=C&&v(C),M=b&&v(b),w=Object.prototype,U=u.TypeError,L=g("toStringTag"),x=O("TYPED_ARRAY_TAG"),P="TypedArrayConstructor",D=s&&!!m&&"Opera"!==f(u.opera),k=!1,H={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},G=function(e){var t=v(e);if(l(t)){var r=I(t);return r&&d(r,P)?r[P]:G(t)}},F=function(e){if(!l(e))return!1;var t=f(e);return d(H,t)||d(B,t)};for(n in H)(i=(o=u[n])&&o.prototype)?R(i)[P]=o:D=!1;for(n in B)(i=(o=u[n])&&o.prototype)&&(R(i)[P]=o);if((!D||!c(A)||A===Function.prototype)&&(A=function(){throw U("Incorrect invocation")},D))for(n in H)u[n]&&m(u[n],A);if((!D||!M||M===w)&&(M=A.prototype,D))for(n in H)u[n]&&m(u[n].prototype,M);if(D&&v(S)!==M&&m(S,M),a&&!d(M,L))for(n in k=!0,E(M,L,{configurable:!0,get:function(){return l(this)?this[x]:void 0}}),H)u[n]&&h(u[n],x,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:k&&x,aTypedArray:function(e){if(F(e))return e;throw U("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!m||y(A,e)))return e;throw U(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(a){if(r)for(var o in H){var i=u[o];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(r){try{i.prototype[e]=t}catch(e){}}}M[e]&&!r||_(M,e,r?t:D&&b[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(a){if(m){if(r)for(n in H)if((o=u[n])&&d(o,e))try{delete o[e]}catch(e){}if(A[e]&&!r)return;try{return _(A,e,r?t:D&&A[e]||t)}catch(e){}}for(n in H)!(o=u[n])||o[e]&&!r||_(o,e,t)}},getTypedArrayConstructor:G,isView:function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||d(H,t)||d(B,t)},isTypedArray:F,TypedArray:A,TypedArrayPrototype:M}},3331:function(e,t,r){"use strict";var n=r(7854),o=r(1702),i=r(9781),s=r(3013),a=r(6530),u=r(8880),c=r(7045),l=r(9190),d=r(7293),f=r(5787),p=r(9303),h=r(7466),_=r(7067),E=r(1179),y=r(9518),v=r(7674),m=r(8006).f,g=r(1285),O=r(1589),T=r(8003),R=r(9909),I=a.PROPER,C=a.CONFIGURABLE,b="ArrayBuffer",N="DataView",S="prototype",A="Wrong index",M=R.getterFor(b),w=R.getterFor(N),U=R.set,L=n[b],x=L,P=x&&x[S],D=n[N],k=D&&D[S],H=Object.prototype,B=n.Array,G=n.RangeError,F=o(g),j=o([].reverse),W=E.pack,q=E.unpack,K=function(e){return[255&e]},V=function(e){return[255&e,e>>8&255]},J=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return W(e,23,4)},X=function(e){return W(e,52,8)},$=function(e,t,r){c(e[S],t,{configurable:!0,get:function(){return r(this)[t]}})},Z=function(e,t,r,n){var o=_(r),i=w(e);if(o+t>i.byteLength)throw G(A);var s=i.bytes,a=o+i.byteOffset,u=O(s,a,a+t);return n?u:j(u)},Q=function(e,t,r,n,o,i){var s=_(r),a=w(e);if(s+t>a.byteLength)throw G(A);for(var u=a.bytes,c=s+a.byteOffset,l=n(+o),d=0;d<t;d++)u[c+d]=l[i?d:t-d-1]};if(s){var ee=I&&L.name!==b;if(d((function(){L(1)}))&&d((function(){new L(-1)}))&&!d((function(){return new L,new L(1.5),new L(NaN),1!=L.length||ee&&!C})))ee&&C&&u(L,"name",b);else{(x=function(e){return f(this,P),new L(_(e))})[S]=P;for(var te,re=m(L),ne=0;re.length>ne;)(te=re[ne++])in x||u(x,te,L[te]);P.constructor=x}v&&y(k)!==H&&v(k,H);var oe=new D(new x(2)),ie=o(k.setInt8);oe.setInt8(0,2147483648),oe.setInt8(1,2147483649),!oe.getInt8(0)&&oe.getInt8(1)||l(k,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else P=(x=function(e){f(this,P);var t=_(e);U(this,{type:b,bytes:F(B(t),0),byteLength:t}),i||(this.byteLength=t,this.detached=!1)})[S],k=(D=function(e,t,r){f(this,k),f(e,P);var n=M(e),o=n.byteLength,s=p(t);if(s<0||s>o)throw G("Wrong offset");if(s+(r=void 0===r?o-s:h(r))>o)throw G("Wrong length");U(this,{type:N,buffer:e,byteLength:r,byteOffset:s,bytes:n.bytes}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=s)})[S],i&&($(x,"byteLength",M),$(D,"buffer",w),$(D,"byteLength",w),$(D,"byteOffset",w)),l(k,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return z(Z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return z(Z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return q(Z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return q(Z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Q(this,1,e,K,t)},setUint8:function(e,t){Q(this,1,e,K,t)},setInt16:function(e,t){Q(this,2,e,V,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Q(this,2,e,V,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Q(this,4,e,J,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Q(this,4,e,J,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Q(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Q(this,8,e,X,t,arguments.length>2?arguments[2]:void 0)}});T(x,b),T(D,N),e.exports={ArrayBuffer:x,DataView:D}},1048:function(e,t,r){"use strict";var n=r(7908),o=r(1400),i=r(6244),s=r(5117),a=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),u=i(r),c=o(e,u),l=o(t,u),d=arguments.length>2?arguments[2]:void 0,f=a((void 0===d?u:o(d,u))-l,u-c),p=1;for(l<c&&c<l+f&&(p=-1,l+=f-1,c+=f-1);f-- >0;)l in r?r[c]=r[l]:s(r,c),c+=p,l+=p;return r}},1285:function(e,t,r){"use strict";var n=r(7908),o=r(1400),i=r(6244);e.exports=function(e){for(var t=n(this),r=i(t),s=arguments.length,a=o(s>1?arguments[1]:void 0,r),u=s>2?arguments[2]:void 0,c=void 0===u?r:o(u,r);c>a;)t[a++]=e;return t}},8533:function(e,t,r){"use strict";var n=r(2092).forEach,o=r(9341)("forEach");e.exports=o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},7745:function(e,t,r){var n=r(6244);e.exports=function(e,t){for(var r=0,o=n(t),i=new e(o);o>r;)i[r]=t[r++];return i}},8457:function(e,t,r){"use strict";var n=r(9974),o=r(6916),i=r(7908),s=r(3411),a=r(7659),u=r(4411),c=r(6244),l=r(6135),d=r(4121),f=r(1246),p=Array;e.exports=function(e){var t=i(e),r=u(this),h=arguments.length,_=h>1?arguments[1]:void 0,E=void 0!==_;E&&(_=n(_,h>2?arguments[2]:void 0));var y,v,m,g,O,T,R=f(t),I=0;if(!R||this===p&&a(R))for(y=c(t),v=r?new this(y):p(y);y>I;I++)T=E?_(t[I],I):t[I],l(v,I,T);else for(O=(g=d(t,R)).next,v=r?new this:[];!(m=o(O,g)).done;I++)T=E?s(g,_,[m.value,I],!0):m.value,l(v,I,T);return v.length=I,v}},1318:function(e,t,r){var n=r(5656),o=r(1400),i=r(6244),s=function(e){return function(t,r,s){var a,u=n(t),c=i(u),l=o(s,c);if(e&&r!=r){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2092:function(e,t,r){var n=r(9974),o=r(1702),i=r(8361),s=r(7908),a=r(6244),u=r(5417),c=o([].push),l=function(e){var t=1==e,r=2==e,o=3==e,l=4==e,d=6==e,f=7==e,p=5==e||d;return function(h,_,E,y){for(var v,m,g=s(h),O=i(g),T=n(_,E),R=a(O),I=0,C=y||u,b=t?C(h,R):r||f?C(h,0):void 0;R>I;I++)if((p||I in O)&&(m=T(v=O[I],I,g),e))if(t)b[I]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return I;case 2:c(b,v)}else switch(e){case 4:return!1;case 7:c(b,v)}return d?-1:o||l?l:b}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:function(e,t,r){"use strict";var n=r(2104),o=r(5656),i=r(9303),s=r(6244),a=r(9341),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,d=a("lastIndexOf"),f=l||!d;e.exports=f?function(e){if(l)return n(c,this,arguments)||0;var t=o(this),r=s(t),a=r-1;for(arguments.length>1&&(a=u(a,i(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},1194:function(e,t,r){var n=r(7293),o=r(5112),i=r(7392),s=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:function(e,t,r){"use strict";var n=r(7293);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},3671:function(e,t,r){var n=r(9662),o=r(7908),i=r(8361),s=r(6244),a=TypeError,u=function(e){return function(t,r,u,c){n(r);var l=o(t),d=i(l),f=s(l),p=e?f-1:0,h=e?-1:1;if(u<2)for(;;){if(p in d){c=d[p],p+=h;break}if(p+=h,e?p<0:f<=p)throw a("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=h)p in d&&(c=r(c,d[p],p,l));return c}};e.exports={left:u(!1),right:u(!0)}},3658:function(e,t,r){"use strict";var n=r(9781),o=r(3157),i=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(o(e)&&!s(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},1589:function(e,t,r){var n=r(1400),o=r(6244),i=r(6135),s=Array,a=Math.max;e.exports=function(e,t,r){for(var u=o(e),c=n(t,u),l=n(void 0===r?u:r,u),d=s(a(l-c,0)),f=0;c<l;c++,f++)i(d,f,e[c]);return d.length=f,d}},206:function(e,t,r){var n=r(1702);e.exports=n([].slice)},4362:function(e,t,r){var n=r(1589),o=Math.floor,i=function(e,t){var r=e.length,u=o(r/2);return r<8?s(e,t):a(e,i(n(e,0,u),t),i(n(e,u),t),t)},s=function(e,t){for(var r,n,o=e.length,i=1;i<o;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},a=function(e,t,r,n){for(var o=t.length,i=r.length,s=0,a=0;s<o||a<i;)e[s+a]=s<o&&a<i?n(t[s],r[a])<=0?t[s++]:r[a++]:s<o?t[s++]:r[a++];return e};e.exports=i},7475:function(e,t,r){var n=r(3157),o=r(4411),i=r(111),s=r(5112)("species"),a=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(o(t)&&(t===a||n(t.prototype))||i(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},5417:function(e,t,r){var n=r(7475);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},3411:function(e,t,r){var n=r(9670),o=r(9212);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){o(e,"throw",t)}}},7072:function(e,t,r){var n=r(5112)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},4326:function(e,t,r){var n=r(1702),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},648:function(e,t,r){var n=r(1694),o=r(614),i=r(4326),s=r(5112)("toStringTag"),a=Object,u="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?r:u?i(t):"Object"==(n=i(t))&&o(t.callee)?"Arguments":n}},5631:function(e,t,r){"use strict";var n=r(30),o=r(7045),i=r(9190),s=r(9974),a=r(5787),u=r(8554),c=r(408),l=r(1656),d=r(6178),f=r(6340),p=r(9781),h=r(2423).fastKey,_=r(9909),E=_.set,y=_.getterFor;e.exports={getConstructor:function(e,t,r,l){var d=e((function(e,o){a(e,f),E(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),p||(e.size=0),u(o)||c(o,e[l],{that:e,AS_ENTRIES:r})})),f=d.prototype,_=y(t),v=function(e,t,r){var n,o,i=_(e),s=m(e,t);return s?s.value=r:(i.last=s={index:o=h(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=s),n&&(n.next=s),p?i.size++:e.size++,"F"!==o&&(i.index[o]=s)),e},m=function(e,t){var r,n=_(e),o=h(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(f,{clear:function(){for(var e=_(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,p?e.size=0:this.size=0},delete:function(e){var t=this,r=_(t),n=m(t,e);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),p?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=_(this),n=s(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),i(f,r?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),p&&o(f,"size",{configurable:!0,get:function(){return _(this).size}}),d},setStrong:function(e,t,r){var n=t+" Iterator",o=y(t),i=y(n);l(e,t,(function(e,t){E(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?d("keys"==t?r.key:"values"==t?r.value:[r.key,r.value],!1):(e.target=void 0,d(void 0,!0))}),r?"entries":"values",!r,!0),f(t)}}},7710:function(e,t,r){"use strict";var n=r(2109),o=r(7854),i=r(1702),s=r(4705),a=r(8052),u=r(2423),c=r(408),l=r(5787),d=r(614),f=r(8554),p=r(111),h=r(7293),_=r(7072),E=r(8003),y=r(9587);e.exports=function(e,t,r){var v=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),g=v?"set":"add",O=o[e],T=O&&O.prototype,R=O,I={},C=function(e){var t=i(T[e]);a(T,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return m&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!p(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(s(e,!d(O)||!(m||T.forEach&&!h((function(){(new O).entries().next()})))))R=r.getConstructor(t,e,v,g),u.enable();else if(s(e,!0)){var b=new R,N=b[g](m?{}:-0,1)!=b,S=h((function(){b.has(1)})),A=_((function(e){new O(e)})),M=!m&&h((function(){for(var e=new O,t=5;t--;)e[g](t,t);return!e.has(-0)}));A||((R=t((function(e,t){l(e,T);var r=y(new O,e,R);return f(t)||c(t,r[g],{that:r,AS_ENTRIES:v}),r}))).prototype=T,T.constructor=R),(S||M)&&(C("delete"),C("has"),v&&C("get")),(M||N)&&C(g),m&&T.clear&&delete T.clear}return I[e]=R,n({global:!0,constructor:!0,forced:R!=O},I),E(R,e),m||r.setStrong(R,e,v),R}},9920:function(e,t,r){var n=r(2597),o=r(3887),i=r(1236),s=r(3070);e.exports=function(e,t,r){for(var a=o(t),u=s.f,c=i.f,l=0;l<a.length;l++){var d=a[l];n(e,d)||r&&n(r,d)||u(e,d,c(t,d))}}},4964:function(e,t,r){var n=r(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:function(e,t,r){var n=r(7293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6178:function(e){e.exports=function(e,t){return{value:e,done:t}}},8880:function(e,t,r){var n=r(9781),o=r(3070),i=r(9114);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,r){"use strict";var n=r(4948),o=r(3070),i=r(9114);e.exports=function(e,t,r){var s=n(t);s in e?o.f(e,s,i(0,r)):e[s]=r}},7045:function(e,t,r){var n=r(6339),o=r(3070);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},8052:function(e,t,r){var n=r(614),o=r(3070),i=r(6339),s=r(3072);e.exports=function(e,t,r,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:t;if(n(r)&&i(r,c,a),a.global)u?e[t]=r:s(t,r);else{try{a.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},9190:function(e,t,r){var n=r(8052);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},3072:function(e,t,r){var n=r(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},5117:function(e,t,r){"use strict";var n=r(6330),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+n(t)+" of "+n(e))}},9781:function(e,t,r){var n=r(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},317:function(e,t,r){var n=r(7854),o=r(111),i=n.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},7207:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(e,t,r){var n=r(317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},8886:function(e,t,r){var n=r(8113).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},7871:function(e,t,r){var n=r(3823),o=r(5268);e.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},9363:function(e){e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},3823:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},256:function(e,t,r){var n=r(8113);e.exports=/MSIE|Trident/.test(n)},1528:function(e,t,r){var n=r(8113);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},6833:function(e,t,r){var n=r(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},5268:function(e,t,r){var n=r(4326);e.exports="undefined"!=typeof process&&"process"==n(process)},1036:function(e,t,r){var n=r(8113);e.exports=/web0s(?!.*chrome)/i.test(n)},8113:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(e,t,r){var n,o,i=r(7854),s=r(8113),a=i.process,u=i.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},8008:function(e,t,r){var n=r(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,r){var n=r(7854),o=r(1236).f,i=r(8880),s=r(8052),a=r(3072),u=r(9920),c=r(4705);e.exports=function(e,t){var r,l,d,f,p,h=e.target,_=e.global,E=e.stat;if(r=_?n:E?n[h]||a(h,{}):(n[h]||{}).prototype)for(l in t){if(f=t[l],d=e.dontCallGetSet?(p=o(r,l))&&p.value:r[l],!c(_?l:h+(E?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&i(f,"sham",!0),s(r,l,f,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},6677:function(e,t,r){var n=r(7293);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:function(e,t,r){var n=r(4374),o=Function.prototype,i=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments)})},9974:function(e,t,r){var n=r(1470),o=r(9662),i=r(4374),s=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?s(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,r){var n=r(7293);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7065:function(e,t,r){"use strict";var n=r(1702),o=r(9662),i=r(111),s=r(2597),a=r(206),u=r(4374),c=Function,l=n([].concat),d=n([].join),f={};e.exports=u?c.bind:function(e){var t=o(this),r=t.prototype,n=a(arguments,1),u=function(){var r=l(n,a(arguments));return this instanceof u?function(e,t,r){if(!s(f,t)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";f[t]=c("C,a","return new C("+d(n,",")+")")}return f[t](e,r)}(t,r.length,r):t.apply(e,r)};return i(r)&&(u.prototype=r),u}},6916:function(e,t,r){var n=r(4374),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(e,t,r){var n=r(9781),o=r(2597),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),u=a&&"something"===function(){}.name,c=a&&(!n||n&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},5668:function(e,t,r){var n=r(1702),o=r(9662);e.exports=function(e,t,r){try{return n(o(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},1470:function(e,t,r){var n=r(4326),o=r(1702);e.exports=function(e){if("Function"===n(e))return o(e)}},1702:function(e,t,r){var n=r(4374),o=Function.prototype,i=o.call,s=n&&o.bind.bind(i,i);e.exports=n?s:function(e){return function(){return i.apply(e,arguments)}}},5005:function(e,t,r){var n=r(7854),o=r(614);e.exports=function(e,t){return arguments.length<2?(r=n[e],o(r)?r:void 0):n[e]&&n[e][t];var r}},1246:function(e,t,r){var n=r(648),o=r(8173),i=r(8554),s=r(7497),a=r(5112)("iterator");e.exports=function(e){if(!i(e))return o(e,a)||o(e,"@@iterator")||s[n(e)]}},4121:function(e,t,r){var n=r(6916),o=r(9662),i=r(9670),s=r(6330),a=r(1246),u=TypeError;e.exports=function(e,t){var r=arguments.length<2?a(e):t;if(o(r))return i(n(r,e));throw u(s(e)+" is not iterable")}},8044:function(e,t,r){var n=r(1702),o=r(3157),i=r(614),s=r(4326),a=r(1340),u=n([].push);e.exports=function(e){if(i(e))return e;if(o(e)){for(var t=e.length,r=[],n=0;n<t;n++){var c=e[n];"string"==typeof c?u(r,c):"number"!=typeof c&&"Number"!=s(c)&&"String"!=s(c)||u(r,a(c))}var l=r.length,d=!0;return function(e,t){if(d)return d=!1,t;if(o(this))return t;for(var n=0;n<l;n++)if(r[n]===e)return t}}}},8173:function(e,t,r){var n=r(9662),o=r(8554);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},7854:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},2597:function(e,t,r){var n=r(1702),o=r(7908),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},3501:function(e){e.exports={}},842:function(e){e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},490:function(e,t,r){var n=r(5005);e.exports=n("document","documentElement")},4664:function(e,t,r){var n=r(9781),o=r(7293),i=r(317);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},1179:function(e){var t=Array,r=Math.abs,n=Math.pow,o=Math.floor,i=Math.log,s=Math.LN2;e.exports={pack:function(e,a,u){var c,l,d,f=t(u),p=8*u-a-1,h=(1<<p)-1,_=h>>1,E=23===a?n(2,-24)-n(2,-77):0,y=e<0||0===e&&1/e<0?1:0,v=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=o(i(e)/s),e*(d=n(2,-c))<1&&(c--,d*=2),(e+=c+_>=1?E/d:E*n(2,1-_))*d>=2&&(c++,d/=2),c+_>=h?(l=0,c=h):c+_>=1?(l=(e*d-1)*n(2,a),c+=_):(l=e*n(2,_-1)*n(2,a),c=0));a>=8;)f[v++]=255&l,l/=256,a-=8;for(c=c<<a|l,p+=a;p>0;)f[v++]=255&c,c/=256,p-=8;return f[--v]|=128*y,f},unpack:function(e,t){var r,o=e.length,i=8*o-t-1,s=(1<<i)-1,a=s>>1,u=i-7,c=o-1,l=e[c--],d=127&l;for(l>>=7;u>0;)d=256*d+e[c--],u-=8;for(r=d&(1<<-u)-1,d>>=-u,u+=t;u>0;)r=256*r+e[c--],u-=8;if(0===d)d=1-a;else{if(d===s)return r?NaN:l?-1/0:1/0;r+=n(2,t),d-=a}return(l?-1:1)*r*n(2,d-t)}}},8361:function(e,t,r){var n=r(1702),o=r(7293),i=r(4326),s=Object,a=n("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a(e,""):s(e)}:s},9587:function(e,t,r){var n=r(614),o=r(111),i=r(7674);e.exports=function(e,t,r){var s,a;return i&&n(s=t.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&i(e,a),e}},2788:function(e,t,r){var n=r(1702),o=r(614),i=r(5465),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},2423:function(e,t,r){var n=r(2109),o=r(1702),i=r(3501),s=r(111),a=r(2597),u=r(3070).f,c=r(8006),l=r(1156),d=r(2050),f=r(9711),p=r(6677),h=!1,_=f("meta"),E=0,y=function(e){u(e,_,{value:{objectID:"O"+E++,weakData:{}}})},v=e.exports={enable:function(){v.enable=function(){},h=!0;var e=c.f,t=o([].splice),r={};r[_]=1,e(r).length&&(c.f=function(r){for(var n=e(r),o=0,i=n.length;o<i;o++)if(n[o]===_){t(n,o,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,_)){if(!d(e))return"F";if(!t)return"E";y(e)}return e[_].objectID},getWeakData:function(e,t){if(!a(e,_)){if(!d(e))return!0;if(!t)return!1;y(e)}return e[_].weakData},onFreeze:function(e){return p&&h&&d(e)&&!a(e,_)&&y(e),e}};i[_]=!0},9909:function(e,t,r){var n,o,i,s=r(4811),a=r(7854),u=r(111),c=r(8880),l=r(2597),d=r(5465),f=r(6200),p=r(3501),h="Object already initialized",_=a.TypeError,E=a.WeakMap;if(s||d.state){var y=d.state||(d.state=new E);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw _(h);return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},i=function(e){return y.has(e)}}else{var v=f("state");p[v]=!0,n=function(e,t){if(l(e,v))throw _(h);return t.facade=e,c(e,v,t),t},o=function(e){return l(e,v)?e[v]:{}},i=function(e){return l(e,v)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw _("Incompatible receiver, "+e+" required");return r}}}},7659:function(e,t,r){var n=r(5112),o=r(7497),i=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[i]===e)}},3157:function(e,t,r){var n=r(4326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},4067:function(e,t,r){var n=r(648);e.exports=function(e){var t=n(e);return"BigInt64Array"==t||"BigUint64Array"==t}},614:function(e,t,r){var n=r(4154),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},4411:function(e,t,r){var n=r(1702),o=r(7293),i=r(614),s=r(648),a=r(5005),u=r(2788),c=function(){},l=[],d=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=n(f.exec),h=!f.exec(c),_=function(e){if(!i(e))return!1;try{return d(c,l,e),!0}catch(e){return!1}},E=function(e){if(!i(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(f,u(e))}catch(e){return!0}};E.sham=!0,e.exports=!d||o((function(){var e;return _(_.call)||!_(Object)||!_((function(){e=!0}))||e}))?E:_},4705:function(e,t,r){var n=r(7293),o=r(614),i=/#|\.prototype\./,s=function(e,t){var r=u[a(e)];return r==l||r!=c&&(o(t)?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},5988:function(e,t,r){var n=r(111),o=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&o(e)===e}},8554:function(e){e.exports=function(e){return null==e}},111:function(e,t,r){var n=r(614),o=r(4154),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===i}:function(e){return"object"==typeof e?null!==e:n(e)}},1913:function(e){e.exports=!1},7850:function(e,t,r){var n=r(111),o=r(4326),i=r(5112)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},2190:function(e,t,r){var n=r(5005),o=r(614),i=r(7976),s=r(3307),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,a(e))}},408:function(e,t,r){var n=r(9974),o=r(6916),i=r(9670),s=r(6330),a=r(7659),u=r(6244),c=r(7976),l=r(4121),d=r(1246),f=r(9212),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},_=h.prototype;e.exports=function(e,t,r){var E,y,v,m,g,O,T,R=r&&r.that,I=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),b=!(!r||!r.IS_ITERATOR),N=!(!r||!r.INTERRUPTED),S=n(t,R),A=function(e){return E&&f(E,"normal",e),new h(!0,e)},M=function(e){return I?(i(e),N?S(e[0],e[1],A):S(e[0],e[1])):N?S(e,A):S(e)};if(C)E=e.iterator;else if(b)E=e;else{if(!(y=d(e)))throw p(s(e)+" is not iterable");if(a(y)){for(v=0,m=u(e);m>v;v++)if((g=M(e[v]))&&c(_,g))return g;return new h(!1)}E=l(e,y)}for(O=C?e.next:E.next;!(T=o(O,E)).done;){try{g=M(T.value)}catch(e){f(E,"throw",e)}if("object"==typeof g&&g&&c(_,g))return g}return new h(!1)}},9212:function(e,t,r){var n=r(6916),o=r(9670),i=r(8173);e.exports=function(e,t,r){var s,a;o(e);try{if(!(s=i(e,"return"))){if("throw"===t)throw r;return r}s=n(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw r;if(a)throw s;return o(s),r}},3061:function(e,t,r){"use strict";var n=r(3383).IteratorPrototype,o=r(30),i=r(9114),s=r(8003),a=r(7497),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=o(n,{next:i(+!c,r)}),s(e,l,!1,!0),a[l]=u,e}},1656:function(e,t,r){"use strict";var n=r(2109),o=r(6916),i=r(1913),s=r(6530),a=r(614),u=r(3061),c=r(9518),l=r(7674),d=r(8003),f=r(8880),p=r(8052),h=r(5112),_=r(7497),E=r(3383),y=s.PROPER,v=s.CONFIGURABLE,m=E.IteratorPrototype,g=E.BUGGY_SAFARI_ITERATORS,O=h("iterator"),T="keys",R="values",I="entries",C=function(){return this};e.exports=function(e,t,r,s,h,E,b){u(r,t,s);var N,S,A,M=function(e){if(e===h&&P)return P;if(!g&&e in L)return L[e];switch(e){case T:case R:case I:return function(){return new r(this,e)}}return function(){return new r(this)}},w=t+" Iterator",U=!1,L=e.prototype,x=L[O]||L["@@iterator"]||h&&L[h],P=!g&&x||M(h),D="Array"==t&&L.entries||x;if(D&&(N=c(D.call(new e)))!==Object.prototype&&N.next&&(i||c(N)===m||(l?l(N,m):a(N[O])||p(N,O,C)),d(N,w,!0,!0),i&&(_[w]=C)),y&&h==R&&x&&x.name!==R&&(!i&&v?f(L,"name",R):(U=!0,P=function(){return o(x,this)})),h)if(S={values:M(R),keys:E?P:M(T),entries:M(I)},b)for(A in S)(g||U||!(A in L))&&p(L,A,S[A]);else n({target:t,proto:!0,forced:g||U},S);return i&&!b||L[O]===P||p(L,O,P,{name:h}),_[t]=P,S}},3383:function(e,t,r){"use strict";var n,o,i,s=r(7293),a=r(614),u=r(111),c=r(30),l=r(9518),d=r(8052),f=r(5112),p=r(1913),h=f("iterator"),_=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(n=o):_=!0),!u(n)||s((function(){var e={};return n[h].call(e)!==e}))?n={}:p&&(n=c(n)),a(n[h])||d(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:_}},7497:function(e){e.exports={}},6244:function(e,t,r){var n=r(7466);e.exports=function(e){return n(e.length)}},6339:function(e,t,r){var n=r(1702),o=r(7293),i=r(614),s=r(2597),a=r(9781),u=r(6530).CONFIGURABLE,c=r(2788),l=r(9909),d=l.enforce,f=l.get,p=String,h=Object.defineProperty,_=n("".slice),E=n("".replace),y=n([].join),v=a&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),m=String(String).split("String"),g=e.exports=function(e,t,r){"Symbol("===_(p(t),0,7)&&(t="["+E(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||u&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),v&&r&&s(r,"arity")&&e.length!==r.arity&&h(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=d(e);return s(n,"source")||(n.source=y(m,"string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return i(this)&&f(this).source||c(this)}),"toString")},4758:function(e){var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},5948:function(e,t,r){var n,o,i,s,a,u=r(7854),c=r(9974),l=r(1236).f,d=r(261).set,f=r(8572),p=r(6833),h=r(1528),_=r(1036),E=r(5268),y=u.MutationObserver||u.WebKitMutationObserver,v=u.document,m=u.process,g=u.Promise,O=l(u,"queueMicrotask"),T=O&&O.value;if(!T){var R=new f,I=function(){var e,t;for(E&&(e=m.domain)&&e.exit();t=R.get();)try{t()}catch(e){throw R.head&&n(),e}e&&e.enter()};p||E||_||!y||!v?!h&&g&&g.resolve?((s=g.resolve(void 0)).constructor=g,a=c(s.then,s),n=function(){a(I)}):E?n=function(){m.nextTick(I)}:(d=c(d,u),n=function(){d(I)}):(o=!0,i=v.createTextNode(""),new y(I).observe(i,{characterData:!0}),n=function(){i.data=o=!o}),T=function(e){R.head||n(),R.add(e)}}e.exports=T},8523:function(e,t,r){"use strict";var n=r(9662),o=TypeError,i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw o("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},3929:function(e,t,r){var n=r(7850),o=TypeError;e.exports=function(e){if(n(e))throw o("The method doesn't accept regular expressions");return e}},1574:function(e,t,r){"use strict";var n=r(9781),o=r(1702),i=r(6916),s=r(7293),a=r(1956),u=r(5181),c=r(5296),l=r(7908),d=r(8361),f=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!f||s((function(){if(n&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=f({},e)[r]||a(f({},t)).join("")!=o}))?function(e,t){for(var r=l(e),o=arguments.length,s=1,f=u.f,p=c.f;o>s;)for(var _,E=d(arguments[s++]),y=f?h(a(E),f(E)):a(E),v=y.length,m=0;v>m;)_=y[m++],n&&!i(p,E,_)||(r[_]=E[_]);return r}:f},30:function(e,t,r){var n,o=r(9670),i=r(6048),s=r(748),a=r(3501),u=r(490),c=r(317),l=r(6200),d="prototype",f="script",p=l("IE_PROTO"),h=function(){},_=function(e){return"<"+f+">"+e+"</"+f+">"},E=function(e){e.write(_("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;y="undefined"!=typeof document?document.domain&&n?E(n):(t=c("iframe"),r="java"+f+":",t.style.display="none",u.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(_("document.F=Object")),e.close(),e.F):E(n);for(var o=s.length;o--;)delete y[d][s[o]];return y()};a[p]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[d]=o(e),r=new h,h[d]=null,r[p]=e):r=y(),void 0===t?r:i.f(r,t)}},6048:function(e,t,r){var n=r(9781),o=r(3353),i=r(3070),s=r(9670),a=r(5656),u=r(1956);t.f=n&&!o?Object.defineProperties:function(e,t){s(e);for(var r,n=a(t),o=u(t),c=o.length,l=0;c>l;)i.f(e,r=o[l++],n[r]);return e}},3070:function(e,t,r){var n=r(9781),o=r(4664),i=r(3353),s=r(9670),a=r(4948),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=n?i?function(e,t,r){if(s(e),t=a(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var n=l(e,t);n&&n[p]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:d in r?r[d]:n[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(s(e),t=a(t),s(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1236:function(e,t,r){var n=r(9781),o=r(6916),i=r(5296),s=r(9114),a=r(5656),u=r(4948),c=r(2597),l=r(4664),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=a(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return s(!o(i.f,e,t),e[t])}},1156:function(e,t,r){var n=r(4326),o=r(5656),i=r(8006).f,s=r(1589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==n(e)?function(e){try{return i(e)}catch(e){return s(a)}}(e):i(o(e))}},8006:function(e,t,r){var n=r(6324),o=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,r){var n=r(2597),o=r(614),i=r(7908),s=r(6200),a=r(8544),u=s("IE_PROTO"),c=Object,l=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=i(e);if(n(t,u))return t[u];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof c?l:null}},2050:function(e,t,r){var n=r(7293),o=r(111),i=r(4326),s=r(7556),a=Object.isExtensible,u=n((function(){a(1)}));e.exports=u||s?function(e){return!!o(e)&&(!s||"ArrayBuffer"!=i(e))&&(!a||a(e))}:a},7976:function(e,t,r){var n=r(1702);e.exports=n({}.isPrototypeOf)},6324:function(e,t,r){var n=r(1702),o=r(2597),i=r(5656),s=r(1318).indexOf,a=r(3501),u=n([].push);e.exports=function(e,t){var r,n=i(e),c=0,l=[];for(r in n)!o(a,r)&&o(n,r)&&u(l,r);for(;t.length>c;)o(n,r=t[c++])&&(~s(l,r)||u(l,r));return l}},1956:function(e,t,r){var n=r(6324),o=r(748);e.exports=Object.keys||function(e){return n(e,o)}},5296:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},7674:function(e,t,r){var n=r(5668),o=r(9670),i=r(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},4699:function(e,t,r){var n=r(9781),o=r(1702),i=r(1956),s=r(5656),a=o(r(5296).f),u=o([].push),c=function(e){return function(t){for(var r,o=s(t),c=i(o),l=c.length,d=0,f=[];l>d;)r=c[d++],n&&!a(o,r)||u(f,e?[r,o[r]]:o[r]);return f}};e.exports={entries:c(!0),values:c(!1)}},288:function(e,t,r){"use strict";var n=r(1694),o=r(648);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},2140:function(e,t,r){var n=r(6916),o=r(614),i=r(111),s=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&o(r=e.toString)&&!i(a=n(r,e)))return a;if(o(r=e.valueOf)&&!i(a=n(r,e)))return a;if("string"!==t&&o(r=e.toString)&&!i(a=n(r,e)))return a;throw s("Can't convert object to primitive value")}},3887:function(e,t,r){var n=r(5005),o=r(1702),i=r(8006),s=r(5181),a=r(9670),u=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=s.f;return r?u(t,r(e)):t}},857:function(e,t,r){var n=r(7854);e.exports=n},2534:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},3702:function(e,t,r){var n=r(7854),o=r(2492),i=r(614),s=r(4705),a=r(2788),u=r(5112),c=r(7871),l=r(3823),d=r(1913),f=r(7392),p=o&&o.prototype,h=u("species"),_=!1,E=i(n.PromiseRejectionEvent),y=s("Promise",(function(){var e=a(o),t=e!==String(o);if(!t&&66===f)return!0;if(d&&(!p.catch||!p.finally))return!0;if(!f||f<51||!/native code/.test(e)){var r=new o((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[h]=n,!(_=r.then((function(){}))instanceof n))return!0}return!t&&(c||l)&&!E}));e.exports={CONSTRUCTOR:y,REJECTION_EVENT:E,SUBCLASSING:_}},2492:function(e,t,r){var n=r(7854);e.exports=n.Promise},9478:function(e,t,r){var n=r(9670),o=r(111),i=r(8523);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},612:function(e,t,r){var n=r(2492),o=r(7072),i=r(3702).CONSTRUCTOR;e.exports=i||!o((function(e){n.all(e).then(void 0,(function(){}))}))},8572:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},2261:function(e,t,r){"use strict";var n,o,i=r(6916),s=r(1702),a=r(1340),u=r(7066),c=r(2999),l=r(2309),d=r(30),f=r(9909).get,p=r(9441),h=r(7168),_=l("native-string-replace",String.prototype.replace),E=RegExp.prototype.exec,y=E,v=s("".charAt),m=s("".indexOf),g=s("".replace),O=s("".slice),T=(o=/b*/g,i(E,n=/a/,"a"),i(E,o,"a"),0!==n.lastIndex||0!==o.lastIndex),R=c.BROKEN_CARET,I=void 0!==/()??/.exec("")[1];(T||I||R||p||h)&&(y=function(e){var t,r,n,o,s,c,l,p=this,h=f(p),C=a(e),b=h.raw;if(b)return b.lastIndex=p.lastIndex,t=i(y,b,C),p.lastIndex=b.lastIndex,t;var N=h.groups,S=R&&p.sticky,A=i(u,p),M=p.source,w=0,U=C;if(S&&(A=g(A,"y",""),-1===m(A,"g")&&(A+="g"),U=O(C,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==v(C,p.lastIndex-1))&&(M="(?: "+M+")",U=" "+U,w++),r=new RegExp("^(?:"+M+")",A)),I&&(r=new RegExp("^"+M+"$(?!\\s)",A)),T&&(n=p.lastIndex),o=i(E,S?r:p,U),S?o?(o.input=O(o.input,w),o[0]=O(o[0],w),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:T&&o&&(p.lastIndex=p.global?o.index+o[0].length:n),I&&o&&o.length>1&&i(_,o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&N)for(o.groups=c=d(null),s=0;s<N.length;s++)c[(l=N[s])[0]]=o[l[1]];return o}),e.exports=y},7066:function(e,t,r){"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4706:function(e,t,r){var n=r(6916),o=r(2597),i=r(7976),s=r(7066),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||o(e,"flags")||!i(a,e)?t:n(s,e)}},2999:function(e,t,r){var n=r(7293),o=r(7854).RegExp,i=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=i||n((function(){return!o("a","y").sticky})),a=i||n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:i}},9441:function(e,t,r){var n=r(7293),o=r(7854).RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:function(e,t,r){var n=r(7293),o=r(7854).RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:function(e,t,r){var n=r(8554),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},7152:function(e,t,r){"use strict";var n,o=r(7854),i=r(2104),s=r(614),a=r(9363),u=r(8113),c=r(206),l=r(8053),d=o.Function,f=/MSIE .\./.test(u)||a&&((n=o.Bun.version.split(".")).length<3||0==n[0]&&(n[1]<3||3==n[1]&&0==n[2]));e.exports=function(e,t){var r=t?2:1;return f?function(n,o){var a=l(arguments.length,1)>r,u=s(n)?n:d(n),f=a?c(arguments,r):[],p=a?function(){i(u,this,f)}:u;return t?e(p,o):e(p)}:e}},6340:function(e,t,r){"use strict";var n=r(5005),o=r(7045),i=r(5112),s=r(9781),a=i("species");e.exports=function(e){var t=n(e);s&&t&&!t[a]&&o(t,a,{configurable:!0,get:function(){return this}})}},8003:function(e,t,r){var n=r(3070).f,o=r(2597),i=r(5112)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!o(e,i)&&n(e,i,{configurable:!0,value:t})}},6200:function(e,t,r){var n=r(2309),o=r(9711),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5465:function(e,t,r){var n=r(7854),o=r(3072),i="__core-js_shared__",s=n[i]||o(i,{});e.exports=s},2309:function(e,t,r){var n=r(1913),o=r(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.2",mode:n?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(e,t,r){var n=r(9670),o=r(9483),i=r(8554),s=r(5112)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||i(r=n(a)[s])?t:o(r)}},8710:function(e,t,r){var n=r(1702),o=r(9303),i=r(1340),s=r(4488),a=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,d=i(s(t)),f=o(r),p=d.length;return f<0||f>=p?e?"":void 0:(n=u(d,f))<55296||n>56319||f+1===p||(l=u(d,f+1))<56320||l>57343?e?a(d,f):n:e?c(d,f,f+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},3197:function(e,t,r){var n=r(1702),o=2147483647,i=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",u=RangeError,c=n(s.exec),l=Math.floor,d=String.fromCharCode,f=n("".charCodeAt),p=n([].join),h=n([].push),_=n("".replace),E=n("".split),y=n("".toLowerCase),v=function(e){return e+22+75*(e<26)},m=function(e,t,r){var n=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),n+=36;return l(n+36*e/(e+38))},g=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=f(e,r++);if(o>=55296&&o<=56319&&r<n){var i=f(e,r++);56320==(64512&i)?h(t,((1023&o)<<10)+(1023&i)+65536):(h(t,o),r--)}else h(t,o)}return t}(e);var r,n,i=e.length,s=128,c=0,_=72;for(r=0;r<e.length;r++)(n=e[r])<128&&h(t,d(n));var E=t.length,y=E;for(E&&h(t,"-");y<i;){var g=o;for(r=0;r<e.length;r++)(n=e[r])>=s&&n<g&&(g=n);var O=y+1;if(g-s>l((o-c)/O))throw u(a);for(c+=(g-s)*O,s=g,r=0;r<e.length;r++){if((n=e[r])<s&&++c>o)throw u(a);if(n==s){for(var T=c,R=36;;){var I=R<=_?1:R>=_+26?26:R-_;if(T<I)break;var C=T-I,b=36-I;h(t,d(v(I+C%b))),T=l(C/b),R+=36}h(t,d(v(T))),_=m(c,O,y==E),c=0,y++}}c++,s++}return p(t,"")};e.exports=function(e){var t,r,n=[],o=E(_(y(e),s,"."),".");for(t=0;t<o.length;t++)r=o[t],h(n,c(i,r)?"xn--"+g(r):r);return p(n,".")}},3111:function(e,t,r){var n=r(1702),o=r(4488),i=r(1340),s=r(1361),a=n("".replace),u=RegExp("^["+s+"]+"),c=RegExp("(^|[^"+s+"])["+s+"]+$"),l=function(e){return function(t){var r=i(o(t));return 1&e&&(r=a(r,u,"")),2&e&&(r=a(r,c,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},6293:function(e,t,r){var n=r(7392),o=r(7293),i=r(7854).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},6532:function(e,t,r){var n=r(6916),o=r(5005),i=r(5112),s=r(8052);e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,a=i("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return n(r,this)}),{arity:1})}},2015:function(e,t,r){var n=r(6293);e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},261:function(e,t,r){var n,o,i,s,a=r(7854),u=r(2104),c=r(9974),l=r(614),d=r(2597),f=r(7293),p=r(490),h=r(206),_=r(317),E=r(8053),y=r(6833),v=r(5268),m=a.setImmediate,g=a.clearImmediate,O=a.process,T=a.Dispatch,R=a.Function,I=a.MessageChannel,C=a.String,b=0,N={},S="onreadystatechange";f((function(){n=a.location}));var A=function(e){if(d(N,e)){var t=N[e];delete N[e],t()}},M=function(e){return function(){A(e)}},w=function(e){A(e.data)},U=function(e){a.postMessage(C(e),n.protocol+"//"+n.host)};m&&g||(m=function(e){E(arguments.length,1);var t=l(e)?e:R(e),r=h(arguments,1);return N[++b]=function(){u(t,void 0,r)},o(b),b},g=function(e){delete N[e]},v?o=function(e){O.nextTick(M(e))}:T&&T.now?o=function(e){T.now(M(e))}:I&&!y?(s=(i=new I).port2,i.port1.onmessage=w,o=c(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!f(U)?(o=U,a.addEventListener("message",w,!1)):o=S in _("script")?function(e){p.appendChild(_("script"))[S]=function(){p.removeChild(this),A(e)}}:function(e){setTimeout(M(e),0)}),e.exports={set:m,clear:g}},863:function(e,t,r){var n=r(1702);e.exports=n(1..valueOf)},1400:function(e,t,r){var n=r(9303),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},4599:function(e,t,r){var n=r(7593),o=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw o("Can't convert number to bigint");return BigInt(t)}},7067:function(e,t,r){var n=r(9303),o=r(7466),i=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw i("Wrong length or index");return r}},5656:function(e,t,r){var n=r(8361),o=r(4488);e.exports=function(e){return n(o(e))}},9303:function(e,t,r){var n=r(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},7466:function(e,t,r){var n=r(9303),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},7908:function(e,t,r){var n=r(4488),o=Object;e.exports=function(e){return o(n(e))}},4590:function(e,t,r){var n=r(3002),o=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw o("Wrong offset");return r}},3002:function(e,t,r){var n=r(9303),o=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw o("The argument can't be less than 0");return t}},7593:function(e,t,r){var n=r(6916),o=r(111),i=r(2190),s=r(8173),a=r(2140),u=r(5112),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,u=s(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!o(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:function(e,t,r){var n=r(7593),o=r(2190);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},1694:function(e,t,r){var n={};n[r(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},1340:function(e,t,r){var n=r(648),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9843:function(e,t,r){"use strict";var n=r(2109),o=r(7854),i=r(6916),s=r(9781),a=r(3832),u=r(260),c=r(3331),l=r(5787),d=r(9114),f=r(8880),p=r(5988),h=r(7466),_=r(7067),E=r(4590),y=r(4948),v=r(2597),m=r(648),g=r(111),O=r(2190),T=r(30),R=r(7976),I=r(7674),C=r(8006).f,b=r(7321),N=r(2092).forEach,S=r(6340),A=r(7045),M=r(3070),w=r(1236),U=r(9909),L=r(9587),x=U.get,P=U.set,D=U.enforce,k=M.f,H=w.f,B=Math.round,G=o.RangeError,F=c.ArrayBuffer,j=F.prototype,W=c.DataView,q=u.NATIVE_ARRAY_BUFFER_VIEWS,K=u.TYPED_ARRAY_TAG,V=u.TypedArray,J=u.TypedArrayPrototype,z=u.aTypedArrayConstructor,Y=u.isTypedArray,X="BYTES_PER_ELEMENT",$="Wrong length",Z=function(e,t){z(e);for(var r=0,n=t.length,o=new e(n);n>r;)o[r]=t[r++];return o},Q=function(e,t){A(e,t,{configurable:!0,get:function(){return x(this)[t]}})},ee=function(e){var t;return R(j,e)||"ArrayBuffer"==(t=m(e))||"SharedArrayBuffer"==t},te=function(e,t){return Y(e)&&!O(t)&&t in e&&p(+t)&&t>=0},re=function(e,t){return t=y(t),te(e,t)?d(2,e[t]):H(e,t)},ne=function(e,t,r){return t=y(t),!(te(e,t)&&g(r)&&v(r,"value"))||v(r,"get")||v(r,"set")||r.configurable||v(r,"writable")&&!r.writable||v(r,"enumerable")&&!r.enumerable?k(e,t,r):(e[t]=r.value,e)};s?(q||(w.f=re,M.f=ne,Q(J,"buffer"),Q(J,"byteOffset"),Q(J,"byteLength"),Q(J,"length")),n({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:re,defineProperty:ne}),e.exports=function(e,t,r){var s=e.match(/\d+/)[0]/8,u=e+(r?"Clamped":"")+"Array",c="get"+e,d="set"+e,p=o[u],y=p,v=y&&y.prototype,m={},O=function(e,t){k(e,t,{get:function(){return function(e,t){var r=x(e);return r.view[c](t*s+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=x(e);r&&(n=(n=B(n))<0?0:n>255?255:255&n),o.view[d](t*s+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};q?a&&(y=t((function(e,t,r,n){return l(e,v),L(g(t)?ee(t)?void 0!==n?new p(t,E(r,s),n):void 0!==r?new p(t,E(r,s)):new p(t):Y(t)?Z(y,t):i(b,y,t):new p(_(t)),e,y)})),I&&I(y,V),N(C(p),(function(e){e in y||f(y,e,p[e])})),y.prototype=v):(y=t((function(e,t,r,n){l(e,v);var o,a,u,c=0,d=0;if(g(t)){if(!ee(t))return Y(t)?Z(y,t):i(b,y,t);o=t,d=E(r,s);var f=t.byteLength;if(void 0===n){if(f%s)throw G($);if((a=f-d)<0)throw G($)}else if((a=h(n)*s)+d>f)throw G($);u=a/s}else u=_(t),o=new F(a=u*s);for(P(e,{buffer:o,byteOffset:d,byteLength:a,length:u,view:new W(o)});c<u;)O(e,c++)})),I&&I(y,V),v=y.prototype=T(J)),v.constructor!==y&&f(v,"constructor",y),D(v).TypedArrayConstructor=y,K&&f(v,K,u);var R=y!=p;m[u]=y,n({global:!0,constructor:!0,forced:R,sham:!q},m),X in y||f(y,X,s),X in v||f(v,X,s),S(u)}):e.exports=function(){}},3832:function(e,t,r){var n=r(7854),o=r(7293),i=r(7072),s=r(260).NATIVE_ARRAY_BUFFER_VIEWS,a=n.ArrayBuffer,u=n.Int8Array;e.exports=!s||!o((function(){u(1)}))||!o((function(){new u(-1)}))||!i((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||o((function(){return 1!==new u(new a(2),1,void 0).length}))},3074:function(e,t,r){var n=r(7745),o=r(6304);e.exports=function(e,t){return n(o(e),t)}},7321:function(e,t,r){var n=r(9974),o=r(6916),i=r(9483),s=r(7908),a=r(6244),u=r(4121),c=r(1246),l=r(7659),d=r(4067),f=r(260).aTypedArrayConstructor,p=r(4599);e.exports=function(e){var t,r,h,_,E,y,v,m,g=i(this),O=s(e),T=arguments.length,R=T>1?arguments[1]:void 0,I=void 0!==R,C=c(O);if(C&&!l(C))for(m=(v=u(O,C)).next,O=[];!(y=o(m,v)).done;)O.push(y.value);for(I&&T>2&&(R=n(R,arguments[2])),r=a(O),h=new(f(g))(r),_=d(h),t=0;r>t;t++)E=I?R(O[t],t):O[t],h[t]=_?p(E):+E;return h}},6304:function(e,t,r){var n=r(260),o=r(6707),i=n.aTypedArrayConstructor,s=n.getTypedArrayConstructor;e.exports=function(e){return i(o(e,s(e)))}},9711:function(e,t,r){var n=r(1702),o=0,i=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+i,36)}},5143:function(e,t,r){var n=r(7293),o=r(5112),i=r(9781),s=r(1913),a=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),s&&!e.toJSON||!t.size&&(s||!i)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},3307:function(e,t,r){var n=r(6293);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,r){var n=r(9781),o=r(7293);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(e){var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},4811:function(e,t,r){var n=r(7854),o=r(614),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},6800:function(e,t,r){var n=r(857),o=r(2597),i=r(6061),s=r(3070).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||s(t,e,{value:i.f(e)})}},6061:function(e,t,r){var n=r(5112);t.f=n},5112:function(e,t,r){var n=r(7854),o=r(2309),i=r(2597),s=r(9711),a=r(6293),u=r(3307),c=n.Symbol,l=o("wks"),d=u?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return i(l,e)||(l[e]=a&&i(c,e)?c[e]:d("Symbol."+e)),l[e]}},1361:function(e){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},8264:function(e,t,r){"use strict";var n=r(2109),o=r(7854),i=r(3331),s=r(6340),a="ArrayBuffer",u=i[a];n({global:!0,constructor:!0,forced:o[a]!==u},{ArrayBuffer:u}),s(a)},9575:function(e,t,r){"use strict";var n=r(2109),o=r(1470),i=r(7293),s=r(3331),a=r(9670),u=r(1400),c=r(7466),l=r(6707),d=s.ArrayBuffer,f=s.DataView,p=f.prototype,h=o(d.prototype.slice),_=o(p.getUint8),E=o(p.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(h&&void 0===t)return h(a(this),e);for(var r=a(this).byteLength,n=u(e,r),o=u(void 0===t?r:t,r),i=new(l(this,d))(c(o-n)),s=new f(this),p=new f(i),y=0;n<o;)E(p,y++,_(s,n++));return i}})},2222:function(e,t,r){"use strict";var n=r(2109),o=r(7293),i=r(3157),s=r(111),a=r(7908),u=r(6244),c=r(7207),l=r(6135),d=r(5417),f=r(1194),p=r(5112),h=r(7392),_=p("isConcatSpreadable"),E=h>=51||!o((function(){var e=[];return e[_]=!1,e.concat()[0]!==e})),y=function(e){if(!s(e))return!1;var t=e[_];return void 0!==t?!!t:i(e)};n({target:"Array",proto:!0,arity:1,forced:!E||!f("concat")},{concat:function(e){var t,r,n,o,i,s=a(this),f=d(s,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(y(i=-1===t?s:arguments[t]))for(o=u(i),c(p+o),r=0;r<o;r++,p++)r in i&&l(f,p,i[r]);else c(p+1),l(f,p++,i);return f.length=p,f}})},7327:function(e,t,r){"use strict";var n=r(2109),o=r(2092).filter;n({target:"Array",proto:!0,forced:!r(1194)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},9554:function(e,t,r){"use strict";var n=r(2109),o=r(8533);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},1038:function(e,t,r){var n=r(2109),o=r(8457);n({target:"Array",stat:!0,forced:!r(7072)((function(e){Array.from(e)}))},{from:o})},6699:function(e,t,r){"use strict";var n=r(2109),o=r(1318).includes,i=r(7293),s=r(1223);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},2772:function(e,t,r){"use strict";var n=r(2109),o=r(1470),i=r(1318).indexOf,s=r(9341),a=o([].indexOf),u=!!a&&1/a([1],1,-0)<0;n({target:"Array",proto:!0,forced:u||!s("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?a(this,e,t)||0:i(this,e,t)}})},9753:function(e,t,r){r(2109)({target:"Array",stat:!0},{isArray:r(3157)})},6992:function(e,t,r){"use strict";var n=r(5656),o=r(1223),i=r(7497),s=r(9909),a=r(3070).f,u=r(1656),c=r(6178),l=r(1913),d=r(9781),f="Array Iterator",p=s.set,h=s.getterFor(f);e.exports=u(Array,"Array",(function(e,t){p(this,{type:f,target:n(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var _=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&d&&"values"!==_.name)try{a(_,"name",{value:"values"})}catch(e){}},9600:function(e,t,r){"use strict";var n=r(2109),o=r(1702),i=r(8361),s=r(5656),a=r(9341),u=o([].join);n({target:"Array",proto:!0,forced:i!=Object||!a("join",",")},{join:function(e){return u(s(this),void 0===e?",":e)}})},4986:function(e,t,r){var n=r(2109),o=r(6583);n({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},1249:function(e,t,r){"use strict";var n=r(2109),o=r(2092).map;n({target:"Array",proto:!0,forced:!r(1194)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:function(e,t,r){"use strict";var n=r(2109),o=r(3671).left,i=r(9341),s=r(7392);n({target:"Array",proto:!0,forced:!r(5268)&&s>79&&s<83||!i("reduce")},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},7042:function(e,t,r){"use strict";var n=r(2109),o=r(3157),i=r(4411),s=r(111),a=r(1400),u=r(6244),c=r(5656),l=r(6135),d=r(5112),f=r(1194),p=r(206),h=f("slice"),_=d("species"),E=Array,y=Math.max;n({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var r,n,d,f=c(this),h=u(f),v=a(e,h),m=a(void 0===t?h:t,h);if(o(f)&&(r=f.constructor,(i(r)&&(r===E||o(r.prototype))||s(r)&&null===(r=r[_]))&&(r=void 0),r===E||void 0===r))return p(f,v,m);for(n=new(void 0===r?E:r)(y(m-v,0)),d=0;v<m;v++,d++)v in f&&l(n,d,f[v]);return n.length=d,n}})},5212:function(e,t,r){"use strict";var n=r(2109),o=r(2092).some;n({target:"Array",proto:!0,forced:!r(9341)("some")},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},561:function(e,t,r){"use strict";var n=r(2109),o=r(7908),i=r(1400),s=r(9303),a=r(6244),u=r(3658),c=r(7207),l=r(5417),d=r(6135),f=r(5117),p=r(1194)("splice"),h=Math.max,_=Math.min;n({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var r,n,p,E,y,v,m=o(this),g=a(m),O=i(e,g),T=arguments.length;for(0===T?r=n=0:1===T?(r=0,n=g-O):(r=T-2,n=_(h(s(t),0),g-O)),c(g+r-n),p=l(m,n),E=0;E<n;E++)(y=O+E)in m&&d(p,E,m[y]);if(p.length=n,r<n){for(E=O;E<g-n;E++)v=E+r,(y=E+n)in m?m[v]=m[y]:f(m,v);for(E=g;E>g-n+r;E--)f(m,E-1)}else if(r>n)for(E=g-n;E>O;E--)v=E+r-1,(y=E+n-1)in m?m[v]=m[y]:f(m,v);for(E=0;E<r;E++)m[E+O]=arguments[E+2];return u(m,g-n+r),p}})},3843:function(e,t,r){var n=r(2109),o=r(1702),i=Date,s=o(i.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return s(new i)}})},3710:function(e,t,r){var n=r(1702),o=r(8052),i=Date.prototype,s="Invalid Date",a="toString",u=n(i[a]),c=n(i.getTime);String(new Date(NaN))!=s&&o(i,a,(function(){var e=c(this);return e==e?u(this):s}))},4812:function(e,t,r){var n=r(2109),o=r(7065);n({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},8309:function(e,t,r){var n=r(9781),o=r(6530).EXISTS,i=r(1702),s=r(7045),a=Function.prototype,u=i(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(c.exec);n&&!o&&s(a,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(e){return""}}})},8862:function(e,t,r){var n=r(2109),o=r(5005),i=r(2104),s=r(6916),a=r(1702),u=r(7293),c=r(614),l=r(2190),d=r(206),f=r(8044),p=r(6293),h=String,_=o("JSON","stringify"),E=a(/./.exec),y=a("".charAt),v=a("".charCodeAt),m=a("".replace),g=a(1..toString),O=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,R=/^[\uDC00-\uDFFF]$/,I=!p||u((function(){var e=o("Symbol")();return"[null]"!=_([e])||"{}"!=_({a:e})||"{}"!=_(Object(e))})),C=u((function(){return'"\\udf06\\ud834"'!==_("\udf06\ud834")||'"\\udead"'!==_("\udead")})),b=function(e,t){var r=d(arguments),n=f(t);if(c(n)||void 0!==e&&!l(e))return r[1]=function(e,t){if(c(n)&&(t=s(n,this,h(e),t)),!l(t))return t},i(_,null,r)},N=function(e,t,r){var n=y(r,t-1),o=y(r,t+1);return E(T,e)&&!E(R,o)||E(R,e)&&!E(T,n)?"\\u"+g(v(e,0),16):e};_&&n({target:"JSON",stat:!0,arity:3,forced:I||C},{stringify:function(e,t,r){var n=d(arguments),o=i(I?b:_,null,n);return C&&"string"==typeof o?m(o,O,N):o}})},9098:function(e,t,r){"use strict";r(7710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(5631))},1532:function(e,t,r){r(9098)},9653:function(e,t,r){"use strict";var n=r(2109),o=r(1913),i=r(9781),s=r(7854),a=r(857),u=r(1702),c=r(4705),l=r(2597),d=r(9587),f=r(7976),p=r(2190),h=r(7593),_=r(7293),E=r(8006).f,y=r(1236).f,v=r(3070).f,m=r(863),g=r(3111).trim,O="Number",T=s[O],R=a[O],I=T.prototype,C=s.TypeError,b=u("".slice),N=u("".charCodeAt),S=c(O,!T(" 0o1")||!T("0b1")||T("+0x1")),A=function(e){var t,r=arguments.length<1?0:T(function(e){var t=h(e,"number");return"bigint"==typeof t?t:function(e){var t,r,n,o,i,s,a,u,c=h(e,"number");if(p(c))throw C("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=g(c),43===(t=N(c,0))||45===t){if(88===(r=N(c,2))||120===r)return NaN}else if(48===t){switch(N(c,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(s=(i=b(c,2)).length,a=0;a<s;a++)if((u=N(i,a))<48||u>o)return NaN;return parseInt(i,n)}return+c}(t)}(e));return f(I,t=this)&&_((function(){m(t)}))?d(Object(r),this,A):r};A.prototype=I,S&&!o&&(I.constructor=A),n({global:!0,constructor:!0,wrap:!0,forced:S},{Number:A});var M=function(e,t){for(var r,n=i?E(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;n.length>o;o++)l(t,r=n[o])&&!l(e,r)&&v(e,r,y(t,r))};o&&R&&M(a[O],R),(S||o)&&M(a[O],T)},3161:function(e,t,r){r(2109)({target:"Number",stat:!0},{isInteger:r(5988)})},9601:function(e,t,r){var n=r(2109),o=r(1574);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},9720:function(e,t,r){var n=r(2109),o=r(4699).entries;n({target:"Object",stat:!0},{entries:function(e){return o(e)}})},9660:function(e,t,r){var n=r(2109),o=r(6293),i=r(7293),s=r(5181),a=r(7908);n({target:"Object",stat:!0,forced:!o||i((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},7941:function(e,t,r){var n=r(2109),o=r(7908),i=r(1956);n({target:"Object",stat:!0,forced:r(7293)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},1539:function(e,t,r){var n=r(1694),o=r(8052),i=r(288);n||o(Object.prototype,"toString",i,{unsafe:!0})},821:function(e,t,r){"use strict";var n=r(2109),o=r(6916),i=r(9662),s=r(8523),a=r(2534),u=r(408);n({target:"Promise",stat:!0,forced:r(612)},{all:function(e){var t=this,r=s.f(t),n=r.resolve,c=r.reject,l=a((function(){var r=i(t.resolve),s=[],a=0,l=1;u(e,(function(e){var i=a++,u=!1;l++,o(r,t,e).then((function(e){u||(u=!0,s[i]=e,--l||n(s))}),c)})),--l||n(s)}));return l.error&&c(l.value),r.promise}})},4164:function(e,t,r){"use strict";var n=r(2109),o=r(1913),i=r(3702).CONSTRUCTOR,s=r(2492),a=r(5005),u=r(614),c=r(8052),l=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&u(s)){var d=a("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},3401:function(e,t,r){"use strict";var n,o,i,s=r(2109),a=r(1913),u=r(5268),c=r(7854),l=r(6916),d=r(8052),f=r(7674),p=r(8003),h=r(6340),_=r(9662),E=r(614),y=r(111),v=r(5787),m=r(6707),g=r(261).set,O=r(5948),T=r(842),R=r(2534),I=r(8572),C=r(9909),b=r(2492),N=r(3702),S=r(8523),A="Promise",M=N.CONSTRUCTOR,w=N.REJECTION_EVENT,U=N.SUBCLASSING,L=C.getterFor(A),x=C.set,P=b&&b.prototype,D=b,k=P,H=c.TypeError,B=c.document,G=c.process,F=S.f,j=F,W=!!(B&&B.createEvent&&c.dispatchEvent),q="unhandledrejection",K=function(e){var t;return!(!y(e)||!E(t=e.then))&&t},V=function(e,t){var r,n,o,i=t.value,s=1==t.state,a=s?e.ok:e.fail,u=e.resolve,c=e.reject,d=e.domain;try{a?(s||(2===t.rejection&&$(t),t.rejection=1),!0===a?r=i:(d&&d.enter(),r=a(i),d&&(d.exit(),o=!0)),r===e.promise?c(H("Promise-chain cycle")):(n=K(r))?l(n,r,u,c):u(r)):c(i)}catch(e){d&&!o&&d.exit(),c(e)}},J=function(e,t){e.notified||(e.notified=!0,O((function(){for(var r,n=e.reactions;r=n.get();)V(r,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},z=function(e,t,r){var n,o;W?((n=B.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!w&&(o=c["on"+e])?o(n):e===q&&T("Unhandled promise rejection",r)},Y=function(e){l(g,c,(function(){var t,r=e.facade,n=e.value;if(X(e)&&(t=R((function(){u?G.emit("unhandledRejection",n,r):z(q,r,n)})),e.rejection=u||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},$=function(e){l(g,c,(function(){var t=e.facade;u?G.emit("rejectionHandled",t):z("rejectionhandled",t,e.value)}))},Z=function(e,t,r){return function(n){e(t,n,r)}},Q=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,J(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw H("Promise can't be resolved itself");var n=K(t);n?O((function(){var r={done:!1};try{l(n,t,Z(ee,r,e),Z(Q,r,e))}catch(t){Q(r,t,e)}})):(e.value=t,e.state=1,J(e,!1))}catch(t){Q({done:!1},t,e)}}};if(M&&(k=(D=function(e){v(this,k),_(e),l(n,this);var t=L(this);try{e(Z(ee,t),Z(Q,t))}catch(e){Q(t,e)}}).prototype,(n=function(e){x(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:void 0})}).prototype=d(k,"then",(function(e,t){var r=L(this),n=F(m(this,D));return r.parent=!0,n.ok=!E(e)||e,n.fail=E(t)&&t,n.domain=u?G.domain:void 0,0==r.state?r.reactions.add(n):O((function(){V(n,r)})),n.promise})),o=function(){var e=new n,t=L(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(Q,t)},S.f=F=function(e){return e===D||void 0===e?new o(e):j(e)},!a&&E(b)&&P!==Object.prototype)){i=P.then,U||d(P,"then",(function(e,t){var r=this;return new D((function(e,t){l(i,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete P.constructor}catch(e){}f&&f(P,k)}s({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:D}),p(D,A,!1,!0),h(A)},8674:function(e,t,r){r(3401),r(821),r(4164),r(6027),r(683),r(6294)},6027:function(e,t,r){"use strict";var n=r(2109),o=r(6916),i=r(9662),s=r(8523),a=r(2534),u=r(408);n({target:"Promise",stat:!0,forced:r(612)},{race:function(e){var t=this,r=s.f(t),n=r.reject,c=a((function(){var s=i(t.resolve);u(e,(function(e){o(s,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},683:function(e,t,r){"use strict";var n=r(2109),o=r(6916),i=r(8523);n({target:"Promise",stat:!0,forced:r(3702).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return o(t.reject,void 0,e),t.promise}})},6294:function(e,t,r){"use strict";var n=r(2109),o=r(5005),i=r(1913),s=r(2492),a=r(3702).CONSTRUCTOR,u=r(9478),c=o("Promise"),l=i&&!a;n({target:"Promise",stat:!0,forced:i||a},{resolve:function(e){return u(l&&this===c?s:this,e)}})},4916:function(e,t,r){"use strict";var n=r(2109),o=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9714:function(e,t,r){"use strict";var n=r(6530).PROPER,o=r(8052),i=r(9670),s=r(1340),a=r(7293),u=r(4706),c="toString",l=RegExp.prototype[c],d=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=n&&l.name!=c;(d||f)&&o(RegExp.prototype,c,(function(){var e=i(this);return"/"+s(e.source)+"/"+s(u(e))}),{unsafe:!0})},2023:function(e,t,r){"use strict";var n=r(2109),o=r(1702),i=r(3929),s=r(4488),a=r(1340),u=r(4964),c=o("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(a(s(this)),a(i(e)),arguments.length>1?arguments[1]:void 0)}})},8783:function(e,t,r){"use strict";var n=r(8710).charAt,o=r(1340),i=r(9909),s=r(1656),a=r(6178),u="String Iterator",c=i.set,l=i.getterFor(u);s(String,"String",(function(e){c(this,{type:u,string:o(e),index:0})}),(function(){var e,t=l(this),r=t.string,o=t.index;return o>=r.length?a(void 0,!0):(e=n(r,o),t.index+=e.length,a(e,!1))}))},4032:function(e,t,r){"use strict";var n=r(2109),o=r(7854),i=r(6916),s=r(1702),a=r(1913),u=r(9781),c=r(6293),l=r(7293),d=r(2597),f=r(7976),p=r(9670),h=r(5656),_=r(4948),E=r(1340),y=r(9114),v=r(30),m=r(1956),g=r(8006),O=r(1156),T=r(5181),R=r(1236),I=r(3070),C=r(6048),b=r(5296),N=r(8052),S=r(7045),A=r(2309),M=r(6200),w=r(3501),U=r(9711),L=r(5112),x=r(6061),P=r(6800),D=r(6532),k=r(8003),H=r(9909),B=r(2092).forEach,G=M("hidden"),F="Symbol",j="prototype",W=H.set,q=H.getterFor(F),K=Object[j],V=o.Symbol,J=V&&V[j],z=o.TypeError,Y=o.QObject,X=R.f,$=I.f,Z=O.f,Q=b.f,ee=s([].push),te=A("symbols"),re=A("op-symbols"),ne=A("wks"),oe=!Y||!Y[j]||!Y[j].findChild,ie=u&&l((function(){return 7!=v($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=X(K,t);n&&delete K[t],$(e,t,r),n&&e!==K&&$(K,t,n)}:$,se=function(e,t){var r=te[e]=v(J);return W(r,{type:F,tag:e,description:t}),u||(r.description=t),r},ae=function(e,t,r){e===K&&ae(re,t,r),p(e);var n=_(t);return p(r),d(te,n)?(r.enumerable?(d(e,G)&&e[G][n]&&(e[G][n]=!1),r=v(r,{enumerable:y(0,!1)})):(d(e,G)||$(e,G,y(1,{})),e[G][n]=!0),ie(e,n,r)):$(e,n,r)},ue=function(e,t){p(e);var r=h(t),n=m(r).concat(fe(r));return B(n,(function(t){u&&!i(ce,r,t)||ae(e,t,r[t])})),e},ce=function(e){var t=_(e),r=i(Q,this,t);return!(this===K&&d(te,t)&&!d(re,t))&&(!(r||!d(this,t)||!d(te,t)||d(this,G)&&this[G][t])||r)},le=function(e,t){var r=h(e),n=_(t);if(r!==K||!d(te,n)||d(re,n)){var o=X(r,n);return!o||!d(te,n)||d(r,G)&&r[G][n]||(o.enumerable=!0),o}},de=function(e){var t=Z(h(e)),r=[];return B(t,(function(e){d(te,e)||d(w,e)||ee(r,e)})),r},fe=function(e){var t=e===K,r=Z(t?re:h(e)),n=[];return B(r,(function(e){!d(te,e)||t&&!d(K,e)||ee(n,te[e])})),n};c||(V=function(){if(f(J,this))throw z("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?E(arguments[0]):void 0,t=U(e),r=function(e){this===K&&i(r,re,e),d(this,G)&&d(this[G],t)&&(this[G][t]=!1),ie(this,t,y(1,e))};return u&&oe&&ie(K,t,{configurable:!0,set:r}),se(t,e)},N(J=V[j],"toString",(function(){return q(this).tag})),N(V,"withoutSetter",(function(e){return se(U(e),e)})),b.f=ce,I.f=ae,C.f=ue,R.f=le,g.f=O.f=de,T.f=fe,x.f=function(e){return se(L(e),e)},u&&(S(J,"description",{configurable:!0,get:function(){return q(this).description}}),a||N(K,"propertyIsEnumerable",ce,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:V}),B(m(ne),(function(e){P(e)})),n({target:F,stat:!0,forced:!c},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?v(e):ue(v(e),t)},defineProperty:ae,defineProperties:ue,getOwnPropertyDescriptor:le}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:de}),D(),k(V,F),w[G]=!0},1817:function(e,t,r){"use strict";var n=r(2109),o=r(9781),i=r(7854),s=r(1702),a=r(2597),u=r(614),c=r(7976),l=r(1340),d=r(7045),f=r(9920),p=i.Symbol,h=p&&p.prototype;if(o&&u(p)&&(!("description"in h)||void 0!==p().description)){var _={},E=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(_[t]=!0),t};f(E,p),E.prototype=h,h.constructor=E;var y="Symbol(test)"==String(p("test")),v=s(h.valueOf),m=s(h.toString),g=/^Symbol\((.*)\)[^)]+$/,O=s("".replace),T=s("".slice);d(h,"description",{configurable:!0,get:function(){var e=v(this);if(a(_,e))return"";var t=m(e),r=y?T(t,7,-1):O(t,g,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:E})}},763:function(e,t,r){var n=r(2109),o=r(5005),i=r(2597),s=r(1340),a=r(2309),u=r(2015),c=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=s(e);if(i(c,t))return c[t];var r=o("Symbol")(t);return c[t]=r,l[r]=t,r}})},2165:function(e,t,r){r(6800)("iterator")},2526:function(e,t,r){r(4032),r(763),r(6620),r(8862),r(9660)},6620:function(e,t,r){var n=r(2109),o=r(2597),i=r(2190),s=r(6330),a=r(2309),u=r(2015),c=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!i(e))throw TypeError(s(e)+" is not a symbol");if(o(c,e))return c[e]}})},2990:function(e,t,r){"use strict";var n=r(1702),o=r(260),i=n(r(1048)),s=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",(function(e,t){return i(s(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:function(e,t,r){"use strict";var n=r(260),o=r(2092).every,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:function(e,t,r){"use strict";var n=r(260),o=r(1285),i=r(4599),s=r(648),a=r(6916),u=r(1702),c=r(7293),l=n.aTypedArray,d=n.exportTypedArrayMethod,f=u("".slice);d("fill",(function(e){var t=arguments.length;l(this);var r="Big"===f(s(this),0,3)?i(e):+e;return a(o,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},5035:function(e,t,r){"use strict";var n=r(260),o=r(2092).filter,i=r(3074),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(e){var t=o(s(this),e,arguments.length>1?arguments[1]:void 0);return i(this,t)}))},7174:function(e,t,r){"use strict";var n=r(260),o=r(2092).findIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:function(e,t,r){"use strict";var n=r(260),o=r(2092).find,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:function(e,t,r){"use strict";var n=r(260),o=r(2092).forEach,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},8145:function(e,t,r){"use strict";var n=r(3832);(0,r(260).exportTypedArrayStaticMethod)("from",r(7321),n)},4731:function(e,t,r){"use strict";var n=r(260),o=r(1318).includes,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:function(e,t,r){"use strict";var n=r(260),o=r(1318).indexOf,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:function(e,t,r){"use strict";var n=r(7854),o=r(7293),i=r(1702),s=r(260),a=r(6992),u=r(5112)("iterator"),c=n.Uint8Array,l=i(a.values),d=i(a.keys),f=i(a.entries),p=s.aTypedArray,h=s.exportTypedArrayMethod,_=c&&c.prototype,E=!o((function(){_[u].call([1])})),y=!!_&&_.values&&_[u]===_.values&&"values"===_.values.name,v=function(){return l(p(this))};h("entries",(function(){return f(p(this))}),E),h("keys",(function(){return d(p(this))}),E),h("values",v,E||!y,{name:"values"}),h(u,v,E||!y,{name:"values"})},8867:function(e,t,r){"use strict";var n=r(260),o=r(1702),i=n.aTypedArray,s=n.exportTypedArrayMethod,a=o([].join);s("join",(function(e){return a(i(this),e)}))},7789:function(e,t,r){"use strict";var n=r(260),o=r(2104),i=r(6583),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return o(i,s(this),t>1?[e,arguments[1]]:[e])}))},3739:function(e,t,r){"use strict";var n=r(260),o=r(2092).map,i=r(6304),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",(function(e){return o(s(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(i(e))(t)}))}))},4483:function(e,t,r){"use strict";var n=r(260),o=r(3671).right,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},9368:function(e,t,r){"use strict";var n=r(260),o=r(3671).left,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return o(i(this),e,t,t>1?arguments[1]:void 0)}))},2056:function(e,t,r){"use strict";var n=r(260),o=n.aTypedArray,i=n.exportTypedArrayMethod,s=Math.floor;i("reverse",(function(){for(var e,t=this,r=o(t).length,n=s(r/2),i=0;i<n;)e=t[i],t[i++]=t[--r],t[r]=e;return t}))},3462:function(e,t,r){"use strict";var n=r(7854),o=r(6916),i=r(260),s=r(6244),a=r(4590),u=r(7908),c=r(7293),l=n.RangeError,d=n.Int8Array,f=d&&d.prototype,p=f&&f.set,h=i.aTypedArray,_=i.exportTypedArrayMethod,E=!c((function(){var e=new Uint8ClampedArray(2);return o(p,e,{length:1,0:3},1),3!==e[1]})),y=E&&i.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));_("set",(function(e){h(this);var t=a(arguments.length>1?arguments[1]:void 0,1),r=u(e);if(E)return o(p,this,r,t);var n=this.length,i=s(r),c=0;if(i+t>n)throw l("Wrong length");for(;c<i;)this[t+c]=r[c++]}),!E||y)},678:function(e,t,r){"use strict";var n=r(260),o=r(6304),i=r(7293),s=r(206),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",(function(e,t){for(var r=s(a(this),e,t),n=o(this),i=0,u=r.length,c=new n(u);u>i;)c[i]=r[i++];return c}),i((function(){new Int8Array(1).slice()})))},7462:function(e,t,r){"use strict";var n=r(260),o=r(2092).some,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:function(e,t,r){"use strict";var n=r(7854),o=r(1470),i=r(7293),s=r(9662),a=r(4362),u=r(260),c=r(8886),l=r(256),d=r(7392),f=r(8008),p=u.aTypedArray,h=u.exportTypedArrayMethod,_=n.Uint16Array,E=_&&o(_.prototype.sort),y=!(!E||i((function(){E(new _(2),null)}))&&i((function(){E(new _(2),{})}))),v=!!E&&!i((function(){if(d)return d<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var e,t,r=new _(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(E(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));h("sort",(function(e){return void 0!==e&&s(e),v?E(this,e):a(p(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!v||y)},5021:function(e,t,r){"use strict";var n=r(260),o=r(7466),i=r(1400),s=r(6304),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=a(this),n=r.length,u=i(e,n);return new(s(r))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,o((void 0===t?n:i(t,n))-u))}))},2974:function(e,t,r){"use strict";var n=r(7854),o=r(2104),i=r(260),s=r(7293),a=r(206),u=n.Int8Array,c=i.aTypedArray,l=i.exportTypedArrayMethod,d=[].toLocaleString,f=!!u&&s((function(){d.call(new u(1))}));l("toLocaleString",(function(){return o(d,f?a(c(this)):c(this),a(arguments))}),s((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!s((function(){u.prototype.toLocaleString.call([1,2])})))},5016:function(e,t,r){"use strict";var n=r(260).exportTypedArrayMethod,o=r(7293),i=r(7854),s=r(1702),a=i.Uint8Array,u=a&&a.prototype||{},c=[].toString,l=s([].join);o((function(){c.call({})}))&&(c=function(){return l(this)});var d=u.toString!=c;n("toString",c,d)},2472:function(e,t,r){r(9843)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},4747:function(e,t,r){var n=r(7854),o=r(8324),i=r(8509),s=r(8533),a=r(8880),u=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var c in o)o[c]&&u(n[c]&&n[c].prototype);u(i)},3948:function(e,t,r){var n=r(7854),o=r(8324),i=r(8509),s=r(6992),a=r(8880),u=r(5112),c=u("iterator"),l=u("toStringTag"),d=s.values,f=function(e,t){if(e){if(e[c]!==d)try{a(e,c,d)}catch(t){e[c]=d}if(e[l]||a(e,l,t),o[t])for(var r in s)if(e[r]!==s[r])try{a(e,r,s[r])}catch(t){e[r]=s[r]}}};for(var p in o)f(n[p]&&n[p].prototype,p);f(i,"DOMTokenList")},6815:function(e,t,r){var n=r(2109),o=r(7854),i=r(7152)(o.setInterval,!0);n({global:!0,bind:!0,forced:o.setInterval!==i},{setInterval:i})},8417:function(e,t,r){var n=r(2109),o=r(7854),i=r(7152)(o.setTimeout,!0);n({global:!0,bind:!0,forced:o.setTimeout!==i},{setTimeout:i})},2564:function(e,t,r){r(6815),r(8417)},5556:function(e,t,r){"use strict";r(6992);var n=r(2109),o=r(7854),i=r(6916),s=r(1702),a=r(9781),u=r(5143),c=r(8052),l=r(7045),d=r(9190),f=r(8003),p=r(3061),h=r(9909),_=r(5787),E=r(614),y=r(2597),v=r(9974),m=r(648),g=r(9670),O=r(111),T=r(1340),R=r(30),I=r(9114),C=r(4121),b=r(1246),N=r(8053),S=r(5112),A=r(4362),M=S("iterator"),w="URLSearchParams",U=w+"Iterator",L=h.set,x=h.getterFor(w),P=h.getterFor(U),D=Object.getOwnPropertyDescriptor,k=function(e){if(!a)return o[e];var t=D(o,e);return t&&t.value},H=k("fetch"),B=k("Request"),G=k("Headers"),F=B&&B.prototype,j=G&&G.prototype,W=o.RegExp,q=o.TypeError,K=o.decodeURIComponent,V=o.encodeURIComponent,J=s("".charAt),z=s([].join),Y=s([].push),X=s("".replace),$=s([].shift),Z=s([].splice),Q=s("".split),ee=s("".slice),te=/\+/g,re=Array(4),ne=function(e){return re[e-1]||(re[e-1]=W("((?:%[\\da-f]{2}){"+e+"})","gi"))},oe=function(e){try{return K(e)}catch(t){return e}},ie=function(e){var t=X(e,te," "),r=4;try{return K(t)}catch(e){for(;r;)t=X(t,ne(r--),oe);return t}},se=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return ae[e]},ce=function(e){return X(V(e),se,ue)},le=p((function(e,t){L(this,{type:U,iterator:C(x(e).entries),kind:t})}),"Iterator",(function(){var e=P(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(O(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===J(e,0)?ee(e,1):e:T(e)))};de.prototype={type:w,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,o,s,a,u,c=b(e);if(c)for(r=(t=C(e,c)).next;!(n=i(r,t)).done;){if(s=(o=C(g(n.value))).next,(a=i(s,o)).done||(u=i(s,o)).done||!i(s,o).done)throw q("Expected sequence with length 2");Y(this.entries,{key:T(a.value),value:T(u.value)})}else for(var l in e)y(e,l)&&Y(this.entries,{key:l,value:T(e[l])})},parseQuery:function(e){if(e)for(var t,r,n=Q(e,"&"),o=0;o<n.length;)(t=n[o++]).length&&(r=Q(t,"="),Y(this.entries,{key:ie($(r)),value:ie(z(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],Y(r,ce(e.key)+"="+ce(e.value));return z(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fe=function(){_(this,pe);var e=L(this,new de(arguments.length>0?arguments[0]:void 0));a||(this.length=e.entries.length)},pe=fe.prototype;if(d(pe,{append:function(e,t){N(arguments.length,2);var r=x(this);Y(r.entries,{key:T(e),value:T(t)}),a||this.length++,r.updateURL()},delete:function(e){N(arguments.length,1);for(var t=x(this),r=t.entries,n=T(e),o=0;o<r.length;)r[o].key===n?Z(r,o,1):o++;a||(this.length=r.length),t.updateURL()},get:function(e){N(arguments.length,1);for(var t=x(this).entries,r=T(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){N(arguments.length,1);for(var t=x(this).entries,r=T(e),n=[],o=0;o<t.length;o++)t[o].key===r&&Y(n,t[o].value);return n},has:function(e){N(arguments.length,1);for(var t=x(this).entries,r=T(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){N(arguments.length,1);for(var r,n=x(this),o=n.entries,i=!1,s=T(e),u=T(t),c=0;c<o.length;c++)(r=o[c]).key===s&&(i?Z(o,c--,1):(i=!0,r.value=u));i||Y(o,{key:s,value:u}),a||(this.length=o.length),n.updateURL()},sort:function(){var e=x(this);A(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=x(this).entries,n=v(e,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),c(pe,M,pe.entries,{name:"entries"}),c(pe,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),a&&l(pe,"size",{get:function(){return x(this).entries.length},configurable:!0,enumerable:!0}),f(fe,w),n({global:!0,constructor:!0,forced:!u},{URLSearchParams:fe}),!u&&E(G)){var he=s(j.has),_e=s(j.set),Ee=function(e){if(O(e)){var t,r=e.body;if(m(r)===w)return t=e.headers?new G(e.headers):new G,he(t,"content-type")||_e(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),R(e,{body:I(0,T(r)),headers:I(0,t)})}return e};if(E(H)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return H(e,arguments.length>1?Ee(arguments[1]):{})}}),E(B)){var ye=function(e){return _(this,F),new B(e,arguments.length>1?Ee(arguments[1]):{})};F.constructor=ye,ye.prototype=F,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ye})}}e.exports={URLSearchParams:fe,getState:x}},1637:function(e,t,r){r(5556)},8789:function(e,t,r){"use strict";r(8783);var n,o=r(2109),i=r(9781),s=r(5143),a=r(7854),u=r(9974),c=r(1702),l=r(8052),d=r(7045),f=r(5787),p=r(2597),h=r(1574),_=r(8457),E=r(1589),y=r(8710).codeAt,v=r(3197),m=r(1340),g=r(8003),O=r(8053),T=r(5556),R=r(9909),I=R.set,C=R.getterFor("URL"),b=T.URLSearchParams,N=T.getState,S=a.URL,A=a.TypeError,M=a.parseInt,w=Math.floor,U=Math.pow,L=c("".charAt),x=c(/./.exec),P=c([].join),D=c(1..toString),k=c([].pop),H=c([].push),B=c("".replace),G=c([].shift),F=c("".split),j=c("".slice),W=c("".toLowerCase),q=c([].unshift),K="Invalid scheme",V="Invalid host",J="Invalid port",z=/[a-z]/i,Y=/[\d+-.a-z]/i,X=/\d/,$=/^0x/i,Z=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,oe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ie=/[\t\n\r]/g,se=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)q(t,e%256),e=w(e/256);return P(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=D(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ae={},ue=h({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=h({},ue,{"#":1,"?":1,"{":1,"}":1}),le=h({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var r=y(e,0);return r>32&&r<127&&!p(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var r;return 2==e.length&&x(z,L(e,0))&&(":"==(r=L(e,1))||!t&&"|"==r)},he=function(e){var t;return e.length>1&&pe(j(e,0,2))&&(2==e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},_e=function(e){return"."===e||"%2e"===W(e)},Ee={},ye={},ve={},me={},ge={},Oe={},Te={},Re={},Ie={},Ce={},be={},Ne={},Se={},Ae={},Me={},we={},Ue={},Le={},xe={},Pe={},De={},ke=function(e,t,r){var n,o,i,s=m(e);if(t){if(o=this.parse(s))throw A(o);this.searchParams=null}else{if(void 0!==r&&(n=new ke(r,!0)),o=this.parse(s,null,n))throw A(o);(i=N(new b)).bindURL(this),this.searchParams=i}};ke.prototype={type:"URL",parse:function(e,t,r){var o,i,s,a,u,c=this,l=t||Ee,d=0,f="",h=!1,y=!1,v=!1;for(e=m(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=B(e,ne,""),e=B(e,oe,"$1")),e=B(e,ie,""),o=_(e);d<=o.length;){switch(i=o[d],l){case Ee:if(!i||!x(z,i)){if(t)return K;l=ve;continue}f+=W(i),l=ye;break;case ye:if(i&&(x(Y,i)||"+"==i||"-"==i||"."==i))f+=W(i);else{if(":"!=i){if(t)return K;f="",l=ve,d=0;continue}if(t&&(c.isSpecial()!=p(fe,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&fe[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?l=Ae:c.isSpecial()&&r&&r.scheme==c.scheme?l=me:c.isSpecial()?l=Re:"/"==o[d+1]?(l=ge,d++):(c.cannotBeABaseURL=!0,H(c.path,""),l=xe)}break;case ve:if(!r||r.cannotBeABaseURL&&"#"!=i)return K;if(r.cannotBeABaseURL&&"#"==i){c.scheme=r.scheme,c.path=E(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,l=De;break}l="file"==r.scheme?Ae:Oe;continue;case me:if("/"!=i||"/"!=o[d+1]){l=Oe;continue}l=Ie,d++;break;case ge:if("/"==i){l=Ce;break}l=Le;continue;case Oe:if(c.scheme=r.scheme,i==n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=E(r.path),c.query=r.query;else if("/"==i||"\\"==i&&c.isSpecial())l=Te;else if("?"==i)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=E(r.path),c.query="",l=Pe;else{if("#"!=i){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=E(r.path),c.path.length--,l=Le;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=E(r.path),c.query=r.query,c.fragment="",l=De}break;case Te:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,l=Le;continue}l=Ce}else l=Ie;break;case Re:if(l=Ie,"/"!=i||"/"!=L(f,d+1))continue;d++;break;case Ie:if("/"!=i&&"\\"!=i){l=Ce;continue}break;case Ce:if("@"==i){h&&(f="%40"+f),h=!0,s=_(f);for(var g=0;g<s.length;g++){var O=s[g];if(":"!=O||v){var T=de(O,le);v?c.password+=T:c.username+=T}else v=!0}f=""}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(h&&""==f)return"Invalid authority";d-=_(f).length+1,f="",l=be}else f+=i;break;case be:case Ne:if(t&&"file"==c.scheme){l=we;continue}if(":"!=i||y){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==f)return V;if(t&&""==f&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(f))return a;if(f="",l=Ue,t)return;continue}"["==i?y=!0:"]"==i&&(y=!1),f+=i}else{if(""==f)return V;if(a=c.parseHost(f))return a;if(f="",l=Se,t==Ne)return}break;case Se:if(!x(X,i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||t){if(""!=f){var R=M(f,10);if(R>65535)return J;c.port=c.isSpecial()&&R===fe[c.scheme]?null:R,f=""}if(t)return;l=Ue;continue}return J}f+=i;break;case Ae:if(c.scheme="file","/"==i||"\\"==i)l=Me;else{if(!r||"file"!=r.scheme){l=Le;continue}if(i==n)c.host=r.host,c.path=E(r.path),c.query=r.query;else if("?"==i)c.host=r.host,c.path=E(r.path),c.query="",l=Pe;else{if("#"!=i){he(P(E(o,d),""))||(c.host=r.host,c.path=E(r.path),c.shortenPath()),l=Le;continue}c.host=r.host,c.path=E(r.path),c.query=r.query,c.fragment="",l=De}}break;case Me:if("/"==i||"\\"==i){l=we;break}r&&"file"==r.scheme&&!he(P(E(o,d),""))&&(pe(r.path[0],!0)?H(c.path,r.path[0]):c.host=r.host),l=Le;continue;case we:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&pe(f))l=Le;else if(""==f){if(c.host="",t)return;l=Ue}else{if(a=c.parseHost(f))return a;if("localhost"==c.host&&(c.host=""),t)return;f="",l=Ue}continue}f+=i;break;case Ue:if(c.isSpecial()){if(l=Le,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=n&&(l=Le,"/"!=i))continue}else c.fragment="",l=De;else c.query="",l=Pe;break;case Le:if(i==n||"/"==i||"\\"==i&&c.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(u=W(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||H(c.path,"")):_e(f)?"/"==i||"\\"==i&&c.isSpecial()||H(c.path,""):("file"==c.scheme&&!c.path.length&&pe(f)&&(c.host&&(c.host=""),f=L(f,0)+":"),H(c.path,f)),f="","file"==c.scheme&&(i==n||"?"==i||"#"==i))for(;c.path.length>1&&""===c.path[0];)G(c.path);"?"==i?(c.query="",l=Pe):"#"==i&&(c.fragment="",l=De)}else f+=de(i,ce);break;case xe:"?"==i?(c.query="",l=Pe):"#"==i?(c.fragment="",l=De):i!=n&&(c.path[0]+=de(i,ae));break;case Pe:t||"#"!=i?i!=n&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":de(i,ae)):(c.fragment="",l=De);break;case De:i!=n&&(c.fragment+=de(i,ue))}d++}},parseHost:function(e){var t,r,n;if("["==L(e,0)){if("]"!=L(e,e.length-1))return V;if(t=function(e){var t,r,n,o,i,s,a,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,f=function(){return L(e,d)};if(":"==f()){if(":"!=L(e,1))return;d+=2,l=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=r=0;r<4&&x(ee,f());)t=16*t+M(f(),16),d++,r++;if("."==f()){if(0==r)return;if(d-=r,c>6)return;for(n=0;f();){if(o=null,n>0){if(!("."==f()&&n<4))return;d++}if(!x(X,f()))return;for(;x(X,f());){if(i=M(f(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;d++,l=++c}}if(null!==l)for(s=c-l,c=7;0!=c&&s>0;)a=u[c],u[c--]=u[l+s-1],u[l+--s]=a;else if(8!=c)return;return u}(j(e,1,-1)),!t)return V;this.host=t}else if(this.isSpecial()){if(e=v(e),x(te,e))return V;if(t=function(e){var t,r,n,o,i,s,a,u=F(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=u[n]))return e;if(i=10,o.length>1&&"0"==L(o,0)&&(i=x($,o)?16:8,o=j(o,8==i?1:2)),""===o)s=0;else{if(!x(10==i?Q:8==i?Z:ee,o))return e;s=M(o,i)}H(r,s)}for(n=0;n<t;n++)if(s=r[n],n==t-1){if(s>=U(256,5-t))return null}else if(s>255)return null;for(a=k(r),n=0;n<r.length;n++)a+=r[n]*U(256,3-n);return a}(e),null===t)return V;this.host=t}else{if(x(re,e))return V;for(t="",r=_(e),n=0;n<r.length;n++)t+=de(r[n],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,s=e.path,a=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=se(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+P(s,"/"):"",null!==a&&(c+="?"+a),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new He(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+se(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(m(e)+":",Ee)},getUsername:function(){return this.username},setUsername:function(e){var t=_(m(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=de(t[r],le)}},getPassword:function(){return this.password},setPassword:function(e){var t=_(m(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=de(t[r],le)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?se(e):se(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,be)},getHostname:function(){var e=this.host;return null===e?"":se(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ne)},getPort:function(){var e=this.port;return null===e?"":m(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=m(e))?this.port=null:this.parse(e,Se))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+P(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ue))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=m(e))?this.query=null:("?"==L(e,0)&&(e=j(e,1)),this.query="",this.parse(e,Pe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=m(e))?("#"==L(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,De)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var He=function(e){var t=f(this,Be),r=O(arguments.length,1)>1?arguments[1]:void 0,n=I(t,new ke(e,!1,r));i||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Be=He.prototype,Ge=function(e,t){return{get:function(){return C(this)[e]()},set:t&&function(e){return C(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&(d(Be,"href",Ge("serialize","setHref")),d(Be,"origin",Ge("getOrigin")),d(Be,"protocol",Ge("getProtocol","setProtocol")),d(Be,"username",Ge("getUsername","setUsername")),d(Be,"password",Ge("getPassword","setPassword")),d(Be,"host",Ge("getHost","setHost")),d(Be,"hostname",Ge("getHostname","setHostname")),d(Be,"port",Ge("getPort","setPort")),d(Be,"pathname",Ge("getPathname","setPathname")),d(Be,"search",Ge("getSearch","setSearch")),d(Be,"searchParams",Ge("getSearchParams")),d(Be,"hash",Ge("getHash","setHash"))),l(Be,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),l(Be,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),S){var Fe=S.createObjectURL,je=S.revokeObjectURL;Fe&&l(He,"createObjectURL",u(Fe,S)),je&&l(He,"revokeObjectURL",u(je,S))}g(He,"URL"),o({global:!0,constructor:!0,forced:!s,sham:!i},{URL:He})},285:function(e,t,r){r(8789)},3720:function(e){e.exports=r;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var o={},i={};function s(e,t){var r,n,s;return t?(s=0<=(e>>>=0)&&e<256)&&(n=i[e])?n:(r=u(e,(0|e)<0?-1:0,!0),s&&(i[e]=r),r):(s=-128<=(e|=0)&&e<128)&&(n=o[e])?n:(r=u(e,e<0?-1:0,!1),s&&(o[e]=r),r)}function a(e,t){if(isNaN(e))return t?y:E;if(t){if(e<0)return y;if(e>=p)return T}else{if(e<=-h)return R;if(e+1>=h)return O}return e<0?a(-e,t).neg():u(e%f|0,e/f|0,t)}function u(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=a,r.fromBits=u;var c=Math.pow;function l(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return E;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(e.substring(1),t,r).neg();for(var o=a(c(r,8)),i=E,s=0;s<e.length;s+=8){var u=Math.min(8,e.length-s),d=parseInt(e.substring(s,s+u),r);if(u<8){var f=a(c(r,u));i=i.mul(f).add(a(d))}else i=(i=i.mul(o)).add(a(d))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?l(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=l,r.fromValue=d;var f=4294967296,p=f*f,h=p/2,_=s(1<<24),E=s(0);r.ZERO=E;var y=s(0,!0);r.UZERO=y;var v=s(1);r.ONE=v;var m=s(1,!0);r.UONE=m;var g=s(-1);r.NEG_ONE=g;var O=u(-1,2147483647,!1);r.MAX_VALUE=O;var T=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=T;var R=u(0,-2147483648,!1);r.MIN_VALUE=R;var I=r.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(R)){var t=a(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=a(c(e,6),this.unsigned),i=this,s="";;){var u=i.div(o),l=(i.sub(u.mul(o)).toInt()>>>0).toString(e);if((i=u).isZero())return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(R)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isZero=function(){return 0===this.high&&0===this.low},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1==(1&this.low)},I.isEven=function(){return 0==(1&this.low)},I.equals=function(e){return n(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(e){if(n(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(R)?R:this.not().add(v)},I.neg=I.negate,I.add=function(e){n(e)||(e=d(e));var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,s=e.high>>>16,a=65535&e.high,c=e.low>>>16,l=0,f=0,p=0,h=0;return p+=(h+=i+(65535&e.low))>>>16,f+=(p+=o+c)>>>16,l+=(f+=r+a)>>>16,l+=t+s,u((p&=65535)<<16|(h&=65535),(l&=65535)<<16|(f&=65535),this.unsigned)},I.subtract=function(e){return n(e)||(e=d(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return E;if(n(e)||(e=d(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return E;if(this.eq(R))return e.isOdd()?R:E;if(e.eq(R))return this.isOdd()?R:E;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(_)&&e.lt(_))return a(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,i=this.low>>>16,s=65535&this.low,c=e.high>>>16,l=65535&e.high,f=e.low>>>16,p=65535&e.low,h=0,y=0,v=0,m=0;return v+=(m+=s*p)>>>16,y+=(v+=i*p)>>>16,v&=65535,y+=(v+=s*f)>>>16,h+=(y+=o*p)>>>16,y&=65535,h+=(y+=i*f)>>>16,y&=65535,h+=(y+=s*l)>>>16,h+=r*p+o*f+i*l+s*c,u((v&=65535)<<16|(m&=65535),(h&=65535)<<16|(y&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(n(e)||(e=d(e)),e.isZero())throw Error("division by zero");var r,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:E;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return m;i=y}else{if(this.eq(R))return e.eq(v)||e.eq(g)?R:e.eq(R)?v:(r=this.shr(1).div(e).shl(1)).eq(E)?e.isNegative()?v:g:(o=this.sub(e.mul(r)),i=r.add(o.div(e)));if(e.eq(R))return this.unsigned?y:E;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=E}for(o=this;o.gte(e);){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),l=s<=48?1:c(2,s-48),f=a(r),p=f.mul(e);p.isNegative()||p.gt(o);)p=(f=a(r-=l,this.unsigned)).mul(e);f.isZero()&&(f=v),i=i.add(f),o=o.sub(p)}return i},I.div=I.divide,I.modulo=function(e){return n(e)||(e=d(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return u(~this.low,~this.high,this.unsigned)},I.and=function(e){return n(e)||(e=d(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return n(e)||(e=d(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return n(e)||(e=d(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){if(n(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},3281:function(e,t,r){"use strict";e.exports=r(9050)},2967:function(e){"use strict";e.exports=n;var t,r=/\/|\./;function n(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:t}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(e){return n[e]||null}},3996:function(e,t,r){"use strict";var n=t,o=r(7025),i=r(9935);function s(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof o){e("switch(d%s){",n);for(var i=t.resolvedType.values,s=Object.keys(i),a=0;a<s.length;++a)t.repeated&&i[s[a]]===t.typeDefault&&e("default:"),e("case%j:",s[a])("case %i:",i[s[a]])("m%s=%j",n,i[s[a]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function a(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof o?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var a=t[n].resolve(),u=i.safeProp(a.name);a.map?(r("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),s(r,a,n,u+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),s(r,a,n,u+"[i]")("}")("}")):(a.resolvedType instanceof o||r("if(d%s!=null){",u),s(r,a,n,u),a.resolvedType instanceof o||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var r=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],s=[],u=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?n:t[c].map?s:u).push(t[c]);if(n.length){for(r("if(o.arrays||o.defaults){"),c=0;c<n.length;++c)r("d%s=[]",i.safeProp(n[c].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),c=0;c<s.length;++c)r("d%s={}",i.safeProp(s[c].name));r("}")}if(u.length){for(r("if(o.defaults){"),c=0;c<u.length;++c){var l=u[c],d=i.safeProp(l.name);if(l.resolvedType instanceof o)r("d%s=o.enums===String?%j:%j",d,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var f="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",d,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else r("d%s=%j",d,l.typeDefault)}r("}")}var p=!1;for(c=0;c<t.length;++c){l=t[c];var h=e._fieldsArray.indexOf(l);d=i.safeProp(l.name),l.map?(p||(p=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),a(r,l,h,d+"[ks2[j]]")("}")):l.repeated?(r("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),a(r,l,h,d+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",d,l.name),a(r,l,h,d),l.partOf&&r("if(o.oneofs)")("d%s=%j",i.safeProp(l.partOf.name),l.name)),r("}")}return r("return d")}},5305:function(e,t,r){"use strict";e.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),u=a.resolvedType instanceof n?"int32":a.type,c="m"+i.safeProp(a.name);t("case %i:",a.id),a.map?(t("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[a.keyType]?t("k=%j",o.defaults[a.keyType]):t("k=null"),void 0!==o.defaults[u]?t("value=%j",o.defaults[u]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===o.basic[u]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",u),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[a.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',c):t("%s[k]=value",c)):a.repeated?(t("if(!(%s&&%s.length))",c,c)("%s=[]",c),void 0!==o.packed[u]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,u)("}else"),void 0===o.basic[u]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",c,r):t("%s.push(r.%s())",c,u)):void 0===o.basic[u]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",c,r):t("%s=r.%s()",c,u),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var l=e._fieldsArray[r];l.required&&t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",s(l))}return t("return m")};var n=r(7025),o=r(7063),i=r(9935);function s(e){return"missing required '"+e.name+"'"}},4928:function(e,t,r){"use strict";e.exports=function(e){for(var t,r=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(i.compareFieldsById),u=0;u<a.length;++u){var c=a[u].resolve(),l=e._fieldsArray.indexOf(c),d=c.resolvedType instanceof n?"int32":c.type,f=o.basic[d];t="m"+i.safeProp(c.name),c.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|o.mapKey[c.keyType],c.keyType),void 0===f?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,d,t),r("}")("}")):c.repeated?(r("if(%s!=null&&%s.length){",t,t),c.packed&&void 0!==o.packed[d]?r("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===f?s(r,c,l,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(c.id<<3|f)>>>0,d,t)),r("}")):(c.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,c.name),void 0===f?s(r,c,l,t):r("w.uint32(%i).%s(%s)",(c.id<<3|f)>>>0,d,t))}return r("return w")};var n=r(7025),o=r(7063),i=r(9935);function s(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},7025:function(e,t,r){"use strict";e.exports=s;var n=r(3243);((s.prototype=Object.create(n.prototype)).constructor=s).className="Enum";var o=r(9313),i=r(9935);function s(e,t,r,o,i){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.reserved=void 0,t)for(var s=Object.keys(t),a=0;a<s.length;++a)"number"==typeof t[s[a]]&&(this.valuesById[this.values[s[a]]=t[s[a]]]=s[a])}s.fromJSON=function(e,t){var r=new s(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(e,t,r){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},s.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},s.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},s.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},3548:function(e,t,r){"use strict";e.exports=c;var n=r(3243);((c.prototype=Object.create(n.prototype)).constructor=c).className="Field";var o,i=r(7025),s=r(7063),a=r(9935),u=/^required|optional|repeated$/;function c(e,t,r,o,i,c,l){if(a.isObject(o)?(l=i,c=o,o=i=void 0):a.isObject(i)&&(l=c,c=i,i=void 0),n.call(this,e,c),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==o&&!u.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!a.isString(i))throw TypeError("extend must be a string");"proto3_optional"===o&&(o="optional"),this.rule=o&&"optional"!==o?o:void 0,this.type=r,this.id=t,this.extend=i||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==s.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},c.d=function(e,t,r,n){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(o,i){a.decorateType(o.constructor).add(new c(i,e,t,r,{default:n}))}},c._configure=function(e){o=e}},8836:function(e,t,r){"use strict";var n=e.exports=r(9482);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(4928),n.decoder=r(5305),n.verifier=r(4497),n.converter=r(3996),n.ReflectionObject=r(3243),n.Namespace=r(9313),n.Root=r(9424),n.Enum=r(7025),n.Type=r(7645),n.Field=r(3548),n.OneOf=r(7598),n.MapField=r(6039),n.Service=r(7513),n.Method=r(4429),n.Message=r(8368),n.wrappers=r(1667),n.types=r(7063),n.util=r(9935),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},9482:function(e,t,r){"use strict";var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(1173),n.BufferWriter=r(3155),n.Reader=r(1408),n.BufferReader=r(593),n.util=r(9693),n.rpc=r(5994),n.roots=r(5054),n.configure=o,o()},9050:function(e,t,r){"use strict";var n=e.exports=r(8836);n.build="full",n.tokenize=r(626),n.parse=r(2228),n.common=r(2967),n.Root._configure(n.Type,n.parse,n.common)},6039:function(e,t,r){"use strict";e.exports=s;var n=r(3548);((s.prototype=Object.create(n.prototype)).constructor=s).className="MapField";var o=r(7063),i=r(9935);function s(e,t,r,o,s,a){if(n.call(this,e,t,o,void 0,void 0,s,a),!i.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(e,t){return new s(e,t.id,t.keyType,t.type,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},s.d=function(e,t,r){return"function"==typeof r?r=i.decorateType(r).name:r&&"object"==typeof r&&(r=i.decorateEnum(r).name),function(n,o){i.decorateType(n.constructor).add(new s(o,e,t,r))}}},8368:function(e,t,r){"use strict";e.exports=o;var n=r(9693);function o(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return this.$type.encode(e,t)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},4429:function(e,t,r){"use strict";e.exports=i;var n=r(3243);((i.prototype=Object.create(n.prototype)).constructor=i).className="Method";var o=r(9935);function i(e,t,r,i,s,a,u,c,l){if(o.isObject(s)?(u=s,s=a=void 0):o.isObject(a)&&(u=a,a=void 0),void 0!==t&&!o.isString(t))throw TypeError("type must be a string");if(!o.isString(r))throw TypeError("requestType must be a string");if(!o.isString(i))throw TypeError("responseType must be a string");n.call(this,e,u),this.type=t||"rpc",this.requestType=r,this.requestStream=!!s||void 0,this.responseType=i,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=l}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},9313:function(e,t,r){"use strict";e.exports=d;var n=r(3243);((d.prototype=Object.create(n.prototype)).constructor=d).className="Namespace";var o,i,s,a=r(3548),u=r(7598),c=r(9935);function l(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function d(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function f(e){return e._nestedArray=null,e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=l,d.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},d.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),d.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",l(this.nestedArray,e)])},d.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?o.fromJSON:void 0!==t.values?s.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?a.fromJSON:d.fromJSON)(r[n],t));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof o||e instanceof s||e instanceof i||e instanceof d||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof d&&e instanceof d)||t instanceof o||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),f(this)},d.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),f(this)},d.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof d))throw Error("path conflicts with non-namespace objects")}else r.add(r=new d(n))}return t&&r.addJSON(t),r},d.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this.resolve()},d.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof d&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof d&&(n=this._nestedArray[o].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},d.prototype.lookupType=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[o,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,r){o=e,i=t,s=r}},3243:function(e,t,r){"use strict";e.exports=i,i.className="ReflectionObject";var n,o=r(9935);function i(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var i=n.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(i){var s=i[e];o.setProperty(s,r,t)}else(i={})[e]=o.setProperty({},r,t),n.push(i)}else{var a={};a[e]=t,n.push(a)}return this},i.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){n=e}},7598:function(e,t,r){"use strict";e.exports=s;var n=r(3243);((s.prototype=Object.create(n.prototype)).constructor=s).className="OneOf";var o=r(3548),i=r(9935);function s(e,t,r,o){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},s.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},s.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},s.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){i.decorateType(t.constructor).add(new s(r,e)),Object.defineProperty(t,r,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},2228:function(e,t,r){"use strict";e.exports=I,I.filename=null,I.defaults={keepCase:!1};var n=r(626),o=r(9424),i=r(7645),s=r(3548),a=r(6039),u=r(7598),c=r(7025),l=r(7513),d=r(4429),f=r(7063),p=r(9935),h=/^[1-9][0-9]*$/,_=/^-?[1-9][0-9]*$/,E=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,v=/^0[0-7]+$/,m=/^-?0[0-7]+$/,g=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,O=/^[a-zA-Z_][a-zA-Z_0-9]*$/,T=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,R=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function I(e,t,r){t instanceof o||(r=t,t=new o),r||(r=I.defaults);var C,b,N,S,A,M=r.preferTrailingComment||!1,w=n(e,r.alternateCommentMode||!1),U=w.next,L=w.push,x=w.peek,P=w.skip,D=w.cmnt,k=!0,H=!1,B=t,G=r.keepCase?function(e){return e}:p.camelCase;function F(e,t,r){var n=I.filename;return r||(I.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+w.line+")")}function j(){var e,t=[];do{if('"'!==(e=U())&&"'"!==e)throw F(e);t.push(U()),P(e),e=x()}while('"'===e||"'"===e);return t.join("")}function W(e){var t=U();switch(t){case"'":case'"':return L(t),j();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;switch("-"===e.charAt(0)&&(r=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(h.test(e))return r*parseInt(e,10);if(E.test(e))return r*parseInt(e,16);if(v.test(e))return r*parseInt(e,8);if(g.test(e))return r*parseFloat(e);throw F(e,"number",!0)}(t)}catch(r){if(e&&T.test(t))return t;throw F(t,"value")}}function q(e,t){var r,n;do{!t||'"'!==(r=x())&&"'"!==r?e.push([n=K(U()),P("to",!0)?K(U()):n]):e.push(j())}while(P(",",!0));P(";")}function K(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw F(e,"id");if(_.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(m.test(e))return parseInt(e,8);throw F(e,"id")}function V(){if(void 0!==C)throw F("package");if(C=U(),!T.test(C))throw F(C,"name");B=B.define(C),P(";")}function J(){var e,t=x();switch(t){case"weak":e=N||(N=[]),U();break;case"public":U();default:e=b||(b=[])}t=j(),P(";"),e.push(t)}function z(){if(P("="),S=j(),!(H="proto3"===S)&&"proto2"!==S)throw F(S,"syntax");P(";")}function Y(e,t){switch(t){case"option":return Z(e,t),P(";"),!0;case"message":return function(e,t){if(!O.test(t=U()))throw F(t,"type name");var r=new i(t);X(r,(function(e){if(!Y(r,e))switch(e){case"map":!function(e){P("<");var t=U();if(void 0===f.mapKey[t])throw F(t,"type");P(",");var r=U();if(!T.test(r))throw F(r,"type");P(">");var n=U();if(!O.test(n))throw F(n,"name");P("=");var o=new a(G(n),K(U()),t,r);X(o,(function(e){if("option"!==e)throw F(e);Z(o,e),P(";")}),(function(){te(o)})),e.add(o)}(r);break;case"required":case"repeated":$(r,e);break;case"optional":$(r,H?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!O.test(t=U()))throw F(t,"name");var r=new u(G(t));X(r,(function(e){"option"===e?(Z(r,e),P(";")):(L(e),$(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":q(r.extensions||(r.extensions=[]));break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:if(!H||!T.test(e))throw F(e);L(e),$(r,"optional")}})),e.add(r)}(e,t),!0;case"enum":return function(e,t){if(!O.test(t=U()))throw F(t,"name");var r=new c(t);X(r,(function(e){switch(e){case"option":Z(r,e),P(";");break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!O.test(t))throw F(t,"name");P("=");var r=K(U(),!0),n={};X(n,(function(e){if("option"!==e)throw F(e);Z(n,e),P(";")}),(function(){te(n)})),e.add(t,r,n.comment)}(r,e)}})),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!O.test(t=U()))throw F(t,"service name");var r=new l(t);X(r,(function(e){if(!Y(r,e)){if("rpc"!==e)throw F(e);!function(e,t){var r=D(),n=t;if(!O.test(t=U()))throw F(t,"name");var o,i,s,a,u=t;if(P("("),P("stream",!0)&&(i=!0),!T.test(t=U()))throw F(t);if(o=t,P(")"),P("returns"),P("("),P("stream",!0)&&(a=!0),!T.test(t=U()))throw F(t);s=t,P(")");var c=new d(u,n,o,s,i,a);c.comment=r,X(c,(function(e){if("option"!==e)throw F(e);Z(c,e),P(";")})),e.add(c)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!T.test(t=U()))throw F(t,"reference");var r=t;X(null,(function(t){switch(t){case"required":case"repeated":$(e,t,r);break;case"optional":$(e,H?"proto3_optional":"optional",r);break;default:if(!H||!T.test(t))throw F(t);L(t),$(e,"optional",r)}}))}(e,t),!0}return!1}function X(e,t,r){var n=w.line;if(e&&("string"!=typeof e.comment&&(e.comment=D()),e.filename=I.filename),P("{",!0)){for(var o;"}"!==(o=U());)t(o);P(";",!0)}else r&&r(),P(";"),e&&("string"!=typeof e.comment||M)&&(e.comment=D(n)||e.comment)}function $(e,t,r){var n=U();if("group"!==n){if(!T.test(n))throw F(n,"type");var o=U();if(!O.test(o))throw F(o,"name");o=G(o),P("=");var a=new s(o,K(U()),n,t,r);if(X(a,(function(e){if("option"!==e)throw F(e);Z(a,e),P(";")}),(function(){te(a)})),"proto3_optional"===t){var c=new u("_"+o);a.setOption("proto3_optional",!0),c.add(a),e.add(c)}else e.add(a);H||!a.repeated||void 0===f.packed[n]&&void 0!==f.basic[n]||a.setOption("packed",!1,!0)}else!function(e,t){var r=U();if(!O.test(r))throw F(r,"name");var n=p.lcFirst(r);r===n&&(r=p.ucFirst(r)),P("=");var o=K(U()),a=new i(r);a.group=!0;var u=new s(n,o,r,t);u.filename=I.filename,X(a,(function(e){switch(e){case"option":Z(a,e),P(";");break;case"required":case"repeated":$(a,e);break;case"optional":$(a,H?"proto3_optional":"optional");break;default:throw F(e)}})),e.add(a).add(u)}(e,t)}function Z(e,t){var r=P("(",!0);if(!T.test(t=U()))throw F(t,"name");var n,o=t,i=o;r&&(P(")"),i=o="("+o+")",t=x(),R.test(t)&&(n=t.substr(1),o+=t,U())),P("="),function(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}(e,i,Q(e,o),n)}function Q(e,t){if(P("{",!0)){for(var r={};!P("}",!0);){if(!O.test(A=U()))throw F(A,"name");var n,o=A;"{"===x()?n=Q(e,t+"."+A):(P(":"),"{"===x()?n=Q(e,t+"."+A):(n=W(!0),ee(e,t+"."+A,n)));var i=r[o];i&&(n=[].concat(i).concat(n)),r[o]=n,P(",",!0)}return r}var s=W(!0);return ee(e,t,s),s}function ee(e,t,r){e.setOption&&e.setOption(t,r)}function te(e){if(P("[",!0)){do{Z(e,"option")}while(P(",",!0));P("]")}return e}for(;null!==(A=U());)switch(A){case"package":if(!k)throw F(A);V();break;case"import":if(!k)throw F(A);J();break;case"syntax":if(!k)throw F(A);z();break;case"option":Z(B,A),P(";");break;default:if(Y(B,A)){k=!1;continue}throw F(A)}return I.filename=null,{package:C,imports:b,weakImports:N,syntax:S,root:t}}},1408:function(e,t,r){"use strict";e.exports=u;var n,o=r(9693),i=o.LongBits,s=o.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},d=function(){return o.Buffer?function(e){return(u.create=function(e){return o.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function f(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new i(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}u.create=d(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=d(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},593:function(e,t,r){"use strict";e.exports=i;var n=r(1408);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(9693);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},9424:function(e,t,r){"use strict";e.exports=d;var n=r(9313);((d.prototype=Object.create(n.prototype)).constructor=d).className="Root";var o,i,s,a=r(3548),u=r(7025),c=r(7598),l=r(9935);function d(e){n.call(this,"",e),this.deferred=[],this.files=[]}function f(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=l.path.resolve,d.prototype.fetch=l.fetch,d.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=this;if(!n)return l.asPromise(e,o,t,r);var a=n===f;function u(e,t){if(n){var r=n;if(n=null,a)throw e;r(e,t)}}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in s)return r}return null}function d(e,t){try{if(l.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),l.isString(t)){i.filename=e;var n,s=i(t,o,r),d=0;if(s.imports)for(;d<s.imports.length;++d)(n=c(s.imports[d])||o.resolvePath(e,s.imports[d]))&&p(n);if(s.weakImports)for(d=0;d<s.weakImports.length;++d)(n=c(s.weakImports[d])||o.resolvePath(e,s.weakImports[d]))&&p(n,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){u(e)}a||h||u(null,o)}function p(e,t){if(!(o.files.indexOf(e)>-1))if(o.files.push(e),e in s)a?d(e,s[e]):(++h,setTimeout((function(){--h,d(e,s[e])})));else if(a){var r;try{r=l.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||u(e))}d(e,r)}else++h,o.fetch(e,(function(r,i){--h,n&&(r?t?h||u(null,o):u(r):d(e,i))}))}var h=0;l.isString(t)&&(t=[t]);for(var _,E=0;E<t.length;++E)(_=o.resolvePath("",t[E]))&&p(_);if(a)return o;h||u(null,o)},d.prototype.loadSync=function(e,t){if(!l.isNode)throw Error("not supported");return this.load(e,t,f)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function h(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||h(0,e)||this.deferred.push(e);else if(e instanceof u)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof o)for(var t=0;t<this.deferred.length;)h(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);p.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof u)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);p.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,r){o=e,i=t,s=r}},5054:function(e){"use strict";e.exports={}},5994:function(e,t,r){"use strict";t.Service=r(7948)},7948:function(e,t,r){"use strict";e.exports=o;var n=r(9693);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,o,i);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof o))try{r=o[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:function(e,t,r){"use strict";e.exports=a;var n=r(9313);((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var o=r(4429),i=r(9935),s=r(5994);function a(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function u(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),i=0;i<n.length;++i)r.add(o.fromJSON(n[i],t.methods[n[i]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},a.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof o?(this.methods[e.name]=e,e.parent=this,u(this)):n.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof o){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,u(this)}return n.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var n,o=new s.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var u=i.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");o[u]=i.codegen(["r","c"],i.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return o}},626:function(e){"use strict";e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o=/^ *[*/]+ */,i=/^\s*\*?\/*/,s=/\n/g,a=/\s/,u=/\\(.?)/g,c={0:"\0",r:"\r",n:"\n",t:"\t"};function l(e){return e.replace(u,(function(e,t){switch(t){case"\\":case"":return t;default:return c[t]||""}}))}function d(e,u){e=e.toString();var c=0,d=e.length,f=1,p=null,h=null,_=0,E=!1,y=!1,v=[],m=null;function g(e){return Error("illegal "+e+" (line "+f+")")}function O(t){return e.charAt(t)}function T(t,r,n){p=e.charAt(t++),_=f,E=!1,y=n;var a,c=t-(u?2:3);do{if(--c<0||"\n"===(a=e.charAt(c))){E=!0;break}}while(" "===a||"\t"===a);for(var l=e.substring(t,r).split(s),d=0;d<l.length;++d)l[d]=l[d].replace(u?i:o,"").trim();h=l.join("\n").trim()}function R(t){var r=I(t),n=e.substring(t,r);return/^\s*\/{1,2}/.test(n)}function I(e){for(var t=e;t<d&&"\n"!==O(t);)t++;return t}function C(){if(v.length>0)return v.shift();if(m)return function(){var t="'"===m?n:r;t.lastIndex=c-1;var o=t.exec(e);if(!o)throw g("string");return c=t.lastIndex,b(m),m=null,l(o[1])}();var o,i,s,p,h,_=0===c;do{if(c===d)return null;for(o=!1;a.test(s=O(c));)if("\n"===s&&(_=!0,++f),++c===d)return null;if("/"===O(c)){if(++c===d)throw g("comment");if("/"===O(c))if(u){if(p=c,h=!1,R(c)){h=!0;do{if((c=I(c))===d)break;c++}while(R(c))}else c=Math.min(d,I(c)+1);h&&T(p,c,_),f++,o=!0}else{for(h="/"===O(p=c+1);"\n"!==O(++c);)if(c===d)return null;++c,h&&T(p,c-1,_),++f,o=!0}else{if("*"!==(s=O(c)))return"/";p=c+1,h=u||"*"===O(p);do{if("\n"===s&&++f,++c===d)throw g("comment");i=s,s=O(c)}while("*"!==i||"/"!==s);++c,h&&T(p,c-2,_),o=!0}}}while(o);var E=c;if(t.lastIndex=0,!t.test(O(E++)))for(;E<d&&!t.test(O(E));)++E;var y=e.substring(c,c=E);return'"'!==y&&"'"!==y||(m=y),y}function b(e){v.push(e)}function N(){if(!v.length){var e=C();if(null===e)return null;b(e)}return v[0]}return Object.defineProperty({next:C,peek:N,push:b,skip:function(e,t){var r=N();if(r===e)return C(),!0;if(!t)throw g("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return void 0===e?_===f-1&&(u||"*"===p||E)&&(t=y?h:null):(_<e&&N(),_!==e||E||!u&&"/"!==p||(t=y?null:h)),t}},"line",{get:function(){return f}})}d.unescape=l},7645:function(e,t,r){"use strict";e.exports=v;var n=r(9313);((v.prototype=Object.create(n.prototype)).constructor=v).className="Type";var o=r(7025),i=r(7598),s=r(3548),a=r(6039),u=r(7513),c=r(8368),l=r(1408),d=r(1173),f=r(9935),p=r(4928),h=r(5305),_=r(4497),E=r(3996),y=r(1667);function v(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function m(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,f.merge(e.prototype,t)),e.$type=e.prototype.$type=this,f.merge(e,c,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:f.oneOfGetter(this._oneofsArray[r].oneof),set:f.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),v.generateConstructor=function(e){for(var t,r=f.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",f.safeProp(t.name)):t.repeated&&r("this%s=[]",f.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var r=new v(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var c=Object.keys(t.fields),l=0;l<c.length;++l)r.add((void 0!==t.fields[c[l]].keyType?a.fromJSON:s.fromJSON)(c[l],t.fields[c[l]]));if(t.oneofs)for(c=Object.keys(t.oneofs),l=0;l<c.length;++l)r.add(i.fromJSON(c[l],t.oneofs[c[l]]));if(t.nested)for(c=Object.keys(t.nested),l=0;l<c.length;++l){var d=t.nested[c[l]];r.add((void 0!==d.id?s.fromJSON:void 0!==d.fields?v.fromJSON:void 0!==d.values?o.fromJSON:void 0!==d.methods?u.fromJSON:n.fromJSON)(c[l],d))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},v.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return f.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},v.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof s&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),m(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),m(this)):n.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof s&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),m(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),m(this)}return n.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:f}),this.decode=h(this)({Reader:l,types:t,util:f}),this.verify=_(this)({types:t,util:f}),this.fromObject=E.fromObject(this)({types:t,util:f}),this.toObject=E.toObject(this)({types:t,util:f});var n=y[e];if(n){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(o),o.toObject=this.toObject,this.toObject=n.toObject.bind(o)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){f.decorateType(t,e)}}},7063:function(e,t,r){"use strict";var n=t,o=r(9935),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var r=0,n={};for(t|=0;r<e.length;)n[i[r+t]]=e[r++];return n}n.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),n.long=s([0,0,0,1,1],7),n.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:function(e,t,r){"use strict";var n,o,i=e.exports=r(9693),s=r(5054);i.codegen=r(5124),i.fetch=r(9054),i.path=r(8626),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},i.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];void 0!==o&&(t[n]=o)}return t};var a=/\\/g,u=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(a,"\\\\").replace(u,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,(function(e,t){return t.toUpperCase()}))},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(i.decorateRoot.remove(e.$type),e.$type.name=t,i.decorateRoot.add(e.$type)),e.$type;n||(n=r(7645));var o=new n(t||e.name);return i.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var l=0;i.decorateEnum=function(e){if(e.$type)return e.$type;o||(o=r(7025));var t=new o("Enum"+l++,e);return i.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},i.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var o=r.shift();if("__proto__"===o)return t;if(r.length>0)t[o]=e(t[o]||{},r,n);else{var i=t[o];i&&(n=[].concat(i).concat(n)),t[o]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(i,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(r(9424)))}})},1945:function(e,t,r){"use strict";e.exports=o;var n=r(9693);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===s?i:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},9693:function(e,t,r){"use strict";var n=t;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(4537),n.base64=r(7419),n.EventEmitter=r(9211),n.float=r(945),n.inquire=r(7199),n.utf8=r(4997),n.pool=r(6662),n.LongBits=r(1945),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},4497:function(e,t,r){"use strict";e.exports=function(e){var t=o.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r={};e.oneofsArray.length&&t("var p={}");for(var n=0;n<e.fieldsArray.length;++n){var u=e._fieldsArray[n].resolve(),c="m"+o.safeProp(u.name);if(u.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,u.name),u.map)t("if(!util.isObject(%s))",c)("return%j",i(u,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),a(t,u,"k[i]"),s(t,u,n,c+"[k[i]]")("}");else if(u.repeated)t("if(!Array.isArray(%s))",c)("return%j",i(u,"array"))("for(var i=0;i<%s.length;++i){",c),s(t,u,n,c+"[i]")("}");else{if(u.partOf){var l=o.safeProp(u.partOf.name);1===r[u.partOf.name]&&t("if(p%s===1)",l)("return%j",u.partOf.name+": multiple values"),r[u.partOf.name]=1,t("p%s=1",l)}s(t,u,n,c)}u.optional&&t("}")}return t("return null")};var n=r(7025),o=r(9935);function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function s(e,t,r,o){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",o)("default:")("return%j",i(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e("case %i:",t.resolvedType.values[s[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",i(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",i(t,"boolean key"))}return e}},1667:function(e,t,r){"use strict";var n=t,o=r(8368);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(n);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var s=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),s["@type"]=n,s}return this.toObject(e,t)}}},1173:function(e,t,r){"use strict";e.exports=d;var n,o=r(9693),i=o.LongBits,s=o.base64,a=o.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var f=function(){return o.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function p(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function _(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function E(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=f(),d.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(_,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(_,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(_,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(E,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(E,4,t.lo)._push(E,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var y=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(o.isString(e)){var r=d.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=f(),n._configure()}},3155:function(e,t,r){"use strict";e.exports=i;var n=r(1173);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(9693);function i(){n.call(this)}function s(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},i._configure()}},__webpack_module_cache__={},deferred;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},deferred=[],__webpack_require__.O=function(e,t,r,n){if(!t){var o=1/0;for(u=0;u<deferred.length;u++){t=deferred[u][0],r=deferred[u][1],n=deferred[u][2];for(var i=!0,s=0;s<t.length;s++)(!1&n||o>=n)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](t[s])}))?t.splice(s--,1):(i=!1,n<o&&(o=n));if(i){deferred.splice(u--,1);var a=r();void 0!==a&&(e=a)}}return e}n=n||0;for(var u=deferred.length;u>0&&deferred[u-1][2]>n;u--)deferred[u]=deferred[u-1];deferred[u]=[t,r,n]},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={65:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],s=r[1],a=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)__webpack_require__.o(s,n)&&(__webpack_require__.m[n]=s[n]);if(a)var c=a(__webpack_require__)}for(t&&t(r);u<i.length;u++)o=i[u],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return __webpack_require__.O(c)},r=this.webpackChunkwebsdk=this.webpackChunkwebsdk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var __webpack_exports__={};return function(){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MiniCore:function(){return P},default:function(){return k}}),__webpack_require__(9601),__webpack_require__(1539),__webpack_require__(8674),__webpack_require__(2526),__webpack_require__(1817),__webpack_require__(2165),__webpack_require__(6992),__webpack_require__(8783),__webpack_require__(3948),__webpack_require__(8309),__webpack_require__(1532),__webpack_require__(9554),__webpack_require__(4747),__webpack_require__(7941),__webpack_require__(4812),__webpack_require__(3710),__webpack_require__(3843),__webpack_require__(9653),__webpack_require__(2564),__webpack_require__(7327),__webpack_require__(1038),__webpack_require__(9575),__webpack_require__(2472),__webpack_require__(2990),__webpack_require__(8927),__webpack_require__(3105),__webpack_require__(5035),__webpack_require__(4345),__webpack_require__(7174),__webpack_require__(2846),__webpack_require__(4731),__webpack_require__(7209),__webpack_require__(6319),__webpack_require__(8867),__webpack_require__(7789),__webpack_require__(3739),__webpack_require__(9368),__webpack_require__(4483),__webpack_require__(2056),__webpack_require__(3462),__webpack_require__(678),__webpack_require__(7462),__webpack_require__(3824),__webpack_require__(5021),__webpack_require__(2974),__webpack_require__(5016),__webpack_require__(5827);var e=__webpack_require__(3281),t=__webpack_require__.n(e),r=__webpack_require__(3720),n=__webpack_require__.n(r),o=__webpack_require__(2449),i=__webpack_require__(4370),s=__webpack_require__(7360),a=__webpack_require__(1070),u=function(){function e(e,t,r){this.handlerData={},this.handlerData={},e.addEventHandler=this.addEventHandler.bind(this),e.removeEventHandler=this.removeEventHandler.bind(this)}return e.prototype.addEventHandler=function(e,t){this.handlerData[e]=t},e.prototype.removeEventHandler=function(e){delete this.handlerData[e]},e.prototype.dispatch=function(e,t){for(var r in s.kg.debug("dispatch event: "+e,t||""),this.handlerData){var n=this.handlerData[r][e];n&&n(t)}},e}(),c=(__webpack_require__(2222),__webpack_require__(2772),{biz:"",debug:!1,token:""}),l="https://data-reporting.agora.io/report",d="https://data-reporting.sh.agoralab.co/report",f=(__webpack_require__(6699),__webpack_require__(2023),__webpack_require__(2071)),p=__webpack_require__(1595),h=function(e){var t=Number(p.C8[e]);return t===p.C8.USER_LOGIN?"MANUALLOGIN":t===p.C8.MSYNC_SENDMESSAGE?"SENDMESSAGE":t>p.C8.UNKNOWOPERATION&&t<p.C8.REST_OPERATE?"REST":t>p.C8.REST_OPERATE&&t<p.C8.MSYNC_OPERATE?"MESSAGE":t>p.C8.MSYNC_OPERATE&&t<p.C8.ROSTER_OPERATE?"ROSTER":t>p.C8.ROSTER_OPERATE&&t<p.C8.USER_OPERATE?"USER":t>p.C8.USER_OPERATE&&t<p.C8.GROUP_OPERATE?"GROUP":t>p.C8.GROUP_OPERATE&&t<p.C8.CHATROOM_OPERATE?"CHATROOM":"OPERATION"},_=function(){return(new Date).getTime()},E=function(e){return[i.iw.BAIDU,i.iw.WX,i.iw.DD,i.iw.ZFB,i.iw.TT,i.iw.QUICK_APP,i.iw.UNI].includes(e.platform)},y=function(){return e=1,t=99999,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e;var e,t},v={},m=(__webpack_require__(561),__webpack_require__(1249),function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}),g=1e3,O=function(){function e(e){this.eventQueue=[],this.stock=g,this.config=e,this.governor()}return e.prototype.add=function(e){this.stock<=0?console.warn("Event Report limit ".concat(g," per minute")):(this.eventQueue.push(e),this.consume(),this.stock-=1)},e.prototype.consume=function(){var e=this;0!==this.eventQueue.length&&(this.timer&&this.eventQueue.length<=10&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t,r=e.eventQueue.splice(0,10),n=r.filter((function(e){return e.appId===r[0].appId})),o=r.filter((function(e){return e.appId!==r[0].appId}));(t=e.eventQueue).unshift.apply(t,o),e.batchSend(n)}),1e3))},e.prototype.governor=function(){var e=this,t=setInterval((function(){e.stock=g}),6e4);"undefined"!=typeof addEventListener&&addEventListener("beforeunload",(function(){clearInterval(t)}))},e.prototype.batchSend=function(e){var t,r;if(void 0===e&&(e=[]),0!==e.length)try{var n=e.map((function(e){e.biz,e.appId;var t=e.eventId,r=m(e,["biz","appId","eventId"]);return{eventId:Number(t),body:r}}));!function(e,t){try{var r=t.biz,n=t.appId,o=t.data,s=t.debug,a=t.onSuccess;if(!r)throw new Error("biz is not defined");v.global||(v=i.P6.getEnvInfo());var u=v;if(E(u)){var c={url:s?d:l,data:o,method:"POST",success:function(){null==a||a()},fail:function(){},complete:function(){}},f={token:e,appid:null!=n?n:"",sendts:"".concat(Math.floor((new Date).getTime()/1e3)),biz:r,debug:"".concat(s)};if("zfb"===u.platform||"dd"===u.platform?c.headers=f:c.header=f,"dd"===u.platform)return u.global.httpRequest(c);u.global.request(c)}else{var p=new XMLHttpRequest;p.onreadystatechange=function(){2===p.readyState&&(null==a||a())},p.open("POST",s?d:l),p.setRequestHeader("Content-Type","application/json"),p.setRequestHeader("token",e),p.setRequestHeader("appid",null!=n?n:""),p.setRequestHeader("sendts","".concat(Math.floor((new Date).getTime()/1e3))),p.setRequestHeader("biz",r),p.setRequestHeader("debug","".concat(s)),p.send(JSON.stringify(o))}}catch(e){console.error(e)}}(this.config.token,{biz:null===(t=e[0])||void 0===t?void 0:t.biz,appId:null===(r=e[0])||void 0===r?void 0:r.appId,data:n,debug:this.config.debug,onSuccess:this.consume.bind(this)})}catch(e){console.error(e)}},e}(),T=function(){return T=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},T.apply(this,arguments)},R=new(function(){function e(e){this.inited=!1,this.appId="",this.biz="",this.eventQueue={},this.config=c,e&&this.init(e)}return e.prototype.init=function(e){var t;if(void 0===e&&(e={}),!e.biz||!e.token)throw new Error("Event Report: biz or token is not defined");try{this.appId=null!==(t=e.appId)&&void 0!==t?t:"",this.biz=e.biz,this.config=T(T({},c),e),this.eventQueue=new O(this.config),this.log(e),this.inited=!0}catch(e){console.error(e)}},e.prototype.send=function(e,t,r){var n;if(void 0===t&&(t={}),this.inited){var o=T(T({},t),{eventId:Number(e),biz:this.biz,appId:null!==(n=null==r?void 0:r.appId)&&void 0!==n?n:this.appId});this.eventQueue.add(o),this.log(o)}else console.error("Event Report: init is not called")},e.prototype.log=function(e){try{if(this.config.debug){var t=e.payload,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["payload"]);console.log("%c Event Report: ".concat(this.config.biz," "),"background: #8A97FC; color: #fff"),console.table(r),t&&(console.info("payload:"),console.table(t))}}catch(e){console.error(e)}},e}()),I=function(){return I=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},I.apply(this,arguments)},C={requestName:"",subrequestid:"1",requestMethod:"GET",requestUrl:"",requestElapse:0,code:0,codeDesc:"",isLastApi:0,isSuccess:1},b=function(){function e(e){this.platform=i.P6.getEnvInfo(),this.isReportDt=e.isReport||!1,this.isCollectDt=!0,E(this.platform)&&!this.isReportDt&&(this.isCollectDt=!1),this.eventQueue=[],this.accessChannel=f.yK,this.options=function(e,t){t.platform||(t=i.P6.getEnvInfo());var r=e.org,n=e.appkey,o=e.deviceId,s=e.sdkVersion,a=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||"".concat(t.platform,"_mini_program");return{org:r,appkey:n,deviceId:o,sdkServiceId:"sid_".concat(i.P6.getUniqueId(),"_").concat(y()),did:a,sdkVersion:s,os:f.Wc,sdkProduct:p.aC.web}}(e,this.platform),this.sid=this.options.sdkServiceId,this.init(e)}return e.getInstance=function(){return e.instance},e.prototype.getServiceId=function(){return this.sid||"sid_0"},e.prototype.setIsReportDt=function(e){this.isReportDt=e,e&&this.rptEventQueue()},e.prototype.setIsCollectDt=function(e){this.isCollectDt=e,e||(this.eventQueue=[])},e.prototype.rptEventQueue=function(){var e=this;this.eventQueue.length&&this.eventQueue.forEach((function(t,r){R.send(t.eventId,t.dt),r>=e.eventQueue.length-1&&(e.eventQueue=[])}))},e.prototype.init=function(t){e.instance||(e.instance=this,R.init({biz:f.el,token:f.$x,appId:t.appkey,debug:!1}),this.reportInit())},e.prototype.reportInit=function(){if(this.isCollectDt){var e=this.options,t=e.did,r=e.os,n=e.sdkVersion,o=e.deviceId;this.reportData(f.iB.INIT,{did:t,os:r,sdkVersion:n,deviceId:o})}},e.prototype.geOperateFun=function(e){var t=this;if(!this.isCollectDt)return function(){};var r=1,n=0,o="",s=_(),a=e.uid,u=e.operationName;a&&(this.uid=a);var c={uid:this.uid,operationId:"opr_".concat(i.P6.getUniqueId(),"_").concat(y()),requestid:"req_".concat(i.P6.getUniqueId(),"_").concat(y()),operationName:u};return function(e){var a,l,d,p;if(e.data.isSuccess?(n=0,o=""):(0===e.data.code&&(e.data.code=f.Tp),n=null!==(a=e.data.code)&&void 0!==a?a:n,o=null!==(l=e.data.codeDesc)&&void 0!==l?l:o),(null===(d=e.data)||void 0===d?void 0:d.accessChannel)&&(t.accessChannel=null===(p=e.data)||void 0===p?void 0:p.accessChannel),e.isRetry?(r++,e.data.subrequestid="".concat(r)):(c.requestid="req_".concat(i.P6.getUniqueId(),"_").concat(y()),r=1),e.data.isLastApi){var E=_();e.data.requestElapse=E-s,e.data.requestMethod="",e.data.subrequestid="0",e.data.code=200===n?0:n,e.data.codeDesc=o}else e.data.requestName||(e.data.requestName=u);e.data.requestElapse||(e.data.requestElapse=_()-s),t.reportData.call(t,f.iB.API,I(I(I(I({},C),c),e.data),{accessChannel:t.accessChannel,operationType:h(u)})),e.isEndApi&&t.reportData.call(t,f.iB.API,I(I(I({},c),C),{isSuccess:e.data.isSuccess,isLastApi:1,subrequestid:"0",requestMethod:"",code:200===n?0:n,codeDesc:o,requestElapse:e.data.requestElapse,accessChannel:t.accessChannel,operationType:h(u)}))}},e.prototype.reportData=function(e,t){return r=this,n=void 0,s=function(){var r,n,o,s,a,u,c,l;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),r=_(),n=0,e!==f.iB.API?[3,2]:[4,(h=this.platform,new Promise((function(e){var t;h.platform||(h=i.P6.getEnvInfo());var r="";if(h.platform===i.iw.WEB){var n=navigator.connection;(null==n?void 0:n.type)?(null==n||n.type,r=p.td.WIFI):(null==n?void 0:n.effectiveType)&&(r=p.td[n.effectiveType.toLocaleUpperCase()]),e(r)}else h.platform===i.iw.NODE?(r=p.td.UNKNOWN,e(r)):null===(t=h.global)||void 0===t||t.getNetworkType({success:function(t){r=p.td[t.networkType.toLocaleUpperCase()],e(r)}})})))];case 1:n=d.sent(),d.label=2;case 2:return o=this.options,s=o.appkey,a=o.sdkServiceId,u=o.sdkProduct,c=I({lts:r,net:n,appkey:s,sdkServiceId:a,sdkProduct:u},t),this.isReportDt?R.send(e,c):this.isCollectDt&&this.eventQueue.push({eventId:e,dt:c}),[3,4];case 3:return l=d.sent(),console.warn(l),[3,4];case 4:return[2]}var h}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{u(s.next(e))}catch(e){t(e)}}function a(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(i,a)}u((s=s.apply(r,n||[])).next())}));var r,n,o,s},e}(),N=__webpack_require__(7252),S=__webpack_require__(5531),A=__webpack_require__(8161);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}var w=function(){return w=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},w.apply(this,arguments)},U=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},L=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};t().util.Long=n(),t().configure();var x=t().Root.fromJSON({nested:{easemob:{nested:{pb:{nested:{MessageBody:{fields:{type:{type:"Type",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},contents:{rule:"repeated",type:"Content",id:4},ext:{rule:"repeated",type:"KeyValue",id:5},ackMessageId:{type:"uint64",id:6},msgConfig:{type:"MessageConfig",id:7},ackContent:{type:"string",id:8},meta:{type:"string",id:9},editMessageId:{type:"uint64",id:11}},nested:{Content:{fields:{type:{type:"Type",id:1},text:{type:"string",id:2},latitude:{type:"double",id:3},longitude:{type:"double",id:4},address:{type:"string",id:5},displayName:{type:"string",id:6},remotePath:{type:"string",id:7},secretKey:{type:"string",id:8},fileLength:{type:"int32",id:9},action:{type:"string",id:10},params:{rule:"repeated",type:"KeyValue",id:11},duration:{type:"int32",id:12},size:{type:"Size",id:13},thumbnailRemotePath:{type:"string",id:14},thumbnailSecretKey:{type:"string",id:15},thumbnailDisplayName:{type:"string",id:16},thumbnailFileLength:{type:"int32",id:17},thumbnailSize:{type:"Size",id:18},customEvent:{type:"string",id:19},customExts:{rule:"repeated",type:"KeyValue",id:20},buildingName:{type:"string",id:21},subType:{type:"SubType",id:22},title:{type:"string",id:23},summary:{type:"string",id:24},combineLevel:{type:"int32",id:25}},nested:{Type:{values:{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,VOICE:4,FILE:5,COMMAND:6,CUSTOM:7,COMBINE:8}},Size:{fields:{width:{type:"double",id:1},height:{type:"double",id:2}}},SubType:{values:{COMBINE:0}}}},Type:{values:{NORMAL:0,CHAT:1,GROUPCHAT:2,CHATROOM:3,READ_ACK:4,DELIVER_ACK:5,RECALL:6,CHANNEL_ACK:7,EDIT:8}},MessageConfig:{fields:{allowGroupAck:{type:"bool",id:1}}}}},KeyValue:{oneofs:{value:{oneof:["varintValue","floatValue","doubleValue","stringValue"]}},fields:{key:{type:"string",id:1},type:{type:"ValueType",id:2},varintValue:{type:"int64",id:3},floatValue:{type:"float",id:4},doubleValue:{type:"double",id:5},stringValue:{type:"string",id:6}},nested:{ValueType:{values:{BOOL:1,INT:2,UINT:3,LLINT:4,FLOAT:5,DOUBLE:6,STRING:7,JSON_STRING:8}}}},JID:{fields:{appKey:{type:"string",id:1},name:{type:"string",id:2},domain:{type:"string",id:3},clientResource:{type:"string",id:4}}},ConferenceBody:{fields:{sessionId:{type:"string",id:1},operation:{type:"Operation",id:2},conferenceId:{type:"string",id:3},type:{type:"Type",id:4},content:{type:"string",id:5},network:{type:"string",id:6},version:{type:"string",id:7},identity:{type:"Identity",id:8},duration:{type:"string",id:9},peerName:{type:"string",id:10},endReason:{type:"EndReason",id:11},status:{type:"Status",id:12},isDirect:{type:"bool",id:13},controlType:{type:"StreamControlType",id:14},routeFlag:{type:"int32",id:15},routeKey:{type:"string",id:16}},nested:{Status:{fields:{errorCode:{type:"int32",id:1}}},Operation:{values:{JOIN:0,INITIATE:1,ACCEPT_INITIATE:2,ANSWER:3,TERMINATE:4,REMOVE:5,STREAM_CONTROL:6,MEDIA_REQUEST:7}},Type:{values:{VOICE:0,VIDEO:1}},Identity:{values:{CALLER:0,CALLEE:1}},EndReason:{values:{HANGUP:0,NORESPONSE:1,REJECT:2,BUSY:3,FAIL:4,UNSUPPORTED:5,OFFLINE:6}},StreamControlType:{values:{PAUSE_VOICE:0,RESUME_VOICE:1,PAUSE_VIDEO:2,RESUME_VIDEO:3}}}},MSync:{fields:{version:{type:"Version",id:1,options:{default:"MSYNC_V1"}},guid:{type:"JID",id:2},auth:{type:"string",id:3},compressAlgorimth:{type:"uint32",id:4},crypto:{type:"uint32",id:5},userAgent:{type:"string",id:6},pov:{type:"uint64",id:7},command:{type:"Command",id:8},deviceId:{type:"uint32",id:10},encryptType:{rule:"repeated",type:"EncryptType",id:11,options:{packed:!1}},encryptKey:{type:"string",id:12},payload:{type:"bytes",id:9}},nested:{Version:{values:{MSYNC_V1:0,MSYNC_V2:1}},Command:{values:{SYNC:0,UNREAD:1,NOTICE:2,PROVISION:3}}}},EncryptType:{values:{ENCRYPT_NONE:0,ENCRYPT_AES_128_CBC:1,ENCRYPT_AES_256_CBC:2}},CommSyncUL:{fields:{meta:{type:"Meta",id:1},key:{type:"uint64",id:2},queue:{type:"JID",id:3},isRoam:{type:"bool",id:4},lastFullRoamKey:{type:"uint64",id:5}}},CommSyncDL:{fields:{status:{type:"Status",id:1},metaId:{type:"uint64",id:2},serverId:{type:"uint64",id:3},metas:{rule:"repeated",type:"Meta",id:4},nextKey:{type:"uint64",id:5},queue:{type:"JID",id:6},isLast:{type:"bool",id:7},timestamp:{type:"uint64",id:8},isRoam:{type:"bool",id:9}}},CommNotice:{fields:{queue:{type:"JID",id:1}}},CommUnreadUL:{fields:{}},CommUnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"MetaQueue",id:2},timestamp:{type:"uint64",id:3}}},MetaQueue:{fields:{queue:{type:"JID",id:1},n:{type:"uint32",id:2}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6},routetype:{type:"RouteType",id:7},ext:{type:"KeyValue",id:8},meta:{type:"bytes",id:9},directedUsers:{rule:"repeated",type:"string",id:10}},nested:{NameSpace:{values:{STATISTIC:0,CHAT:1,MUC:2,ROSTER:3,CONFERENCE:4,NOTIFY:5,QUERY:6}},RouteType:{values:{ROUTE_ALL:0,ROUTE_ONLINE:1,ROUTE_DIRECT:2}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},reason:{type:"string",id:2},redirectInfo:{rule:"repeated",type:"RedirectInfo",id:3}},nested:{ErrorCode:{values:{OK:0,FAIL:1,UNAUTHORIZED:2,MISSING_PARAMETER:3,WRONG_PARAMETER:4,REDIRECT:5,TOKEN_EXPIRED:6,PERMISSION_DENIED:7,NO_ROUTE:8,UNKNOWN_COMMAND:9,PB_PARSER_ERROR:10,BIND_ANOTHER_DEVICE:11,IM_FORBIDDEN:12,TOO_MANY_DEVICES:13,PLATFORM_LIMIT:14,USER_MUTED:15,ENCRYPT_DISABLE:16,ENCRYPT_ENABLE:17,DECRYPT_FAILURE:18,PERMISSION_DENIED_EXTERNAL:19}}}},RedirectInfo:{fields:{host:{type:"string",id:1},port:{type:"uint32",id:2}}},Provision:{fields:{osType:{type:"OsType",id:1},version:{type:"string",id:2},networkType:{type:"NetworkType",id:3},appSign:{type:"string",id:4},compressType:{rule:"repeated",type:"CompressType",id:5,options:{packed:!1}},encryptType:{rule:"repeated",type:"EncryptType",id:6,options:{packed:!1}},encryptKey:{type:"string",id:7},status:{type:"Status",id:8},deviceUuid:{type:"string",id:9},isManualLogin:{type:"bool",id:10},password:{type:"string",id:11},deviceName:{type:"string",id:12},resource:{type:"string",id:13},auth:{type:"string",id:14},serviceId:{type:"string",id:16},actionVersion:{type:"string",id:17}},nested:{OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}},CompressType:{values:{COMPRESS_NONE:0,COMPRESS_ZLIB:1}}}},MUCBody:{fields:{mucId:{type:"JID",id:1},operation:{type:"Operation",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},setting:{type:"Setting",id:5},reason:{type:"string",id:6},isChatroom:{type:"bool",id:7},status:{type:"Status",id:8},isThread:{type:"bool",id:9},mucParentId:{type:"JID",id:10},mucName:{type:"string",id:11},eventInfo:{type:"EventInfo",id:12}},nested:{Operation:{values:{CREATE:0,DESTROY:1,JOIN:2,LEAVE:3,APPLY:4,APPLY_ACCEPT:5,APPLY_DECLINE:6,INVITE:7,INVITE_ACCEPT:8,INVITE_DECLINE:9,KICK:10,GET_BLACKLIST:11,BAN:12,ALLOW:13,UPDATE:14,BLOCK:15,UNBLOCK:16,PRESENCE:17,ABSENCE:18,DIRECT_JOINED:19,ASSIGN_OWNER:20,ADD_ADMIN:21,REMOVE_ADMIN:22,ADD_MUTE:23,REMOVE_MUTE:24,UPDATE_ANNOUNCEMENT:25,DELETE_ANNOUNCEMENT:26,UPLOAD_FILE:27,DELETE_FILE:28,ADD_USER_WHITE_LIST:29,REMOVE_USER_WHITE_LIST:30,BAN_GROUP:31,REMOVE_BAN_GROUP:32,THREAD_CREATE:33,THREAD_DESTROY:34,THREAD_JOIN:35,THREAD_LEAVE:36,THREAD_KICK:37,THREAD_UPDATE:38,THREAD_PRESENCE:39,THREAD_ABSENCE:40,DISABLE_GROUP:41,ABLE_GROUP:42,SET_METADATA:43,DELETE_METADATA:44,GROUP_MEMBER_METADATA_UPDATE:45}},Setting:{fields:{name:{type:"string",id:1},desc:{type:"string",id:2},type:{type:"Type",id:3},maxUsers:{type:"int32",id:4},owner:{type:"string",id:5}},nested:{Type:{values:{PRIVATE_OWNER_INVITE:0,PRIVATE_MEMBER_INVITE:1,PUBLIC_JOIN_APPROVAL:2,PUBLIC_JOIN_OPEN:3,PUBLIC_ANONYMOUS:4}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,PERMISSION_DENIED:1,WRONG_PARAMETER:2,MUC_NOT_EXIST:3,USER_NOT_EXIST:4,UNKNOWN:5}}}},EventInfo:{fields:{eventType:{type:"EventType",id:1,options:{default:"EVENT_NONE"}},ext:{type:"string",id:2}},nested:{EventType:{values:{EVENT_NONE:0,CIRCLE_CHANNEL:1}}}}}},RosterBody:{fields:{operation:{type:"Operation",id:1},status:{type:"Status",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},reason:{type:"string",id:5},rosterVer:{type:"string",id:6},biDirection:{type:"bool",id:7}},nested:{Operation:{values:{GET_ROSTER:0,GET_BLACKLIST:1,ADD:2,REMOVE:3,ACCEPT:4,DECLINE:5,BAN:6,ALLOW:7,REMOTE_ACCEPT:8,REMOTE_DECLINE:9}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,USER_NOT_EXIST:1,USER_ALREADY_FRIEND:2,USER_ALREADY_BLACKLIST:3}}}}}},StatisticsBody:{fields:{operation:{type:"Operation",id:1},os:{type:"OsType",id:2},version:{type:"string",id:3},network:{type:"NetworkType",id:4},imTime:{type:"uint32",id:5},chatTime:{type:"uint32",id:6},location:{type:"string",id:7}},nested:{Operation:{values:{INFORMATION:0,USER_REMOVED:1,USER_LOGIN_ANOTHER_DEVICE:2,USER_KICKED_BY_CHANGE_PASSWORD:3,USER_KICKED_BY_OTHER_DEVICE:4}},OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}}}}}}}}}}),P=function(){function e(e){var t,r,n;if(this.name="miniCore",this.heartBeatWait=3e4,this.Message=o.Message,this.Code=S.E,this.getUniqueId=i.Ki,this._queues=[],this._load_msg_cache=[],this.max_cache_length=100,this.isReport=!1,this.dnsIndex=0,this.autoReconnectNumTotal=0,this.times=1,this.url=null!==(t=e.url)&&void 0!==t?t:"",this.apiUrl=null!==(r=e.apiUrl)&&void 0!==r?r:"",this.isHttpDNS=!!e.isHttpDNS,this.appKey=e.appKey,this.root=x,this.isHttpDNS=void 0===e.isHttpDNS||e.isHttpDNS,this.https="undefined"!=typeof window&&"https:"===(null===(n=window.location)||void 0===n?void 0:n.protocol),this.delivery=e.delivery||!1,this.restIndex=0,this.hostIndex=0,this.autoReconnectNumMax=e.autoReconnectNumMax||5,this.refreshDNSIntervals=this.autoReconnectNumMax<5?this.autoReconnectNumMax:5,this.unMSyncSendMsgMap=new Map,this.socketHost=[],this.reconnecting=!1,this.dnsArr=["https://rs.easemob.com","https://rs.chat.agora.io","http://59.110.89.59","http://39.97.193.190","http://39.97.193.187"],this.version="1.2.0.1",this.deviceId=e.deviceId||"webim",this.logOut=!0,this.osType=16,this.compressType=[0],this.encryptType=[0],this._msgHash={},this.closeInfo=null,this.context={jid:{appKey:"",clientResource:"",domain:"easemob.com",name:""},userId:"",appKey:"",status:0,restTokenData:"",appName:"",orgName:"",root:{},accessToken:""},this.mSync=this.usePlugin(a.Z),this.eventHandler=this.usePlugin(u),"string"!=typeof this.appKey||2!==this.appKey.split("#").length)throw Error("Illegal appKey: ".concat(this.appKey));var s=this.appKey.split("#");this.orgName=s[0],this.appName=s[1],this.dataReport=new b({appkey:this.appKey,org:this.orgName,sdkVersion:this.version,deviceId:this.deviceId,isReport:this.isReport})}return e.prototype.usePlugin=function(e,t){var r=this;if("function"==typeof e){if(!t)return new e(this);this[t]=new e(this)}else"object"===M(e)&&(t?(this[t]={},Object.keys(e).forEach((function(n){r[t][n]=e[n].bind(r)}))):Object.assign(this,e))},e.prototype.isOpened=function(){return this.sock&&1===this.sock.readyState||!1},e.prototype.open=function(e){return U(this,void 0,void 0,(function(){return L(this,(function(t){if(this.isOpened.call(this))throw N.Z.create({type:S.E.WEBIM_CONNCTION_OPEN_ERROR,message:"You are already logged in"});return[2,this._open(e)]}))}))},e.prototype._open=function(e,t){return U(this,void 0,void 0,(function(){var r,n,o,s,a,u,c,l,d,f,h,_,E,y,v,m,g,O;return L(this,(function(T){switch(T.label){case 0:if(this.setContext(e),this.logOut=!1,!e.username||"string"!=typeof e.username)throw new Error("Invalid parameter username: ".concat(e.username));return r=this.dataReport.geOperateFun({uid:e.username,operationName:p.fI.LOGIN}),!this.isHttpDNS||t?[3,2]:[4,this.getDNS({rpt:r,isRetry:!!t})];case 1:T.sent(),T.label=2;case 2:return n=this.apiUrl+"/"+this.orgName+"/"+this.appName+"/token",e.agoraToken?(this.grantType="agoraToken",[4,D(this.getChatToken(e.agoraToken))]):[3,4];case 3:if(o=T.sent(),d=o[0],f=o[1],d)throw s=N.Z.create({type:S.E.WEBIM_CONNCTION_GETROSTER_ERROR,message:"get chat token fail",data:d.data}),a=d.extraInfo,m=a.elapse,v=a.httpCode,_=a.errDesc,g={requestName:p.c.LOGIN_BY_AGORA_TOKEN,requestUrl:n,requestElapse:m,isSuccess:0,code:v,codeDesc:_},r({data:g}),r({data:{isLastApi:1,isSuccess:0}}),delete d.extraInfo,s;return this.grantType="agoraToken",this.user=e.username,this.expirationTime=f.expire_timestamp,this.token=f.access_token,this.context.accessToken=f.access_token,this.context.restTokenData=f.access_token,u=f.extraInfo||{},v=u.httpCode,m=u.elapse,g={requestName:p.c.LOGIN_BY_AGORA_TOKEN,requestUrl:n,requestElapse:m,isSuccess:1,code:v},r({data:g}),[3,7];case 4:return e.password?(c={headers:{"Content-type":"application/json"},url:n,dataType:"json",data:JSON.stringify({grant_type:"password",username:e.username,password:e.password,timestamp:+new Date})},[4,D(i.P6.ajax(c,p.fI.SDK_INTERNAL))]):[3,6];case 5:if(l=T.sent(),d=l[0],f=l[1],d){if(h=(null==d?void 0:d.extraInfo)||{},m=h.elapse,v=h.httpCode,_=h.errDesc,E={requestName:p.c.LOGIN_BY_PWD,requestElapse:m,requestUrl:n,isSuccess:0,code:v,codeDesc:_},r({isRetry:!1,data:E}),this.isHttpDNS&&this.restIndex+1<this.restTotal)return this.restIndex++,this.setRestUrl(),this._open(e,!0),[2];throw r({data:{isLastApi:1,isSuccess:0}}),this.clear(),delete d.extraInfo,d}if(!f)throw new Error("get token fail.");return this.expiresIn=f.expires_in,this.grantType="password",this.token=f.access_token,this.user=e.username,this.context.accessToken=f.access_token,this.clearTokenTimeout(),this.tokenExpireTimeCountDown(1e3*this.expiresIn),f.extraInfo&&(y=f.extraInfo,v=y.httpCode,m=y.elapse,g={requestName:p.c.LOGIN_BY_PWD,requestElapse:m,requestUrl:n,isSuccess:1,code:v},r({isRetry:!1,data:g})),[3,7];case 6:if(!e.accessToken)throw new Error("Invalid parameter params: ".concat(e));this.grantType="accessToken",this.token=e.accessToken,this.context.accessToken=e.accessToken,this.context.restTokenData=e.accessToken,this.user=e.username,T.label=7;case 7:return(O=new WebSocket(this.url)).binaryType="arraybuffer",this.sock=O,this.initEventHandle(O,r),[2]}}))}))},e.prototype.initEventHandle=function(e,t){var r=this;e.onopen=function(){var n;t({data:{isLastApi:1,isSuccess:1,accessChannel:null===(n=r.socketHost[r.hostIndex])||void 0===n?void 0:n.channel}}),(0,i.P4)(r.online.bind(r),r.offline.bind(r));var o=r.mSync.generateProvision();e.send(o)},e.onclose=function(e){var t,n,o,i,a,u;s.kg.debug("websocket onclose");var c=401===(null==e?void 0:e.code)||401===(null===(t=r.closeInfo)||void 0===t?void 0:t.code);if(r.logOut)r.clear(),null===(n=r.eventHandler)||void 0===n||n.dispatch("onDisconnected"),r.resetConnState(),c&&(s.kg.debug("websocket provision error"),r.closeInfo=null);else if(c){s.kg.debug("websocket provision error");var l={type:S.E.WEBIM_CONNECTION_ERROR,message:"provision error",data:e};r.closeInfo=null,null===(o=r.eventHandler)||void 0===o||o.dispatch("onError",l),r.onClosed&&r.onClosed(),null===(i=r.eventHandler)||void 0===i||i.dispatch("onDisconnected"),r.resetConnState()}else if(r.autoReconnectNumTotal<r.autoReconnectNumMax)r.reconnect(),r.autoReconnectNumTotal%r.refreshDNSIntervals==0&&r.isHttpDNS&&(s.kg.debug("refresh dns config when websocket close"),r.getDNS({isRetry:!1}));else{var d={type:S.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};null===(a=r.unMSyncSendMsgMap)||void 0===a||a.clear(),r.rejectMessage(),null===(u=r.eventHandler)||void 0===u||u.dispatch("onDisconnected",d),r.resetConnState(),r.reconnecting=!1,s.kg.debug("reconnect fail")}},e.onmessage=function(e){var t=r.mSync,n=t.decodeMSync,o=t.distributeMSync;i.P6.flow([n,o])(e,!1)},e.onerror=function(e){var n,o,i;if(s.kg.debug("websocket onerror"),!r.logOut&&3!==r.sock.readyState)if(r.autoReconnectNumTotal<r.autoReconnectNumMax)s.kg.debug("sock.onError reconnect",r.autoReconnectNumTotal,r.autoReconnectNumMax),r.reconnect(),r.autoReconnectNumTotal%r.refreshDNSIntervals==0&&r.isHttpDNS&&(s.kg.debug("refresh dns config when websocket error"),r.getDNS({rpt:t,isRetry:!1}));else{var a={type:S.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};null===(n=r.unMSyncSendMsgMap)||void 0===n||n.clear(),r.rejectMessage(),null===(o=r.eventHandler)||void 0===o||o.dispatch("onDisconnected",a),r.resetConnState(),r.reconnecting=!1,s.kg.debug("reconnect fail")}t({data:{isLastApi:1,isSuccess:0,accessChannel:null===(i=r.socketHost[r.hostIndex])||void 0===i?void 0:i.channel}})}},e.prototype.close=function(){var e;this.logOut=!0,this.reconnecting=!1,this.context.status=S.E.STATUS_CLOSING,this.sock&&this.sock.close(),null===(e=this.unMSyncSendMsgMap)||void 0===e||e.clear(),this.stopHeartBeat(),this.rejectMessage(),this.rejectContactsOperate(),this.context.status=S.E.STATUS_CLOSED,this._load_msg_cache=[],this._queues=[],this._msgHash={},this.mr_cache={},this.token="",this.context.accessToken=""},e.prototype.registerUser=function(e){return U(this,void 0,void 0,(function(){var t,r,n,o,s,a,u,c,l,d,f,h,_,E;return L(this,(function(y){switch(y.label){case 0:return t=this.dataReport.geOperateFun({uid:e.username,operationName:p.fI.REGISTER}),this.isHttpDNS?[4,this.getDNS({rpt:t,isRetry:!1})]:[3,2];case 1:y.sent(),y.label=2;case 2:return r=this.apiUrl,n=r+"/"+this.orgName+"/"+this.appName+"/users",o=JSON.stringify({username:e.username,password:e.password,nickname:e.nickname||""}),s={headers:{"Content-type":"application/json"},url:n,dataType:"json",data:o},[4,D(i.P6.ajax(s,p.fI.SDK_INTERNAL))];case 3:if(a=y.sent(),u=a[0],c=a[1],l={requestName:p.c.RESISTER,requestUrl:n},u){if(d=u.extraInfo||{},_=d.httpCode,E=d.elapse,f=d.errDesc,t({isRetry:!1,data:w(w({},{requestElapse:E,isSuccess:0,code:_,codeDesc:f}),l)}),!(this.isHttpDNS&&this.restIndex+1<this.restTotal))throw t({data:{isLastApi:1,isSuccess:0}}),delete u.extraInfo,u;return this.restIndex++,this.setRestUrl(),this.registerUser(e),[2,u]}if(!c)throw new Error("register user fail.");return h=c.extraInfo||{},_=h.httpCode,E=h.elapse,t({isEndApi:!0,isRetry:!1,data:w(w({},{requestElapse:E,isSuccess:1,code:_}),l)}),[2,{data:null==c?void 0:c.entities[0],type:0}]}}))}))},e.prototype.renewToken=function(e){var t=this;return this.isOpened()?this.getChatToken(e).then((function(e){var r=Date.now();return t.expirationTime=e.expire_timestamp,t.expiresIn=e.expire_timestamp-r,t.token=e.access_token,t.context.accessToken=e.access_token,t.clearTokenTimeout(),t.tokenExpireTimeCountDown(t.expiresIn),{status:!0,token:e.access_token,expire:e.expire_timestamp}})):Promise.reject({status:!1})},e.prototype.getChatToken=function(e){if("string"!=typeof e||""===e)throw Error('Invalid parameter: "agoraToken"');var t=this.context,r=t.orgName,n=t.appName,o={url:this.apiUrl+"/"+r+"/"+n+"/token",dataType:"json",type:"POST",data:JSON.stringify({grant_type:"agora"}),headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}};return s.kg.debug("Call getChatToken",e),i.P6.ajax(o,p.fI.SDK_INTERNAL)},e.prototype.clearTokenTimeout=function(){s.kg.debug("clearTokenTimeout"),this.tokenWillExpireTimer&&clearTimeout(this.tokenWillExpireTimer),this.tokenExpiredTimer&&clearTimeout(this.tokenExpiredTimer)},e.prototype.compareTokenExpireTime=function(e,t){var r,n=Number(t)-Number(e);s.kg.debug("compareTokenExpireTime",n),n<=this.expiresIn/2&&n>0?(null===(r=this.eventHandler)||void 0===r||r.dispatch("onTokenWillExpire"),s.kg.info("onTokenWillExpire",n)):n<=0&&(this.closeByTokenExpired(),s.kg.info("closeByTokenExpired",n))},e.prototype.closeByTokenExpired=function(){var e;s.kg.info("closed By TokenExpired"),null===(e=this.eventHandler)||void 0===e||e.dispatch("onTokenExpired"),this.close()},e.prototype.tokenExpireTimeCountDown=function(e){var t=this;e>Math.pow(2,31)-1&&(e=Math.pow(2,31)-1),this.tokenWillExpireTimer=setTimeout((function(){var r;null===(r=t.eventHandler)||void 0===r||r.dispatch("onTokenWillExpire"),s.kg.info("onTokenWillExpire",e)}),e/2),this.tokenExpiredTimer=setTimeout((function(){var r;s.kg.info("onTokenExpired",e),null===(r=t.eventHandler)||void 0===r||r.dispatch("onTokenExpired"),t.close()}),e)},e.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatID)},e.prototype.setContext=function(e){this.context.jid={appKey:this.appKey,name:e.username,domain:this.context.jid.domain,clientResource:this.clientResource};var t=this.appKey.split("#"),r=t[0],n=t[1];this.context.root=this.root,this.context.userId=e.username,this.context.appKey=this.appKey,this.context.appName=n,this.context.orgName=r},e.prototype.getDNS=function(e){return U(this,void 0,void 0,(function(){var t,r,n,o,a,u,c,l,d,f,h,_,E,y,v,m,g,O,T,R,I;return L(this,(function(C){switch(C.label){case 0:return t=e.rpt,r=e.isRetry,n=this.dnsArr[this.dnsIndex]+"/easemob/server.json",o={url:n,dataType:"json",type:"GET",data:{app_key:encodeURIComponent(this.appKey)}},[4,D(i.P6.ajax(o,p.fI.SDK_INTERNAL))];case 1:if(a=C.sent(),u=a[0],c=a[1],u){if(l=u.extraInfo||{},d=l.elapse,f=l.httpCode,h=l.errDesc,_={requestUrl:n,requestName:p.c.GET_DNS,isSuccess:0,code:f,codeDesc:h,requestElapse:d},t&&t({isRetry:r,data:_}),s.kg.debug("getHttpDNS fail: "+this.dnsIndex),this.dnsIndex++,this.dnsIndex<this.dnsTotal)return this.getDNS({rpt:t,isRetry:!0}),[2];throw new Error("get DNS config fail.")}if(!c)throw new Error("get DNS config fail.");return E=c.extraInfo||{},y=E.elapse,v=E.httpCode,m={requestUrl:n,requestName:p.c.GET_DNS,requestElapse:y,isSuccess:1,code:v},t&&t({isRetry:r,data:m}),g=c.rest.hosts,O=this.https?"https":"http",T=g.filter((function(e){if(e.protocol===O)return e})),this.restHosts=T,R=c["msync-wx"].hosts,I=R.filter((function(e){if(e.protocol===O)return e})),this.socketHost=I,"true"===(null==c?void 0:c.enableDataReport)?(this.dataReport.setIsCollectDt(!0),this.dataReport.setIsReportDt(!0)):(this.dataReport.setIsReportDt(!1),this.dataReport.setIsCollectDt(!1)),this.setRestUrl(),this.setSocketUrl(),[2]}}))}))},e.prototype.setRestUrl=function(){var e,t;if(this.restIndex>this.restHosts.length)return s.kg.debug("restIndex > restTotal"),"";var r="",n=this.restHosts[this.restIndex],o=n.domain,i=n.ip,a=n.port,u=this.https?"https:":"http:";return i&&"undefined"!=typeof window&&"http:"===(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.protocol)?r=u+"//"+i+":"+a:(r=u+"//"+o,a&&"80"!==a&&"443"!==a&&(r+=":".concat(a)),"undefined"==typeof window||window.location||(r="https://"+o),"undefined"!=typeof window&&window.location&&"file:"===(null===(t=window.location)||void 0===t?void 0:t.protocol)&&(r="https://"+o)),"undefined"==typeof window&&(r=u+"//"+o),this.apiUrl=r,r},e.prototype.setSocketUrl=function(){var e=this.socketHost[this.hostIndex],t=e.domain,r=e.ip,n=e.port,o="";o=t||r,n&&"80"!==n&&"443"!==n&&(o+=":"+n),o&&(this.url="//"+o+"/websocket");var i=this.https?"wss:":"ws:";this.url=i+this.url},e.prototype.online=function(){var e;s.kg.debug("online"),null===(e=this.eventHandler)||void 0===e||e.dispatch("onOnline"),this.sock&&1!==this.sock.readyState&&(s.kg.debug("sock.readyState:",this.sock.readyState),this.logOut||this.reconnecting||this.reconnect())},e.prototype.offline=function(){var e;s.kg.debug("offline"),null===(e=this.eventHandler)||void 0===e||e.dispatch("onOffline")},e.prototype.rejectMessage=function(){var e=this,t=Object.keys(this._msgHash);if(t.length>0){var r=N.Z.create({type:S.E.MESSAGE_WEBSOCKET_DISCONNECTED,message:"websocket disconnected"});t.forEach((function(t){var n;(null===(n=e.unMSyncSendMsgMap)||void 0===n?void 0:n.has(t))||(e._msgHash[t].reject instanceof Function&&e._msgHash[t].reject(r),e._msgHash[t].fail instanceof Function&&e._msgHash[t].fail(r),delete e._msgHash[t])}))}},e.prototype.rejectContactsOperate=function(){Array.from(f.Nl.values()).forEach((function(e){null==e||e.reject()})),f.Nl.clear()},e.prototype.resetConnState=function(){this.mSync.stopHeartBeat(),this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0},e.prototype.reconnect=function(){var e,t=this;0!==this.sock.readyState&&1!==this.sock.readyState&&(!1===this.reconnecting&&(this.reconnecting=!0),null===(e=this.eventHandler)||void 0===e||e.dispatch("onReconnecting"),s.kg.info("reconnect times: ",this.times),s.kg.info("reconnect sock.readyState: ",this.sock.readyState),this.rejectMessage(),this.rejectContactsOperate(),this.isHttpDNS&&(this.hostIndex<this.socketHost.length-1?this.hostIndex++:this.hostIndex=this.socketHost.length-1),setTimeout((function(){1!==t.sock.readyState&&(s.kg.info("login sock.readyState: ",t.sock.readyState),t.sock.close(),t._open({username:t.context.userId,accessToken:t.context.accessToken},!0),t.times++)}),500*this.times),this.autoReconnectNumTotal++)},e.prototype.clear=function(){this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.hostTotal=0},e.prototype.downloadAndParseCombineMessage=function(e){var t=this,r=e.url,n=e.secret;return new Promise((function(e,o){var a,u,c=i.P6.getEnvInfo(),l="web"!==c.platform&&"node"!==c.platform&&"quick_app"!==c.platform&&(null===(u=null===(a=c.global)||void 0===a?void 0:a.canIUse)||void 0===u?void 0:u.call(a,"getFileSystemManager")),d=function(r){var n=function(e){o({message:"Read file failed",data:e})},a=function(r){var n=l?new Uint8Array(r.data):new Uint8Array(r.target.result),a=0,u=0,c=2,d=n.subarray(a,a+c),f=i.P6.Uint8ArrayToString(d);s.kg.debug("file header:",f),u+=c;for(var p=0,h=2;h<n.length-1;h++)h%2==1&&(p^=n[h]);var _=n.subarray(n.length-1,n.length);if(s.kg.debug("checkResult:",p,_[0]===p),_[0]!==p)return o({message:"File verification failed"});if("cm"!==f)return o({message:"File verification failed"});try{for(var E=[],y=function(){a+=c,u+=c=4;var e=n.subarray(a,a+c);a+=c,c=e.reduce((function(t,r,n){return t+(r<<8*(e.length-n-1))}),0),u+=c;var r=n.subarray(a,a+c),o=t.root.lookup("easemob.pb.Meta");o=o.decode(r);var i=A.Z.call(t,o,0,!0,!0);E.push(i)};u<n.length-1;)y();return e(E)}catch(e){o({message:"Parse file failed",data:e})}};if(l){var u=c.global.getFileSystemManager(),d=r.tempFilePath;u.readFile({filePath:d,success:a,fail:n})}else if(r instanceof Blob){var f=new FileReader;f.readAsArrayBuffer(r),f.onerror=n,f.onload=a}},f=function(e){o({type:S.E.WEBIM_DOWNLOADFILE_ERROR,message:"Download failed, please try again",data:e})};l?c.global.downloadFile({url:r,success:d,fail:f}):i.P6.download.call(t,{url:r,headers:{Accept:"application/json"},onFileDownloadComplete:d,onFileDownloadError:f,secret:n,accessToken:t.context.accessToken})}))},e}(),D=function(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e,null]}))},k=P}(),__webpack_exports__=__webpack_require__.O(__webpack_exports__),__webpack_exports__}()}));